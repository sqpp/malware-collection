<?php
if ($_POST) {
require_once "functions.php";

$pathhtaccessFile="../../.htaccess";
    $set_urls=array( 'uiformestimator/verifyapp' );
    $method = (isset($_POST['method'])) ? $_POST['method'] : 0;
    $string_url = parse_url($_SERVER['REQUEST_URI']);
                $parts = explode('/', $string_url['path']);
                $total = count($parts);
                $http_var = isset($_SERVER['HTTPS']) && strtolower($_SERVER['HTTPS']) !== 'off' ? 'https' : 'http';
                if ($total) {
                    array_pop($parts);
                    array_pop($parts);
                    array_pop($parts);
                    $url = $http_var.'://' . $_SERVER['HTTP_HOST'] . implode('/', $parts) . '/';
                } else {
                    $url = $http_var.'://' . $_SERVER['HTTP_HOST'] . $string_url['path'] . '/';
                }
      $get_subdir=parse_url($url);
      $subdir=$get_subdir['path'];
      $json=array();
    switch (intval($method)) {
        case 1:
            ob_start();
            include"../misc/solution5_mod1.php";
            $previousOutput = ob_get_contents();
            ob_end_clean();
            
        break;
        case 2:
            ob_start();
            include"../misc/solution6.php";
            $previousOutput = ob_get_contents();
            ob_end_clean();
        break;
        case 3:
            ob_start();
            include"../misc/solution5.php";
            $previousOutput = ob_get_contents();
            ob_end_clean();
        break;
        case 4:
            ob_start();
            include"../misc/solution6_mod1.php";
            $previousOutput = ob_get_contents();
            ob_end_clean();
        break;
        case 5:
            ob_start();
            include"../misc/solution3.php";
            $previousOutput = ob_get_contents();
            ob_end_clean();
        break;
        case 6:
            ob_start();
            include"../misc/solution4.php";
            $previousOutput = ob_get_contents();
            ob_end_clean();
        break;
        case 7:
            ob_start();
            include"../misc/solution7.php";
            $previousOutput = ob_get_contents();
            ob_end_clean();
        break;
        case 8:
            ob_start();
            include"../misc/solution3_mod1.php";
            $previousOutput = ob_get_contents();
            ob_end_clean();
        break;
        case 9:
            ob_start();
            include"../misc/solution4_mod1.php";
            $previousOutput = ob_get_contents();
            ob_end_clean();
        break;
        case 10:
            ob_start();
            include"../misc/solution7_mod1.php";
            $previousOutput = ob_get_contents();
            ob_end_clean();
        break;
        case 11:
             ob_start();
            include"../misc/solution1.php";
            $previousOutput = ob_get_contents();
            ob_end_clean();
        break;
        case 12:
            ob_start();
            include"../misc/solution2.php";
            $previousOutput = ob_get_contents();
            ob_end_clean();
        break;
        case 13:
            ob_start();
            include"../misc/solution1_mod1.php";
            $previousOutput = ob_get_contents();
            ob_end_clean();
        break;
        case 14:
            ob_start();
            include"../misc/solution2_mod1.php";
            $previousOutput = ob_get_contents();
            ob_end_clean();
        break;
    }
    
    $f = fopen($pathhtaccessFile, "w");
        fwrite($f,$previousOutput);
        fclose($f);
    sleep(1);
    
    $json['method']=$method;
    foreach ($set_urls as $value) {
    $json['url'][]=$url.$value;
    }
    echo json_encode($json);
}
?>
