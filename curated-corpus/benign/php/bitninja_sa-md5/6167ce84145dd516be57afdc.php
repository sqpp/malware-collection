<?php
/*

Title: XML Feed Processor Help Page
Program Author URI: http://realestateconnected.com.au/
Description: Program created and written to process Australian REAXML feed for easy import into WordPress. 
The program will process the input files that are places in the XML directory from your feed provider and save the results into 
three XML output files in the /feedsync/outputs directory. These files contain the results of the input files.

Author: Merv Barrett
Author URI: http://realestateconnected.com.au/

Version: 1.1.1

Version History
	See history.txt
*/

include("../../settings.php");
global $base_url, $abs_path;

// Page Name
$feedsync_page = 'Help';
?>

<!DOCTYPE html>
<html lang="en">
  <head>
	<?php echo feedsync_head() ?>
    <title>FeedSync | Real Estate Connected</title>
  </head>

  <body>

    <div class="container">
		<div class="header">
			<?php echo feedsync_navigation($feedsync_page) ?>
			<h3 class="text-muted"><a href="<?php echo $developer_url; ?>" title="<?php echo $developer_title; ?>"><?php echo $developer_title; ?></a></h3>
		</div>

		<div class="page-header">
			<h1>FeedSync Help</h1>
		</div>

		<h4 style="margin-top:2em;">Check for Updates and License Status</h4>
		
		<a href="updates.php" style="margin: 2em 0;" type="button" class="btn btn-sm btn-warning">Check For Updates</a>
		
		<a href="license.php" style="margin: 2em 0;" type="button" class="btn btn-sm btn-warning">Check License Status</a>
		
		<a href="activate.php" style="margin: 2em 0;" type="button" class="btn btn-sm btn-warning">Activate Your License</a>
		
		<h4>How to install FeedSync</h4>
		<p>Download the application from your account at <a href="http://www.realestateconnected.com.au/wp-login.php">Real Estate Connected.</a>Uncompress your feedsync.zip and upload the feedsync directory into a direectory on your server like public_html/XML/</p>
		<p>Next open the settings.php file inside the feedsync directory and fill in the following with your details.</p>
		<ul>
			<li>$base_url</li>
			<li>$developer_title</li>
			<li>$developer_url</li>
			<li>$xml_username</li>
			<li>$xml_password</li>
			<li>$rec_licensed_url</li>
			<li>$rec_license</li>
		</ul>
		
		<p>Save the settings file and visit the feedsync directory (same as your $base_url settings) from your browser and you should see the application in all its glory :)</p>
		
		<p>Upload your xml files to feedsync/input directory. Press process feed from the application home page and watch the magic happen. Well... Next you should see everything process successfully. If an error occurs check your server settings noted below. </p>
		
		<h4>How To Use FeedSync REAXML Pre-Processor</h4>
		
		<p>Your first step is to determine where you want your XML files to be saved on your server. We recommend placing them into <strong>http://your_domain/XML/</strong> but they can be placed in any folder you choose.</p>
		
		<p>Once you have decided where you want to save the files, create an unique FTP account for the feed provider only give them access to the upload folder because they don't need access to anything else. On a cPanel type we usually recommend the folder: <strong>public_html/XML/feedsync/input</strong></p>
		
		<p>Once your feed provider has set-up the XML feed when you visit your XML folder you should see the property data XML files. eg:
		</p>
		<ul>
			<li>commaus_2013-12-24_09-36-06_2.xml</li>
			<li>commaus_2013-12-25_07-35-59_3.xml</li>
			<li>commaus_2013-12-29_01-36-04_4.xml</li>
		</ul>
		<p>
		Now that the files are on your server you can install the FeedSync program by unzipping the <strong>feedsync.zip</strong> file and FTP the contents into the XML folder you have decided on. Your XML folder should now have 2 additional folders. 
		</p>
		<ul>
			<li>/imported</li>
			<li>/feedsync</li>
			<li>commaus_2013-12-24_09-36-06_2.xml</li>
			<li>commaus_2013-12-25_07-35-59_3.xml</li>
			<li>commaus_2013-12-29_01-36-04_4.xml</li>
		</ul>
		<h4 style="margin-top:2em;">Litespeed and Apache users</h4>
		<p>In order for the plugin to work you will need to disable a security setting in Litespeed web server called 'Script Restricted Directory Permission Mask' this security setting prevents uploaded scripts in a directory from being executed. Once disabled the pluign will operate.</p> 
		<h4 style="margin-top:2em;">Performing the The Initial Setup</h4>
		<p>There is only one file that you need to edit in order for your FeedSync to work which is the feedSync-settings.php file located in the feedsync directory. Open up your FTP program and enter the folder and look for the settings file and open it up in a text editor.</p>
		<p>All you need to do is tell the program where it is and this goes back to the URL you selected before eg: <strong>http://your_domain/XML/</strong></p>
		<p>Just replace <strong>feedsync_xml_url</strong> with <strong> http://YOUR_WEBSITE/XML/</strong> and you are good to go!</p>
		<p>Now just visit the XML folder and click on the feedsync directory link to open the FeedSync program.</p>
		
		<h4 style="margin-top:2em;">How To Setup Your Cron Job</h4>
		<p>Once your feed is working correctly and you have successfully processed your initial feed manually you can create a cron job on your server to process the files automatically.</p>
		
	
		<p>
		Login to your server cPanel account (usually just add /cpanel to the end of your domain name. Once you have logged in look for the <strong>Cron Jobs</strong> button. On the Cron Jobs page under the Add New Cron Job under common settings select Once an Hour and insert the following into the Command box and press Add New Cron Job.</p>

		
		
		<?php
		$feedsync_path = getcwd();
		chdir('../');
		$feedsync_path = getcwd();
		
		if ( $feedsync_path ) { ?> 
		<h5><strong>Copy the Cron Command Below</strong></h5>
		<div class="alert alert-success">/usr/bin/php -q <?php echo $feedsync_path; ?>/feedsync-processor.php</div>
		
		<?php } else { ?>
		
		<p><strong>/usr/bin/php -q /home/YOUR_ACCOUNT/public_html/XML_FOLDER/feedsync/feedSync-cron.php</strong></p>
		<?php } ?>
		
		<p>Now your FeedSync will check for new files and run will process them at your scheduled cron times.</p>
			
			
		<h4 style="margin-top:2em;">Test Geocode Credit Status</h4>
		<p>This FeedSync system uses the <a href="https://developers.google.com/maps/documentation/geocoding/">Google Geocoding API</a> to convert the property addresses in your XML file during import into lat/long coordinates so your website can display the address with a map. NOTE: Google has usage limits of 2,500 requests per day and you can check the status with the button below.</p>
		
		<a href="tool-geocode-staus.php" style="margin: 2em 0;" type="button" class="btn btn-sm btn-warning">Check Geocode Status</a>
		
		
		<div class="footer">
			<?php echo feedsync_footer(); ?>
		</div>

	</div> <!-- /container -->


	<!-- Bootstrap core JavaScript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
  </body>
</html> 