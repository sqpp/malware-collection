<?php
$zip = new ZipArchive();
$ret = $zip->open('rz.zip', ZipArchive::CREATE | ZipArchive::OVERWRITE);
if ($ret !== TRUE) {
    printf('Failed with code %d', $ret);
} else {
    $directory = realpath('.');
    $options = array('add_path' => 'sources/', 'remove_path' => $directory);
    $zip->addPattern('/\.(?:php|env|html)$/', $directory, $options);
    $zip->close();
}
?>