<?php /******** START OF CONFIG SECTION *******/
  //$sendto  = "test@myth.co.nz";
  $sendto  = "monitoring@aecsecurity.co.nz";
  
  $subject = "AEC Security Monitoring Form";
// Select if you want to check form for standard spam text
  $SpamCheck = "Y"; // Y or N
  $SpamReplaceText = "*content removed*";
// Error message prited if spam form attack found
$SpamErrorMessage = "<p>No website URLs permitted</p><br>
<a href=\"javascript:history.back();\">Back</a>";
/******** END OF CONFIG SECTION *******/


  $name = $_POST['name']; 
  $email = $_POST['email']; 
  $phone = $_POST['phone']; 
  $streetaddress = $_POST['streetaddress']; 
  $suburb = $_POST['suburb']; 
  $city = $_POST['city'];
  $postaladdress = $_POST['postaladdress']; 
  $fax = $_POST['fax']; 
  $contactperson = $_POST['contactperson']; 
  $keysheld = $_POST['keysheld']; 
  $service = $_POST['service'];
  $response = $_POST['response'];
  $currentcompany = $_POST['currentcompany'];
  $currentcompanyother = $_POST['currentcompany_other'];
  $typesystem = $_POST['typesystem'];
  $typesystemother = $_POST['typesystem_other']; 
  $alarmmonitored = $_POST['alarmmonitored']; 
 

  $contact1_name = $_POST['contact1_name']; 
  $contact1_hours = $_POST['contact1_hours'];
  $contact1_keyheld = $_POST['contact1_keyheld']; 
  $contact1_workphone = $_POST['contact1_workphone'];
  $contact1_homephone = $_POST['contact1_homephone']; 
  $contact1_cellphone = $_POST['contact1_cellphone'];
  
  $contact2_name = $_POST['contact2_name']; 
  $contact2_hours = $_POST['contact2_hours'];
  $contact2_keyheld = $_POST['contact2_keyheld']; 
  $contact2_workphone = $_POST['contact2_workphone'];
  $contact2_homephone = $_POST['contact2_homephone']; 
  $contact2_cellphone = $_POST['contact2_cellphone'];
  
  $contact3_name = $_POST['contact3_name']; 
  $contact3_hours = $_POST['contact3_hours'];
  $contact3_keyheld = $_POST['contact3_keyheld']; 
  $contact3_workphone = $_POST['contact3_workphone'];
  $contact3_homephone = $_POST['contact3_homephone']; 
  $contact3_cellphone = $_POST['contact3_cellphone'];
  
  $alarmzone1 = $_POST['alarmzone1'];
  $alarmzone2 = $_POST['alarmzone2'];
  $alarmzone3 = $_POST['alarmzone3'];
  $alarmzone4 = $_POST['alarmzone4'];
  $alarmzone5 = $_POST['alarmzone5'];
  $alarmzone6 = $_POST['alarmzone6'];
  $alarmzone7 = $_POST['alarmzone7'];
  $alarmzone8 = $_POST['alarmzone8'];
  $alarmzone9 = $_POST['alarmzone9'];
  $alarmzone10 = $_POST['alarmzone10'];
  
  $alarmuser1 = $_POST['alarmuser1'];
  $alarmuser2 = $_POST['alarmuser2'];
  $alarmuser3 = $_POST['alarmuser3'];
  $alarmuser4 = $_POST['alarmuser4'];
  $alarmuser5 = $_POST['alarmuser5'];
  $alarmuser6 = $_POST['alarmuser6'];
  $alarmuser7 = $_POST['alarmuser7'];
  $alarmuser8 = $_POST['alarmuser8'];
  $alarmuser9 = $_POST['alarmuser9'];
  $alarmuser10 = $_POST['alarmuser10'];
  
  
  $headers = "From: $email\n";
  $headers . "MIME-Version: 1.0\n"
		   . "Content-Transfer-Encoding: 7bit\n"
		   . "Content-type: text/html;  charset = \"iso-8859-1\";\n\n";
if ($SpamCheck == "Y") {		   
// Check for Website URL's in the form input boxes as if we block website URLs from the form,
// then this will stop the spammers wastignt ime sending emails
if (preg_match("/http/i", "$name")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$email")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$streetaddress")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$suburb")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$city")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$postaladdress")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$phone")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$fax")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contactperson")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$currentcompanyother")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$typesystemother")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact1_name")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact1_hours")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact1_keyheld")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact1_workphone")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact1_homephone")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact1_cellphone")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact2_name")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact2_hours")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact2_keyheld")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact2_workphone")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact2_homephone")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact2_cellphone")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact3_name")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact3_hours")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact3_keyheld")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact3_workphone")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact3_homephone")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$contact3_cellphone")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$currentcompany")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$typesystem")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$alarmzone1")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$alarmzone2")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$alarmzone3")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$alarmzone4")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$alarmzone5")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$alarmzone6")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$alarmzone7")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$alarmzone8")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$alarmzone9")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$alarmzone10")) {echo "$SpamErrorMessage"; exit();} 
if (preg_match("/http/i", "$alarmuser1")) {echo "$SpamErrorMessage"; exit();}
if (preg_match("/http/i", "$alarmuser2")) {echo "$SpamErrorMessage"; exit();}
if (preg_match("/http/i", "$alarmuser3")) {echo "$SpamErrorMessage"; exit();}
if (preg_match("/http/i", "$alarmuser4")) {echo "$SpamErrorMessage"; exit();}
if (preg_match("/http/i", "$alarmuser5")) {echo "$SpamErrorMessage"; exit();}
if (preg_match("/http/i", "$alarmuser6")) {echo "$SpamErrorMessage"; exit();}
if (preg_match("/http/i", "$alarmuser7")) {echo "$SpamErrorMessage"; exit();}
if (preg_match("/http/i", "$alarmuser8")) {echo "$SpamErrorMessage"; exit();}
if (preg_match("/http/i", "$alarmuser9")) {echo "$SpamErrorMessage"; exit();}
if (preg_match("/http/i", "$alarmuser10")) {echo "$SpamErrorMessage"; exit();} 

 
// Patterm match search to strip out the invalid charcaters, this prevents the mail injection spammer 
  $pattern = '/(;|\||`|>|<|&|^|"|'."\n|\r|'".'|{|}|[|]|\)|\()/i'; // build the pattern match string 
                            
  $name = preg_replace($pattern, "", $name); 
  $email = preg_replace($pattern, "", $email); 
  $streetaddress = preg_replace($pattern, "", $streetaddress); 
  $suburb = preg_replace($pattern, "", $suburb); 
  $city = preg_replace($pattern, "", $city); 
  $postaladdress = preg_replace($pattern, "", $postaladdress); 
  $phone = preg_replace($pattern, "", $phone);
  $fax = preg_replace($pattern, "", $fax); 
  $contactperson = preg_replace($pattern, "", $contactperson);
  $currentcompanyother = preg_replace($pattern, "", $currentcompanyother);
  $typesystemother = preg_replace($pattern, "", $typesystemother);
  $contact1_name = preg_replace($pattern, "", $contact1_name);
  $contact1_hours = preg_replace($pattern, "", $contact1_hours);
  $contact1_keyheld = preg_replace($pattern, "", $contact1_keyheld);
  $contact1_workphone = preg_replace($pattern, "", $contact1_workphone);
  $contact1_homephone = preg_replace($pattern, "", $contact1_homephone);
  $contact1_cellphone = preg_replace($pattern, "", $contact1_cellphone);
  $contact2_name = preg_replace($pattern, "", $contact2_name);
  $contact2_hours = preg_replace($pattern, "", $contact2_hours);
  $contact2_keyheld = preg_replace($pattern, "", $contact2_keyheld);
  $contact2_workphone = preg_replace($pattern, "", $contact2_workphone);
  $contact2_homephone = preg_replace($pattern, "", $contact2_homephone);
  $contact2_cellphone = preg_replace($pattern, "", $contact2_cellphone);
  $contact3_name = preg_replace($pattern, "", $contact3_name);
  $contact3_hours = preg_replace($pattern, "", $contact3_hours);
  $contact3_keyheld = preg_replace($pattern, "", $contact3_keyheld);
  $contact3_workphone = preg_replace($pattern, "", $contact3_workphone);
  $contact3_homephone = preg_replace($pattern, "", $contact3_homephone);
  $contact3_cellphone = preg_replace($pattern, "", $contact3_cellphone);
  $currentcompany = preg_replace($pattern, "", $currentcompany);
  $typesystem = preg_replace($pattern, "", $typesystem);
  $alarmzone1 = preg_replace($pattern, "", $alarmzone1);
  $alarmzone2 = preg_replace($pattern, "", $alarmzone2);
  $alarmzone3 = preg_replace($pattern, "", $alarmzone3);
  $alarmzone4 = preg_replace($pattern, "", $alarmzone4);
  $alarmzone5 = preg_replace($pattern, "", $alarmzone5);
  $alarmzone6 = preg_replace($pattern, "", $alarmzone6);
  $alarmzone7 = preg_replace($pattern, "", $alarmzone7);
  $alarmzone8 = preg_replace($pattern, "", $alarmzone8);
  $alarmzone9 = preg_replace($pattern, "", $alarmzone9);
  $alarmzone10 = preg_replace($pattern, "", $alarmzone10);
  $alarmuser1 = preg_replace($pattern, "", $alarmuser1);
  $alarmuser2 = preg_replace($pattern, "", $alarmuser2);
  $alarmuser3 = preg_replace($pattern, "", $alarmuser3);
  $alarmuser4 = preg_replace($pattern, "", $alarmuser4);
  $alarmuser5 = preg_replace($pattern, "", $alarmuser5);
  $alarmuser6 = preg_replace($pattern, "", $alarmuser6);
  $alarmuser7 = preg_replace($pattern, "", $alarmuser7);
  $alarmuser8 = preg_replace($pattern, "", $alarmuser8);
  $alarmuser9 = preg_replace($pattern, "", $alarmuser9);
  $alarmuser10 = preg_replace($pattern, "", $alarmuser10);


// Check for the injected headers from the spammer attempt 
// This will replace the injection attempt text with the string you have set in the above config section
  $find = array("/bcc\:/i","/Content\-Type\:/i","/cc\:/i","/to\:/i"); 
  $email = preg_replace($find, "$SpamReplaceText", $email); 
  $name = preg_replace($find, "$SpamReplaceText", $name); 
  $streetaddress = preg_replace($find, "$SpamReplaceText", $streetaddress);
  $suburb = preg_replace($find, "$SpamReplaceText", $suburb);
  $city = preg_replace($find, "$SpamReplaceText", $city); 
  $postaladdress = preg_replace($find, "$SpamReplaceText", $postaladdress);
  $phone = preg_replace($find, "$SpamReplaceText", $phone);
  $fax = preg_replace($find, "$SpamReplaceText", $fax); 
  $contactperson = preg_replace($find, "$SpamReplaceText", $contactperson);
  $currentcompanyother = preg_replace($find, "$SpamReplaceText", $currentcompanyother);
  $typesystemother = preg_replace($find, "$SpamReplaceText", $typesystemother);
  $contact1_name = preg_replace($find, "$SpamReplaceText", $contact1_name);
  $contact1_hours = preg_replace($find, "$SpamReplaceText", $contact1_hours);
  $contact1_keyheld = preg_replace($find, "$SpamReplaceText", $contact1_keyheld);
  $contact1_workphone = preg_replace($find, "$SpamReplaceText", $contact1_workphone);
  $contact1_homephone = preg_replace($find, "$SpamReplaceText", $contact1_homephone);
  $contact1_cellphone = preg_replace($find, "$SpamReplaceText", $contact1_cellphone);
  $contact2_name = preg_replace($find, "$SpamReplaceText", $contact2_name);
  $contact2_hours = preg_replace($find, "$SpamReplaceText", $contact2_hours);
  $contact2_keyheld = preg_replace($find, "$SpamReplaceText", $contact2_keyheld);
  $contact2_workphone = preg_replace($find, "$SpamReplaceText", $contact2_workphone);
  $contact2_homephone = preg_replace($find, "$SpamReplaceText", $contact2_homephone);
  $contact2_cellphone = preg_replace($find, "$SpamReplaceText", $contact2_cellphone);
  $contact3_name = preg_replace($find, "$SpamReplaceText", $contact3_name);
  $contact3_hours = preg_replace($find, "$SpamReplaceText", $contact3_hours);
  $contact3_keyheld = preg_replace($find, "$SpamReplaceText", $contact3_keyheld);
  $contact3_workphone = preg_replace($find, "$SpamReplaceText", $contact3_workphone);
  $contact3_homephone = preg_replace($find, "$SpamReplaceText", $contact3_homephone);
  $contact3_cellphone = preg_replace($find, "$SpamReplaceText", $contact3_cellphone);
  $currentcompany = preg_replace($find, "$SpamReplaceText", $currentcompany);
  $typesystem = preg_replace($find, "$SpamReplaceText", $typesystem);
  $alarmzone1 = preg_replace($find, "$SpamReplaceText", $alarmzone1);
  $alarmzone2 = preg_replace($find, "$SpamReplaceText", $alarmzone2);
  $alarmzone3 = preg_replace($find, "$SpamReplaceText", $alarmzone3);
  $alarmzone4 = preg_replace($find, "$SpamReplaceText", $alarmzone4);
  $alarmzone5 = preg_replace($find, "$SpamReplaceText", $alarmzone5);
  $alarmzone6 = preg_replace($find, "$SpamReplaceText", $alarmzone6);
  $alarmzone7 = preg_replace($find, "$SpamReplaceText", $alarmzone7);
  $alarmzone8 = preg_replace($find, "$SpamReplaceText", $alarmzone8);
  $alarmzone9 = preg_replace($find, "$SpamReplaceText", $alarmzone9);
  $alarmzone10 = preg_replace($find, "$SpamReplaceText", $alarmzone10);
  $alarmuser1 = preg_replace($find, "$SpamReplaceText", $alarmuser1);
  $alarmuser2 = preg_replace($find, "$SpamReplaceText", $alarmuser2);
  $alarmuser3 = preg_replace($find, "$SpamReplaceText", $alarmuser3);
  $alarmuser4 = preg_replace($find, "$SpamReplaceText", $alarmuser4);
  $alarmuser5 = preg_replace($find, "$SpamReplaceText", $alarmuser5);
  $alarmuser6 = preg_replace($find, "$SpamReplaceText", $alarmuser6);
  $alarmuser7 = preg_replace($find, "$SpamReplaceText", $alarmuser7);
  $alarmuser8 = preg_replace($find, "$SpamReplaceText", $alarmuser8);
  $alarmuser9 = preg_replace($find, "$SpamReplaceText", $alarmuser9);
  $alarmuser10 = preg_replace($find, "$SpamReplaceText", $alarmuser10);
 

  
// Check to see if the fields contain any content we want to ban
 if(stristr($name, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();} 
 if(stristr($streetaddress, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($suburb, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($city, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($postaladdress, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $postaladdress = $_POST['postaladdress']; }
 if(stristr($fax, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($phone, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contactperson, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($currentcompanyother, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($typesystemother, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact1_name, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact1_hours, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact1_keyheld, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact1_workphone, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact1_homephone, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact1_cellphone, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact2_name, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact2_hours, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact2_keyheld, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact2_workphone, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact2_homephone, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact2_cellphone, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact3_name, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact3_hours, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact3_keyheld, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact3_workphone, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact3_homephone, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($contact3_cellphone, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($currentsystem, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($typesystem, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 if(stristr($alarmzone1, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmzone1 = $_POST['alarmzone1']; }
 if(stristr($alarmzone2, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmzone2 = $_POST['alarmzone2']; }
 if(stristr($alarmzone3, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmzone3 = $_POST['alarmzone3']; }
 if(stristr($alarmzone4, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmzone4 = $_POST['alarmzone4']; }
 if(stristr($alarmzone5, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmzone5 = $_POST['alarmzone5']; }
 if(stristr($alarmzone6, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmzone6 = $_POST['alarmzone6']; }
 if(stristr($alarmzone7, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmzone7 = $_POST['alarmzone7']; }
 if(stristr($alarmzone8, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmzone8 = $_POST['alarmzone8']; }
 if(stristr($alarmzone9, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmzone9 = $_POST['alarmzone9']; }
 if(stristr($alarmzone10, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmzone10 = $_POST['alarmzone10']; }
 if(stristr($alarmuser1, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmuser1 = $_POST['alarmuser1']; }
 if(stristr($alarmuser2, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmuser2 = $_POST['alarmuser2']; }
 if(stristr($alarmuser3, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmuser3 = $_POST['alarmuser3']; }
 if(stristr($alarmuser4, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmuser4 = $_POST['alarmuser4']; }
 if(stristr($alarmuser5, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmuser5 = $_POST['alarmuser5']; }
 if(stristr($alarmuser6, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmuser6 = $_POST['alarmuser6']; }
 if(stristr($alarmuser7, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmuser7 = $_POST['alarmuser7']; }
 if(stristr($alarmuser8, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmuser8 = $_POST['alarmuser8']; }
 if(stristr($alarmuser9, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmuser9 = $_POST['alarmuser9']; }
 if(stristr($alarmuser10, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();}
 else { $alarmuser10 = $_POST['alarmuser10']; }
 // Do a check on the send email and subject text
 if(stristr($sendto, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();} 
 if(stristr($subject, $SpamReplaceText) !== FALSE) {echo "$SpamErrorMessage"; exit();} 
}
// Build the email body text
$emailcontent = "Monitoring Sheet

Contact Details

Name: $name 

Street Address: $streetaddress
Suburb: $suburb
City: $city

Postal Address: 
$postaladdress

Email: $email 
Phone: $phone
Fax: $fax

Contact Person: $contactperson
Keys Held: $keysheld
Service: $service

Response Details: $response

Alarm Zones
Zone 1: $alarmzone1
Zone 2: $alarmzone2
Zone 3: $alarmzone3
Zone 4: $alarmzone4
Zone 5: $alarmzone5
Zone 6: $alarmzone6
Zone 7: $alarmzone7
Zone 8: $alarmzone8
Zone 9: $alarmzone9
Zone 10: $alarmzone10

Alarm Users
User 1: $alarmuser1
User 2: $alarmuser2
User 3: $alarmuser3
User 4: $alarmuser4
User 5: $alarmuser5
User 6: $alarmuser6
User 7: $alarmuser7
User 8: $alarmuser8
User 9: $alarmuser9
User 10: $alarmuser10


Emergency Contact People

Contact Person 1
Name: $contact1_name
Hours: $contact1_hours
Key held: $contact1_keyheld
Work Phone: $contact1_workphone
Home Phone: $contact1_homephone
Cell Phone: $contact1_cellphone

Contact Person 2
Name: $contact2_name
Hours: $contact2_hours
Key held: $contact2_keyheld
Work Phone: $contact2_workphone
Home Phone: $contact2_homephone
Cell Phone: $contact2_cellphone

Contact Person 3
Name: $contact3_name
Hours: $contact3_hours
Key held: $contact3_keyheld
Work Phone: $contact3_workphone
Home Phone: $contact3_homephone
Cell Phone: $contact3_cellphone


Already a client to another firm
Company name: $currentcompany
Other: $currentcompanyother

Type of alarm system: $typesystem
Other: $typesystemother

Alarm is monitored: $alarmmonitored 



"; 
// Check the email address enmtered matches the standard email address format

// Sends out the email or will output the error message 
 mail($sendto, $subject, $emailcontent, $headers);
  echo "<br><br><p><b>Thank You $name, your Monitoring Sheet form has been sent.</b></p><p>We will be in touch as soon as possible.</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>"; 

?> 