#!/bin/bash

#find ../curated-corpus -type f | sed -e 's/.*\.//' | sed -e 's/.*\///' | sort | uniq -c | sort -rn

#find . -name '*' -exec file {} \; | grep -o -P '^.+: \w+ image'

find . -type f -name '*' -exec file -b --mime-encoding {} \;|awk '{print $1 $2}'|sort |uniq -c |sort -rn

# Remove binary files:
#find . -type f -name '*' -exec file --mime-encoding {} \;|grep "binary"|grep -o -P '^.+: \w+'|awk -F  ":" '{print $1}'|xargs rm $1

# Remove utf-8 files:
#find . -type f -name '*' -exec file --mime-encoding {} \;|grep "utf-8"|grep -o -P '^.+: \w+'|awk -F  ":" '{print $1}'|xargs rm $1
